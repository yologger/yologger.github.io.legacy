
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Yologger&#39;s Blog">
    <title>[Android] 컨텐트 프로바이더(Content Provider)와 컨텐트 리솔버(Content Resolver) - Yologger&#39;s Blog</title>
    <meta name="author" content="yologger">
    
    
        <link rel="icon" href="https://yologger.github.io/ko/assets/images/favicon.png">
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"yologger","sameAs":[]},"articleBody":"\n컨텐트 프로바이더와 컨텐트 리솔버다음과 같이 두 앱이 있다고 가정합시다.컨텐트 프로바이더(Content Provider)와 컨텐트 리솔버(Content Resolver)를 사용하면 다른 어플리캐이션의 데이터에 접근할 수 있습니다. 컨텐트 프로바이더가 정의된 앱을 서버 앱, 컨텐트 리솔버를 사용하는 앱을 클라이언트 앱이라고도 합니다.데이터를 제공하는 앱에서는 컨텐트 프로바이더를 구현합니다. 데이터를 사용하는 앱에서는 getContentResolver()를 호출하여 컨텐트 리솔버 객체에 접근할 수 있습니다. 이 객체를 사용하여 다른 앱에 데이터를 추가, 변경, 삭제, 조회할 수 있습니다.\n예제다음과 같은 예제를 만들며 컨텐트 프로바이더와 컨텐트 리솔버에 대해 알아보겠습니다.서버 앱에서는 데이터를 추가, 삭제, 탐색할 수 있습니다. 또한 컨텐트 프로바이더도 구현되어있습니다. \n클라이언트 앱은 버튼을 누르면 컨텐트 리솔버를 사용하여 데이터를 조회합니다. 이후 토스트 메시지로 조회한 데이터의 개수를 보여줍니다.\n\n서버 앱\n컨텐트 프로바이더 예제는 SQLite 포스트의 예제를 사용합니다. \n\n우선 데이터를 제공하는 앱에서 컨텐트 프로바이더를 구현합시다. 컨텐트 프로바이더는 ContentProvider클래스의 서브클래스입니다.\n1234567891011121314151617181920212223242526272829303132333435class ProductContentProvider : ContentProvider() &#123;    override fun delete(uri: Uri, selection: String?, selectionArgs: Array&lt;String&gt;?): Int &#123;        TODO(&quot;Implement this to handle requests to delete one or more rows&quot;)    &#125;    override fun getType(uri: Uri): String? &#123;        TODO(            &quot;Implement this to handle requests for the MIME type of the data&quot; +                    &quot;at the given URI&quot;        )    &#125;    override fun insert(uri: Uri, values: ContentValues?): Uri? &#123;        TODO(&quot;Implement this to handle requests to insert a new row.&quot;)    &#125;    override fun onCreate(): Boolean &#123;        TODO(&quot;Implement this to initialize your content provider on startup.&quot;)    &#125;    override fun query(        uri: Uri, projection: Array&lt;String&gt;?, selection: String?,        selectionArgs: Array&lt;String&gt;?, sortOrder: String?    ): Cursor? &#123;        TODO(&quot;Implement this to handle query requests from clients.&quot;)    &#125;    override fun update(        uri: Uri, values: ContentValues?, selection: String?,        selectionArgs: Array&lt;String&gt;?    ): Int &#123;        TODO(&quot;Implement this to handle requests to update one or more rows.&quot;)    &#125;&#125;\nContentProvider클래스를 구현하면 위와 같이 여섯 개의 메소드를 오버라이딩 해야합니다. \n또한 컨텐트 프로바이더는 안드로이드의 4대 컴포넌트 중 하나이므로 AndroidManifest.xml에 선언해야합니다.\n1234567891011121314151617181920212223242526&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;    package=&quot;com.yologger.sqlite&quot;&gt;    &lt;application android:allowBackup=&quot;true&quot;        android:icon=&quot;@mipmap/ic_launcher&quot;        android:label=&quot;@string/app_name&quot;        android:roundIcon=&quot;@mipmap/ic_launcher_round&quot;        android:supportsRtl=&quot;true&quot;        android:theme=&quot;@style/Theme.Sqlite&quot;&gt;        &lt;provider android:name=&quot;.ProductContentProvider&quot;            android:authorities=&quot;com.yologger.sqlite.ProductContentProvider&quot;            android:enabled=&quot;true&quot;            android:exported=&quot;true&quot;&gt;        &lt;/provider&gt;        &lt;activity android:name=&quot;.MainActivity&quot;&gt;            &lt;intent-filter&gt;                &lt;action android:name=&quot;android.intent.action.MAIN&quot; /&gt;                &lt;category android:name=&quot;android.intent.category.LAUNCHER&quot; /&gt;            &lt;/intent-filter&gt;        &lt;/activity&gt;    &lt;/application&gt;&lt;/manifest&gt;\n이때 컨텐트 프로바이더의 세 가지 속성 값을 지정해야합니다. \n\nenabled: 안드로이드 시스템에 의해 컨텐트 프로바이더의 인스턴스가 생성될 수 있는지 여부입니다. 이 값이 false면 시스템이 컨텐트 프로바이더 인스턴스를 생성할 수 없습니다. 따라서 값을 true로 설정합니다.\n\nexport: 다른 앱이 컨텐트 프로바이더를 사용할 수 있는지 여부입니다. 이 값이 false면 같은 앱에서만 컨텐트 프로바이더에 접근할 수 있습니다. 따라서 값을 true로 설정합니다.\n\nauthorities: 다른 앱이 컨텐트 프로바이더에 접근할 때 사용하는 주소입니다.\n\n\n이제 컨텐트 프로바이더의 메소드를 하나씩 구현해봅시다. \n(1) authority, URI 상수 정의모든 컨텐트 프로바이더는 authority와 콘텐트 URI을 가지고 있습니다. authority값은 콘텐트 제공자 클래스 자신의 완전한 패키지 이름을 사용합니다. 콘텐트 URI는 앱에 따라 달라질 수 있습니다. 여기서는 데이터베이스 테이블 이름인 product로 구성하겠습니다.\n1234567891011class ProductContentProvider : ContentProvider() &#123;    val AUTHORITY = &quot;com.yologger.sqlite.ProductContentProvider&quot;    val TABLE_PRODUCTS = &quot;products&quot;    val CONTENT_URI  = Uri.parse(&quot;content://$AUTHORITY/$TABLE_PRODUCTS&quot;)    val URL_MATCH_RESULT_PRODUCT = 1    val URL_MATCH_RESULT_PRODUCT_ID = 2    // ...&#125;\n\n(2) UriMatcher 구현하기컨텐트 리솔버는 Uri객체를 통해 컨텐트 프로바이더에 접근합니다. 컨텐트 프로바이더에서는 UriMatcher를 통해 컨텐트 리솔버를 구분합니다. \n123456789101112131415class ProductContentProvider : ContentProvider() &#123;    // ...    val URL_MATCH_RESULT_PRODUCT = 1    val URL_MATCH_RESULT_PRODUCT_ID = 2    val uriMatcher = UriMatcher(UriMatcher.NO_MATCH)    init &#123;        uriMatcher.addURI(AUTHORITY, TABLE_PRODUCTS, URL_MATCH_RESULT_PRODUCT)        uriMatcher.addURI(AUTHORITY, &quot;$TABLE_PRODUCTS/#&quot;, URL_MATCH_RESULT_PRODUCT_ID)    &#125;    // ...&#125;\n\n(3) onCreate()onCreate()에서는 초기화에 필요한 작업을 수행합니다. 여기서는 SQLite 관련 포스트에서 살펴본 SQLiteHelper클래스의 인스턴스와 SQLiteDatabase클래스의 인스턴스를 생성하겠습니다.\n1234567891011121314151617class ProductContentProvider : ContentProvider() &#123;    // ...    lateinit var dbHelper: DBHelper    lateinit var db: SQLiteDatabase    override fun onCreate(): Boolean &#123;        dbHelper = DBHelper(context!!, null, null, 1)        db = dbHelper.writableDatabase        return false    &#125;    // ...&#125;\n\n(4) insert()클라이언트 앱이 데이터 추가를 요청하면 콘텐트 프로바이더의 insert()가 호출됩니다. 우선 UriMatcher클래스를 사용하여 적절한 URI가 전달되었는지 확인합니다. 이후 데이터베이스에 값을 추가합니다. 마지막으로 컨텐트 리솔버에 데이터 추가 완료를 통보합니다.\n123456789101112131415161718192021override fun insert(uri: Uri, values: ContentValues?): Uri? &#123;    var uriType = uriMatcher.match(uri)    var id: Long = 0    when(uriType) &#123;        URL_MATCH_RESULT_PRODUCT -&gt; &#123;            // 데이터베이스에 데이터 추가            id = db.insert(DBHelper.TABLE_PRODUCTS, null, values)        &#125;        else -&gt; &#123;            throw IllegalArgumentException(&quot;Unknown URI: $&#123;uri&#125;&quot;)        &#125;    &#125;    // 컨텐트 리솔버에 데이터 추가를 알림    requireContext().contentResolver.notifyChange(uri, null)    return Uri.parse(&quot;TABLE_PRODUCTS/$&#123;id&#125;&quot;)&#125;\n\n(5) query()클라이언트 앱이 데이터 조회를 요청하면 컨텐트 프로바이더의 query()가 호출됩니다. 우선 UriMatcher클래스를 사용하여 적절한 URI가 전달되었는지 확인합니다. 이후 데이터베이스를 조회하면 Cursor클래스의 인스턴스가 반환됩니다. 이를 query()메소드의 반환값으로 전달합니다.\n123456789101112131415161718override fun query(    uri: Uri, projection: Array&lt;String&gt;?, selection: String?,    selectionArgs: Array&lt;String&gt;?, sortOrder: String?): Cursor? &#123;    var uriType = uriMatcher.match(uri)    when (uriType) &#123;        URL_MATCH_RESULT_PRODUCT -&gt; &#123;            val query = &quot;SELECT * FROM $&#123;DBHelper.TABLE_PRODUCTS&#125;&quot;            var cursor = db.rawQuery(query, null)            return cursor        &#125;        else -&gt; &#123;            throw IllegalArgumentException(&quot;Unknown URI&quot;)        &#125;    &#125;&#125;\n\n(6) delete()클라이언트 앱이 데이터 삭제를 요청하면 컨텐트 프로바이더의 delete()가 호출됩니다. 우선 UriMatcher클래스를 사용하여 적절한 URI가 전달되었는지 확인합니다. 이후 데이터베이스에서 데이터를 삭제하고, 삭제된 데이터의 개수를 반환합니다.\n1234567891011121314151617181920212223242526override fun delete(uri: Uri, selection: String?, selectionArgs: Array&lt;String&gt;?): Int &#123;    var uriType = uriMatcher.match(uri)    var db = dbHelper.writableDatabase    var rowsDeleted = 0    when(uriType) &#123;        URL_MATCH_RESULT_PRODUCT -&gt; &#123;            rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, selection,  selectionArgs)        &#125;        URL_MATCH_RESULT_PRODUCT_ID -&gt; &#123;            var id = uri.lastPathSegment            if (TextUtils.isEmpty(selection)) &#123;                rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, &quot;$&#123;DBHelper.COLUMN_ID&#125; = $id&quot;,  null)            &#125; else &#123;                rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, &quot;$&#123;DBHelper.COLUMN_ID&#125; = $id and $selection&quot;,  selectionArgs)            &#125;        &#125;        else -&gt; &#123;            throw IllegalArgumentException(&quot;Unknown URI: $&#123;uri&#125;&quot;)        &#125;    &#125;    requireContext().contentResolver.notifyChange(uri, null)    return rowsDeleted&#125;\n\n(7) update()클라이언트 앱이 데이터 변경를 요청하면 컨텐트 프로바이더의 update()가 호출됩니다. 우선 UriMatcher클래스를 사용하여 적절한 URI가 전달되었는지 확인합니다. 이후 데이터베이스의 데이터를 변경하고, 변경된 데이터의 개수를 반환합니다.\n12345678910111213141516171819202122232425262728override fun update(    uri: Uri, values: ContentValues?, selection: String?,    selectionArgs: Array&lt;String&gt;?): Int &#123;    var uriType = uriMatcher.match(uri)    var db = dbHelper.writableDatabase    var rowsUpdated = 0    when(uriType) &#123;        URL_MATCH_RESULT_PRODUCT -&gt; &#123;            rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  selection, selectionArgs)        &#125;        URL_MATCH_RESULT_PRODUCT_ID -&gt; &#123;            var id = uri.lastPathSegment            if (TextUtils.isEmpty(selection)) &#123;                rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  &quot;DBHelper.COLUMN_ID = $id&quot;, null)            &#125; else &#123;                rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  &quot;DBHelper.COLUMN_ID = $id and $selection&quot;, selectionArgs)            &#125;        &#125;        else -&gt; &#123;            throw IllegalArgumentException(&quot;Unknown URI: $&#123;uri&#125;&quot;)        &#125;    &#125;    requireContext().contentResolver.notifyChange(uri, null)    return rowsUpdated&#125;\n\n(8) 컨텐트 프로바이더의 전체 코드123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122class ProductContentProvider : ContentProvider() &#123;    val AUTHORITY = &quot;com.yologger.sqlite.ProductContentProvider&quot;    val TABLE_PRODUCTS = &quot;products&quot;    val CONTENT_URI  = Uri.parse(&quot;content://$AUTHORITY/$TABLE_PRODUCTS&quot;)    val URL_MATCH_RESULT_PRODUCT = 1    val URL_MATCH_RESULT_PRODUCT_ID = 2    val uriMatcher = UriMatcher(UriMatcher.NO_MATCH)    init &#123;        uriMatcher.addURI(AUTHORITY, TABLE_PRODUCTS, URL_MATCH_RESULT_PRODUCT)        uriMatcher.addURI(AUTHORITY, &quot;$TABLE_PRODUCTS/#&quot;, URL_MATCH_RESULT_PRODUCT_ID)    &#125;    lateinit var dbHelper: DBHelper    lateinit var db: SQLiteDatabase    override fun onCreate(): Boolean &#123;        dbHelper = DBHelper(context!!, null, null, 1)        db = dbHelper.writableDatabase        return false    &#125;    override fun insert(uri: Uri, values: ContentValues?): Uri? &#123;        var uriType = uriMatcher.match(uri)        var id: Long = 0        when(uriType) &#123;            URL_MATCH_RESULT_PRODUCT -&gt; &#123;                id = db.insert(DBHelper.TABLE_PRODUCTS, null, values)            &#125;            else -&gt; &#123;                throw IllegalArgumentException(&quot;Unknown URI: $&#123;uri&#125;&quot;)            &#125;        &#125;        requireContext().contentResolver.notifyChange(uri, null)        return Uri.parse(&quot;TABLE_PRODUCTS/$&#123;id&#125;&quot;)    &#125;    override fun query(        uri: Uri, projection: Array&lt;String&gt;?, selection: String?,        selectionArgs: Array&lt;String&gt;?, sortOrder: String?    ): Cursor? &#123;        var uriType = uriMatcher.match(uri)        when (uriType) &#123;            URL_MATCH_RESULT_PRODUCT -&gt; &#123;                val query = &quot;SELECT * FROM $&#123;DBHelper.TABLE_PRODUCTS&#125;&quot;                var cursor = db.rawQuery(query, null)                return cursor            &#125;            else -&gt; &#123;                throw IllegalArgumentException(&quot;Unknown URI&quot;)            &#125;        &#125;    &#125;    override fun update(        uri: Uri, values: ContentValues?, selection: String?,        selectionArgs: Array&lt;String&gt;?    ): Int &#123;        var uriType = uriMatcher.match(uri)        var db = dbHelper.writableDatabase        var rowsUpdated = 0        when(uriType) &#123;            URL_MATCH_RESULT_PRODUCT -&gt; &#123;                rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  selection, selectionArgs)            &#125;            URL_MATCH_RESULT_PRODUCT_ID -&gt; &#123;                var id = uri.lastPathSegment                if (TextUtils.isEmpty(selection)) &#123;                    rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  &quot;DBHelper.COLUMN_ID = $id&quot;, null)                &#125; else &#123;                    rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  &quot;DBHelper.COLUMN_ID = $id and $selection&quot;, selectionArgs)                &#125;            &#125;            else -&gt; &#123;                throw IllegalArgumentException(&quot;Unknown URI: $&#123;uri&#125;&quot;)            &#125;        &#125;        requireContext().contentResolver.notifyChange(uri, null)        return rowsUpdated    &#125;    override fun delete(uri: Uri, selection: String?, selectionArgs: Array&lt;String&gt;?): Int &#123;        var uriType = uriMatcher.match(uri)        var db = dbHelper.writableDatabase        var rowsDeleted = 0        when(uriType) &#123;            URL_MATCH_RESULT_PRODUCT -&gt; &#123;                rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, selection,  selectionArgs)            &#125;            URL_MATCH_RESULT_PRODUCT_ID -&gt; &#123;                var id = uri.lastPathSegment                if (TextUtils.isEmpty(selection)) &#123;                    rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, &quot;$&#123;DBHelper.COLUMN_ID&#125; = $id&quot;,  null)                &#125; else &#123;                    rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, &quot;$&#123;DBHelper.COLUMN_ID&#125; = $id and $selection&quot;,  selectionArgs)                &#125;            &#125;            else -&gt; &#123;                throw IllegalArgumentException(&quot;Unknown URI: $&#123;uri&#125;&quot;)            &#125;        &#125;        requireContext().contentResolver.notifyChange(uri, null)        return rowsDeleted    &#125;    override fun getType(uri: Uri): String? &#123;        return null    &#125;&#125;\n\n\n클라이언트 앱이제 클라이언트 앱을 구현하겠습니다. 버튼을 누르면 서버 앱에서 데이터를 조회한 후 데이터의 개수를 토스트 메시지에 출력합니다.\n12345678910111213class MainActivity : AppCompatActivity() &#123;    val buttonQuery: Button by lazy &#123; findViewById&lt;Button&gt;(R.id.activity_main_btn_query) &#125;    override fun onCreate(savedInstanceState: Bundle?) &#123;        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main)        buttonQuery.setOnClickListener &#123;            // ...        &#125;    &#125;&#125;\n우선 액티비티에서 getContentResolver()를 호출하여 컨텐트 리솔버에 접근할 수 있습니다.\n1234buttonQuery.setOnClickListener &#123;    val resolver = getContentResolver()    // ...&#125;\n컨텐트 리솔버는 Uri클래스를 사용하여 서버 앱을 탐색합니다. 따라서 다음과 같이 Uri클래스의 인스턴스를 생성합니다.\n12345678buttonQuery.setOnClickListener &#123;    val resolver = getContentResolver()    val AUTHORITY = &quot;com.yologger.sqlite.ProductContentProvider&quot;    val TABLE_PRODUCTS = &quot;products&quot;    val CONTENT_URI  = Uri.parse(&quot;content://$&#123;AUTHORITY&#125;/$&#123;TABLE_PRODUCTS&#125;&quot;)&#125;\n컨텐트 리솔버의 query()를 호출하여 데이터를 조회합니다. 이 메서드를 호출하면 컨텐트 프로바이더의 query()가 호출되며, 5개의 인자를 필요로 합니다.\n\n\n\n인자\n설명\n\n\n\n첫 번째 인자 uri\n컨텐트 프로바이더의 주소\n\n\n두 번째 인자 projection\n어떤 열(Column)을 조회할 지 지정\n\n\n세 번째 인자 selection\n어떤 행(Row)만 조회할 지 지정하는데 사용하며 SQL문의 WHERE절과 동일\n\n\n네 번째 인자 selectionArgs\n어떤 행(Row)만 조회할 지 지정하는데 사용하며 SQL문의 WHERE절과 동일\n\n\n다섯 번째 인자 sortOrder\n정렬과 관련 있으며 SQL문의 ORDER BY와 동일\n\n\n우리는 조건 없이 모든 데이터를 조회할 것이므로 다음과 같이 query()를 호출합니다.\n123456789buttonQuery.setOnClickListener &#123;    val resolver = getContentResolver()    val AUTHORITY = &quot;com.yologger.sqlite.ProductContentProvider&quot;    val TABLE_PRODUCTS = &quot;products&quot;    val CONTENT_URI  = Uri.parse(&quot;content://$&#123;AUTHORITY&#125;/$&#123;TABLE_PRODUCTS&#125;&quot;)    var cursor = contentResolver.query(CONTENT_URI, null, null, null, null)&#125;\n\n\n\nCursor 객체에서 데이터의 개수를 읽어 토스트 메시지에 출력합니다. \n123456789101112buttonQuery.setOnClickListener &#123;    val resolver = getContentResolver()    val AUTHORITY = &quot;com.yologger.sqlite.ProductContentProvider&quot;    val TABLE_PRODUCTS = &quot;products&quot;    val CONTENT_URI  = Uri.parse(&quot;content://$&#123;AUTHORITY&#125;/$&#123;TABLE_PRODUCTS&#125;&quot;)    var cursor = contentResolver.query(CONTENT_URI, null, null, null, null)    val count = cursor?.count    Toast.makeText(this, &quot;Count: $&#123;count&#125;&quot;, Toast.LENGTH_SHORT).show()&#125;\n\n실행우선 컨텐트 프로바이더가 포함된 서버 앱을 실행합니다.다음과 같이 데이터 한 개를 추가합니다.컨텐트 리솔버가 포함된 클라이언트 앱을 실행합니다.버튼을 누르면 서버 앱에서 데이터를 읽어와 토스트 메시지에 개수를 출력합니다.\n연락처 앱안드로이드에 내장된 연락처 앱에는 연락처 데이터가 저장되어 있습니다.클라이언트 앱에서는 컨텐트 리솔버를 사용하여 연락처 데이터를 읽어올 수 있습니다. 연락처 앱에 컨텐트 프로바이더가 구현되어있기 때문입니다.\n","dateCreated":"2019-07-06T01:00:00+09:00","dateModified":"2021-12-16T06:42:14+09:00","datePublished":"2019-07-06T01:00:00+09:00","description":"","headline":"[Android] 컨텐트 프로바이더(Content Provider)와 컨텐트 리솔버(Content Resolver)","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"},"publisher":{"@type":"Organization","name":"yologger","sameAs":[]},"url":"https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/","keywords":"Android"}</script>
    <meta name="description" content="컨텐트 프로바이더와 컨텐트 리솔버다음과 같이 두 앱이 있다고 가정합시다.컨텐트 프로바이더(Content Provider)와 컨텐트 리솔버(Content Resolver)를 사용하면 다른 어플리캐이션의 데이터에 접근할 수 있습니다. 컨텐트 프로바이더가 정의된 앱을 서버 앱, 컨텐트 리솔버를 사용하는 앱을 클라이언트 앱이라고도 합니다.데이터를 제공하는 앱에서">
<meta property="og:type" content="blog">
<meta property="og:title" content="[Android] 컨텐트 프로바이더(Content Provider)와 컨텐트 리솔버(Content Resolver)">
<meta property="og:url" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/index.html">
<meta property="og:site_name" content="Yologger&#39;s Blog">
<meta property="og:description" content="컨텐트 프로바이더와 컨텐트 리솔버다음과 같이 두 앱이 있다고 가정합시다.컨텐트 프로바이더(Content Provider)와 컨텐트 리솔버(Content Resolver)를 사용하면 다른 어플리캐이션의 데이터에 접근할 수 있습니다. 컨텐트 프로바이더가 정의된 앱을 서버 앱, 컨텐트 리솔버를 사용하는 앱을 클라이언트 앱이라고도 합니다.데이터를 제공하는 앱에서">
<meta property="og:locale" content="ko_KR">
<meta property="og:image" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/1.png">
<meta property="og:image" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/2.png">
<meta property="og:image" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/4.png">
<meta property="og:image" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/5.png">
<meta property="og:image" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/6.png">
<meta property="og:image" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/7.png">
<meta property="og:image" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/8.png">
<meta property="og:image" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/9.png">
<meta property="article:published_time" content="2019-07-05T16:00:00.000Z">
<meta property="article:modified_time" content="2021-12-15T21:42:14.960Z">
<meta property="article:author" content="yologger">
<meta property="article:tag" content="Android">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/1.png">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/ko/assets/css/style-mg0ufdhe3lf13uaqzh5sfd3dtbhx3iokplil152c5hqau8lqr315qgpxsjvw.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QYKNWR810R"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-QYKNWR810R');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ko/"
            aria-label=""
        >
            Yologger&#39;s Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /ko/#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://yologger.github.io"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="English"
                        >
                        <i class="sidebar-button-icon fa fa-globe" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">English</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/yologger"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/java"
                            
                            rel="noopener"
                            title="Java"
                        >
                        <i class="sidebar-button-icon fab fa-java" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Java</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/kotlin"
                            
                            rel="noopener"
                            title="Kotlin"
                        >
                        <i class="sidebar-button-icon fab fa-korvue" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Kotlin</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/spring"
                            
                            rel="noopener"
                            title="Spring"
                        >
                        <i class="sidebar-button-icon fas fa-leaf" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Spring</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/android"
                            
                            rel="noopener"
                            title="Android"
                        >
                        <i class="sidebar-button-icon fab fa-android" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Android</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/infra_devops"
                            
                            rel="noopener"
                            title="Infra, DevOps"
                        >
                        <i class="sidebar-button-icon fa fa-server" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Infra, DevOps</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/tools"
                            
                            rel="noopener"
                            title="Tool"
                        >
                        <i class="sidebar-button-icon fa fa-wrench" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tool</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/algorithm"
                            
                            rel="noopener"
                            title="Algorithm"
                        >
                        <i class="sidebar-button-icon fas fa-project-diagram" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Algorithm</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            [Android] 컨텐트 프로바이더(Content Provider)와 컨텐트 리솔버(Content Resolver)
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-07-06T01:00:00+09:00">
	
		    2019/07/06
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Android/">Android</a>, <a class="category-link" href="/ko/categories/Android/Android-Platform/">Android Platform</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <hr>
<h1 id="컨텐트-프로바이더와-컨텐트-리솔버"><a href="#컨텐트-프로바이더와-컨텐트-리솔버" class="headerlink" title="컨텐트 프로바이더와 컨텐트 리솔버"></a>컨텐트 프로바이더와 컨텐트 리솔버</h1><p>다음과 같이 두 앱이 있다고 가정합시다.<br><img src="1.png"><br><code>컨텐트 프로바이더(Content Provider)</code>와 <code>컨텐트 리솔버(Content Resolver)</code>를 사용하면 다른 어플리캐이션의 데이터에 접근할 수 있습니다. 컨텐트 프로바이더가 정의된 앱을 <code>서버 앱</code>, 컨텐트 리솔버를 사용하는 앱을 <code>클라이언트 앱</code>이라고도 합니다.<br><img src="2.png"><br>데이터를 제공하는 앱에서는 <code>컨텐트 프로바이더</code>를 구현합니다. 데이터를 사용하는 앱에서는 <code>getContentResolver()</code>를 호출하여 <code>컨텐트 리솔버</code> 객체에 접근할 수 있습니다. 이 객체를 사용하여 다른 앱에 데이터를 추가, 변경, 삭제, 조회할 수 있습니다.</p>
<h1 id="예제"><a href="#예제" class="headerlink" title="예제"></a>예제</h1><p>다음과 같은 예제를 만들며 <code>컨텐트 프로바이더</code>와 <code>컨텐트 리솔버</code>에 대해 알아보겠습니다.<br><img src="4.png"><br><code>서버 앱</code>에서는 데이터를 추가, 삭제, 탐색할 수 있습니다. 또한 컨텐트 프로바이더도 구현되어있습니다. </p>
<p><code>클라이언트 앱</code>은 버튼을 누르면 컨텐트 리솔버를 사용하여 데이터를 조회합니다. 이후 토스트 메시지로 조회한 데이터의 개수를 보여줍니다.</p>
<hr>
<h1 id="서버-앱"><a href="#서버-앱" class="headerlink" title="서버 앱"></a>서버 앱</h1><blockquote>
<p>컨텐트 프로바이더 예제는 <a href="/ko/2019/07/05/08_android/01_android_platform/190705_sqlite/">SQLite 포스트의 예제</a>를 사용합니다. </p>
</blockquote>
<p>우선 데이터를 제공하는 앱에서 컨텐트 프로바이더를 구현합시다. 컨텐트 프로바이더는 <code>ContentProvider</code>클래스의 서브클래스입니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductContentProvider</span> : <span class="type">ContentProvider</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">delete</span><span class="params">(uri: <span class="type">Uri</span>, selection: <span class="type">String</span>?, selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">        TODO(<span class="string">&quot;Implement this to handle requests to delete one or more rows&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getType</span><span class="params">(uri: <span class="type">Uri</span>)</span></span>: String? &#123;</span><br><span class="line">        TODO(</span><br><span class="line">            <span class="string">&quot;Implement this to handle requests for the MIME type of the data&quot;</span> +</span><br><span class="line">                    <span class="string">&quot;at the given URI&quot;</span></span><br><span class="line">        )</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">insert</span><span class="params">(uri: <span class="type">Uri</span>, values: <span class="type">ContentValues</span>?)</span></span>: Uri? &#123;</span><br><span class="line">        TODO(<span class="string">&quot;Implement this to handle requests to insert a new row.&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">        TODO(<span class="string">&quot;Implement this to initialize your content provider on startup.&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">query</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        uri: <span class="type">Uri</span>, projection: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?, selection: <span class="type">String</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">        selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?, sortOrder: <span class="type">String</span>?</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: Cursor? &#123;</span><br><span class="line">        TODO(<span class="string">&quot;Implement this to handle query requests from clients.&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">update</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        uri: <span class="type">Uri</span>, values: <span class="type">ContentValues</span>?, selection: <span class="type">String</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">        selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">        TODO(<span class="string">&quot;Implement this to handle requests to update one or more rows.&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ContentProvider</code>클래스를 구현하면 위와 같이 여섯 개의 메소드를 오버라이딩 해야합니다. </p>
<p>또한 컨텐트 프로바이더는 안드로이드의 4대 컴포넌트 중 하나이므로 <code>AndroidManifest.xml</code>에 선언해야합니다.</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">manifest</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">package</span>=<span class="string">&quot;com.yologger.sqlite&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">application</span> <span class="attr">android:allowBackup</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:icon</span>=<span class="string">&quot;@mipmap/ic_launcher&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:label</span>=<span class="string">&quot;@string/app_name&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:roundIcon</span>=<span class="string">&quot;@mipmap/ic_launcher_round&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:supportsRtl</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">        <span class="attr">android:theme</span>=<span class="string">&quot;@style/Theme.Sqlite&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">provider</span> <span class="attr">android:name</span>=<span class="string">&quot;.ProductContentProvider&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:authorities</span>=<span class="string">&quot;com.yologger.sqlite.ProductContentProvider&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:enabled</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">            <span class="attr">android:exported</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">provider</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="tag">&lt;<span class="name">activity</span> <span class="attr">android:name</span>=<span class="string">&quot;.MainActivity&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">action</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">category</span> <span class="attr">android:name</span>=<span class="string">&quot;android.intent.category.LAUNCHER&quot;</span> /&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">intent-filter</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">activity</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">application</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">manifest</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>이때 컨텐트 프로바이더의 세 가지 속성 값을 지정해야합니다. </p>
<ul>
<li><p><code>enabled</code>: 안드로이드 시스템에 의해 컨텐트 프로바이더의 인스턴스가 생성될 수 있는지 여부입니다. 이 값이 false면 시스템이 컨텐트 프로바이더 인스턴스를 생성할 수 없습니다. 따라서 값을 true로 설정합니다.</p>
</li>
<li><p><code>export</code>: 다른 앱이 컨텐트 프로바이더를 사용할 수 있는지 여부입니다. 이 값이 false면 같은 앱에서만 컨텐트 프로바이더에 접근할 수 있습니다. 따라서 값을 true로 설정합니다.</p>
</li>
<li><p><code>authorities</code>: 다른 앱이 컨텐트 프로바이더에 접근할 때 사용하는 주소입니다.</p>
</li>
</ul>
<p>이제 컨텐트 프로바이더의 메소드를 하나씩 구현해봅시다. </p>
<h3 id="1-authority-URI-상수-정의"><a href="#1-authority-URI-상수-정의" class="headerlink" title="(1) authority, URI 상수 정의"></a>(1) authority, URI 상수 정의</h3><p>모든 컨텐트 프로바이더는 <code>authority</code>와 <code>콘텐트 URI</code>을 가지고 있습니다. <code>authority</code>값은 콘텐트 제공자 클래스 자신의 완전한 패키지 이름을 사용합니다. <code>콘텐트 URI</code>는 앱에 따라 달라질 수 있습니다. 여기서는 데이터베이스 테이블 이름인 product로 구성하겠습니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductContentProvider</span> : <span class="type">ContentProvider</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> AUTHORITY = <span class="string">&quot;com.yologger.sqlite.ProductContentProvider&quot;</span></span><br><span class="line">    <span class="keyword">val</span> TABLE_PRODUCTS = <span class="string">&quot;products&quot;</span></span><br><span class="line">    <span class="keyword">val</span> CONTENT_URI  = Uri.parse(<span class="string">&quot;content://<span class="variable">$AUTHORITY</span>/<span class="variable">$TABLE_PRODUCTS</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> URL_MATCH_RESULT_PRODUCT = <span class="number">1</span></span><br><span class="line">    <span class="keyword">val</span> URL_MATCH_RESULT_PRODUCT_ID = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-UriMatcher-구현하기"><a href="#2-UriMatcher-구현하기" class="headerlink" title="(2) UriMatcher 구현하기"></a>(2) UriMatcher 구현하기</h3><p>컨텐트 리솔버는 <a href="/ko/2019/06/15/08_android/01_android_platform/190615_uri_urimatcher/"><code>Uri</code></a>객체를 통해 컨텐트 프로바이더에 접근합니다. 컨텐트 프로바이더에서는 <a href="/ko/2019/06/15/08_android/01_android_platform/190615_uri_urimatcher/"><code>UriMatcher</code></a>를 통해 컨텐트 리솔버를 구분합니다. </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductContentProvider</span> : <span class="type">ContentProvider</span></span>() &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> URL_MATCH_RESULT_PRODUCT = <span class="number">1</span></span><br><span class="line">    <span class="keyword">val</span> URL_MATCH_RESULT_PRODUCT_ID = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> uriMatcher = UriMatcher(UriMatcher.NO_MATCH)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        uriMatcher.addURI(AUTHORITY, TABLE_PRODUCTS, URL_MATCH_RESULT_PRODUCT)</span><br><span class="line">        uriMatcher.addURI(AUTHORITY, <span class="string">&quot;<span class="variable">$TABLE_PRODUCTS</span>/#&quot;</span>, URL_MATCH_RESULT_PRODUCT_ID)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-onCreate"><a href="#3-onCreate" class="headerlink" title="(3) onCreate()"></a>(3) onCreate()</h3><p><code>onCreate()</code>에서는 초기화에 필요한 작업을 수행합니다. 여기서는 SQLite 관련 포스트에서 살펴본 <code>SQLiteHelper</code>클래스의 인스턴스와 <code>SQLiteDatabase</code>클래스의 인스턴스를 생성하겠습니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductContentProvider</span> : <span class="type">ContentProvider</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> dbHelper: DBHelper</span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> db: SQLiteDatabase</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line"></span><br><span class="line">        dbHelper = DBHelper(context!!, <span class="literal">null</span>, <span class="literal">null</span>, <span class="number">1</span>)</span><br><span class="line">        db = dbHelper.writableDatabase</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="4-insert"><a href="#4-insert" class="headerlink" title="(4) insert()"></a>(4) insert()</h3><p>클라이언트 앱이 데이터 추가를 요청하면 콘텐트 프로바이더의 <code>insert()</code>가 호출됩니다. 우선 <code>UriMatcher</code>클래스를 사용하여 적절한 URI가 전달되었는지 확인합니다. 이후 데이터베이스에 값을 추가합니다. 마지막으로 컨텐트 리솔버에 데이터 추가 완료를 통보합니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">insert</span><span class="params">(uri: <span class="type">Uri</span>, values: <span class="type">ContentValues</span>?)</span></span>: Uri? &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> uriType = uriMatcher.match(uri)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> id: <span class="built_in">Long</span> = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">when</span>(uriType) &#123;</span><br><span class="line">        URL_MATCH_RESULT_PRODUCT -&gt; &#123;</span><br><span class="line">            <span class="comment">// 데이터베이스에 데이터 추가</span></span><br><span class="line">            id = db.insert(DBHelper.TABLE_PRODUCTS, <span class="literal">null</span>, values)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">            <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown URI: <span class="subst">$&#123;uri&#125;</span>&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 컨텐트 리솔버에 데이터 추가를 알림</span></span><br><span class="line">    requireContext().contentResolver.notifyChange(uri, <span class="literal">null</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> Uri.parse(<span class="string">&quot;TABLE_PRODUCTS/<span class="subst">$&#123;id&#125;</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-query"><a href="#5-query" class="headerlink" title="(5) query()"></a>(5) query()</h3><p>클라이언트 앱이 데이터 조회를 요청하면 컨텐트 프로바이더의 <code>query()</code>가 호출됩니다. 우선 <code>UriMatcher</code>클래스를 사용하여 적절한 URI가 전달되었는지 확인합니다. 이후 데이터베이스를 조회하면 <code>Cursor</code>클래스의 인스턴스가 반환됩니다. 이를 <code>query()</code>메소드의 반환값으로 전달합니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">query</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    uri: <span class="type">Uri</span>, projection: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?, selection: <span class="type">String</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">    selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?, sortOrder: <span class="type">String</span>?</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>: Cursor? &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> uriType = uriMatcher.match(uri)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">when</span> (uriType) &#123;</span><br><span class="line">        URL_MATCH_RESULT_PRODUCT -&gt; &#123;</span><br><span class="line">            <span class="keyword">val</span> query = <span class="string">&quot;SELECT * FROM <span class="subst">$&#123;DBHelper.TABLE_PRODUCTS&#125;</span>&quot;</span></span><br><span class="line">            <span class="keyword">var</span> cursor = db.rawQuery(query, <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> cursor</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">            <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown URI&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-delete"><a href="#6-delete" class="headerlink" title="(6) delete()"></a>(6) delete()</h3><p>클라이언트 앱이 데이터 삭제를 요청하면 컨텐트 프로바이더의 <code>delete()</code>가 호출됩니다. 우선 <code>UriMatcher</code>클래스를 사용하여 적절한 URI가 전달되었는지 확인합니다. 이후 데이터베이스에서 데이터를 삭제하고, 삭제된 데이터의 개수를 반환합니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">delete</span><span class="params">(uri: <span class="type">Uri</span>, selection: <span class="type">String</span>?, selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> uriType = uriMatcher.match(uri)</span><br><span class="line">    <span class="keyword">var</span> db = dbHelper.writableDatabase</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> rowsDeleted = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">when</span>(uriType) &#123;</span><br><span class="line">        URL_MATCH_RESULT_PRODUCT -&gt; &#123;</span><br><span class="line">            rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, selection,  selectionArgs)</span><br><span class="line">        &#125;</span><br><span class="line">        URL_MATCH_RESULT_PRODUCT_ID -&gt; &#123;</span><br><span class="line">            <span class="keyword">var</span> id = uri.lastPathSegment</span><br><span class="line">            <span class="keyword">if</span> (TextUtils.isEmpty(selection)) &#123;</span><br><span class="line">                rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, <span class="string">&quot;<span class="subst">$&#123;DBHelper.COLUMN_ID&#125;</span> = <span class="variable">$id</span>&quot;</span>,  <span class="literal">null</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, <span class="string">&quot;<span class="subst">$&#123;DBHelper.COLUMN_ID&#125;</span> = <span class="variable">$id</span> and <span class="variable">$selection</span>&quot;</span>,  selectionArgs)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">            <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown URI: <span class="subst">$&#123;uri&#125;</span>&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    requireContext().contentResolver.notifyChange(uri, <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">return</span> rowsDeleted</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="7-update"><a href="#7-update" class="headerlink" title="(7) update()"></a>(7) update()</h3><p>클라이언트 앱이 데이터 변경를 요청하면 컨텐트 프로바이더의 <code>update()</code>가 호출됩니다. 우선 <code>UriMatcher</code>클래스를 사용하여 적절한 URI가 전달되었는지 확인합니다. 이후 데이터베이스의 데이터를 변경하고, 변경된 데이터의 개수를 반환합니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">update</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">    uri: <span class="type">Uri</span>, values: <span class="type">ContentValues</span>?, selection: <span class="type">String</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">    selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?</span></span></span><br><span class="line"><span class="params"><span class="function">)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> uriType = uriMatcher.match(uri)</span><br><span class="line">    <span class="keyword">var</span> db = dbHelper.writableDatabase</span><br><span class="line">    <span class="keyword">var</span> rowsUpdated = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">when</span>(uriType) &#123;</span><br><span class="line">        URL_MATCH_RESULT_PRODUCT -&gt; &#123;</span><br><span class="line">            rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  selection, selectionArgs)</span><br><span class="line">        &#125;</span><br><span class="line">        URL_MATCH_RESULT_PRODUCT_ID -&gt; &#123;</span><br><span class="line">            <span class="keyword">var</span> id = uri.lastPathSegment</span><br><span class="line">            <span class="keyword">if</span> (TextUtils.isEmpty(selection)) &#123;</span><br><span class="line">                rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  <span class="string">&quot;DBHelper.COLUMN_ID = <span class="variable">$id</span>&quot;</span>, <span class="literal">null</span>)</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  <span class="string">&quot;DBHelper.COLUMN_ID = <span class="variable">$id</span> and <span class="variable">$selection</span>&quot;</span>, selectionArgs)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">            <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown URI: <span class="subst">$&#123;uri&#125;</span>&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    requireContext().contentResolver.notifyChange(uri, <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">return</span> rowsUpdated</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="8-컨텐트-프로바이더의-전체-코드"><a href="#8-컨텐트-프로바이더의-전체-코드" class="headerlink" title="(8) 컨텐트 프로바이더의 전체 코드"></a>(8) 컨텐트 프로바이더의 전체 코드</h3><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProductContentProvider</span> : <span class="type">ContentProvider</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> AUTHORITY = <span class="string">&quot;com.yologger.sqlite.ProductContentProvider&quot;</span></span><br><span class="line">    <span class="keyword">val</span> TABLE_PRODUCTS = <span class="string">&quot;products&quot;</span></span><br><span class="line">    <span class="keyword">val</span> CONTENT_URI  = Uri.parse(<span class="string">&quot;content://<span class="variable">$AUTHORITY</span>/<span class="variable">$TABLE_PRODUCTS</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> URL_MATCH_RESULT_PRODUCT = <span class="number">1</span></span><br><span class="line">    <span class="keyword">val</span> URL_MATCH_RESULT_PRODUCT_ID = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> uriMatcher = UriMatcher(UriMatcher.NO_MATCH)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">init</span> &#123;</span><br><span class="line">        uriMatcher.addURI(AUTHORITY, TABLE_PRODUCTS, URL_MATCH_RESULT_PRODUCT)</span><br><span class="line">        uriMatcher.addURI(AUTHORITY, <span class="string">&quot;<span class="variable">$TABLE_PRODUCTS</span>/#&quot;</span>, URL_MATCH_RESULT_PRODUCT_ID)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> dbHelper: DBHelper</span><br><span class="line">    <span class="keyword">lateinit</span> <span class="keyword">var</span> db: SQLiteDatabase</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line"></span><br><span class="line">        dbHelper = DBHelper(context!!, <span class="literal">null</span>, <span class="literal">null</span>, <span class="number">1</span>)</span><br><span class="line">        db = dbHelper.writableDatabase</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">insert</span><span class="params">(uri: <span class="type">Uri</span>, values: <span class="type">ContentValues</span>?)</span></span>: Uri? &#123;</span><br><span class="line">        <span class="keyword">var</span> uriType = uriMatcher.match(uri)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> id: <span class="built_in">Long</span> = <span class="number">0</span></span><br><span class="line">        <span class="keyword">when</span>(uriType) &#123;</span><br><span class="line">            URL_MATCH_RESULT_PRODUCT -&gt; &#123;</span><br><span class="line">                id = db.insert(DBHelper.TABLE_PRODUCTS, <span class="literal">null</span>, values)</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">                <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown URI: <span class="subst">$&#123;uri&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        requireContext().contentResolver.notifyChange(uri, <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> Uri.parse(<span class="string">&quot;TABLE_PRODUCTS/<span class="subst">$&#123;id&#125;</span>&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">query</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        uri: <span class="type">Uri</span>, projection: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?, selection: <span class="type">String</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">        selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?, sortOrder: <span class="type">String</span>?</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: Cursor? &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> uriType = uriMatcher.match(uri)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">when</span> (uriType) &#123;</span><br><span class="line">            URL_MATCH_RESULT_PRODUCT -&gt; &#123;</span><br><span class="line">                <span class="keyword">val</span> query = <span class="string">&quot;SELECT * FROM <span class="subst">$&#123;DBHelper.TABLE_PRODUCTS&#125;</span>&quot;</span></span><br><span class="line">                <span class="keyword">var</span> cursor = db.rawQuery(query, <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">return</span> cursor</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">                <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown URI&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">update</span><span class="params">(</span></span></span><br><span class="line"><span class="params"><span class="function">        uri: <span class="type">Uri</span>, values: <span class="type">ContentValues</span>?, selection: <span class="type">String</span>?,</span></span></span><br><span class="line"><span class="params"><span class="function">        selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?</span></span></span><br><span class="line"><span class="params"><span class="function">    )</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> uriType = uriMatcher.match(uri)</span><br><span class="line">        <span class="keyword">var</span> db = dbHelper.writableDatabase</span><br><span class="line">        <span class="keyword">var</span> rowsUpdated = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">when</span>(uriType) &#123;</span><br><span class="line">            URL_MATCH_RESULT_PRODUCT -&gt; &#123;</span><br><span class="line">                rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  selection, selectionArgs)</span><br><span class="line">            &#125;</span><br><span class="line">            URL_MATCH_RESULT_PRODUCT_ID -&gt; &#123;</span><br><span class="line">                <span class="keyword">var</span> id = uri.lastPathSegment</span><br><span class="line">                <span class="keyword">if</span> (TextUtils.isEmpty(selection)) &#123;</span><br><span class="line">                    rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  <span class="string">&quot;DBHelper.COLUMN_ID = <span class="variable">$id</span>&quot;</span>, <span class="literal">null</span>)</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    rowsUpdated = db.update(DBHelper.TABLE_PRODUCTS, values,  <span class="string">&quot;DBHelper.COLUMN_ID = <span class="variable">$id</span> and <span class="variable">$selection</span>&quot;</span>, selectionArgs)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">                <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown URI: <span class="subst">$&#123;uri&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        requireContext().contentResolver.notifyChange(uri, <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> rowsUpdated</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">delete</span><span class="params">(uri: <span class="type">Uri</span>, selection: <span class="type">String</span>?, selectionArgs: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> uriType = uriMatcher.match(uri)</span><br><span class="line">        <span class="keyword">var</span> db = dbHelper.writableDatabase</span><br><span class="line"></span><br><span class="line">        <span class="keyword">var</span> rowsDeleted = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">when</span>(uriType) &#123;</span><br><span class="line">            URL_MATCH_RESULT_PRODUCT -&gt; &#123;</span><br><span class="line">                rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, selection,  selectionArgs)</span><br><span class="line">            &#125;</span><br><span class="line">            URL_MATCH_RESULT_PRODUCT_ID -&gt; &#123;</span><br><span class="line">                <span class="keyword">var</span> id = uri.lastPathSegment</span><br><span class="line">                <span class="keyword">if</span> (TextUtils.isEmpty(selection)) &#123;</span><br><span class="line">                    rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, <span class="string">&quot;<span class="subst">$&#123;DBHelper.COLUMN_ID&#125;</span> = <span class="variable">$id</span>&quot;</span>,  <span class="literal">null</span>)</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    rowsDeleted = db.delete(DBHelper.TABLE_PRODUCTS, <span class="string">&quot;<span class="subst">$&#123;DBHelper.COLUMN_ID&#125;</span> = <span class="variable">$id</span> and <span class="variable">$selection</span>&quot;</span>,  selectionArgs)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">else</span> -&gt; &#123;</span><br><span class="line">                <span class="keyword">throw</span> IllegalArgumentException(<span class="string">&quot;Unknown URI: <span class="subst">$&#123;uri&#125;</span>&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        requireContext().contentResolver.notifyChange(uri, <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> rowsDeleted</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">getType</span><span class="params">(uri: <span class="type">Uri</span>)</span></span>: String? &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="클라이언트-앱"><a href="#클라이언트-앱" class="headerlink" title="클라이언트 앱"></a>클라이언트 앱</h1><p>이제 클라이언트 앱을 구현하겠습니다. 버튼을 누르면 서버 앱에서 데이터를 조회한 후 데이터의 개수를 토스트 메시지에 출력합니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> : <span class="type">AppCompatActivity</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> buttonQuery: Button <span class="keyword">by</span> lazy &#123; findViewById&lt;Button&gt;(R.id.activity_main_btn_query) &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line">        setContentView(R.layout.activity_main)</span><br><span class="line"></span><br><span class="line">        buttonQuery.setOnClickListener &#123;</span><br><span class="line">            <span class="comment">// ...</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>우선 액티비티에서 <code>getContentResolver()</code>를 호출하여 컨텐트 리솔버에 접근할 수 있습니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">buttonQuery.setOnClickListener &#123;</span><br><span class="line">    <span class="keyword">val</span> resolver = getContentResolver()</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>컨텐트 리솔버는 <code>Uri</code>클래스를 사용하여 서버 앱을 탐색합니다. 따라서 다음과 같이 <code>Uri</code>클래스의 인스턴스를 생성합니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">buttonQuery.setOnClickListener &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> resolver = getContentResolver()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> AUTHORITY = <span class="string">&quot;com.yologger.sqlite.ProductContentProvider&quot;</span></span><br><span class="line">    <span class="keyword">val</span> TABLE_PRODUCTS = <span class="string">&quot;products&quot;</span></span><br><span class="line">    <span class="keyword">val</span> CONTENT_URI  = Uri.parse(<span class="string">&quot;content://<span class="subst">$&#123;AUTHORITY&#125;</span>/<span class="subst">$&#123;TABLE_PRODUCTS&#125;</span>&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>컨텐트 리솔버의 <code>query()</code>를 호출하여 데이터를 조회합니다. 이 메서드를 호출하면 컨텐트 프로바이더의 <code>query()</code>가 호출되며, 5개의 인자를 필요로 합니다.</p>
<table>
<thead>
<tr>
<th>인자</th>
<th>설명</th>
</tr>
</thead>
<tbody><tr>
<td>첫 번째 인자 <code>uri</code></td>
<td>컨텐트 프로바이더의 주소</td>
</tr>
<tr>
<td>두 번째 인자 <code>projection</code></td>
<td>어떤 열(Column)을 조회할 지 지정</td>
</tr>
<tr>
<td>세 번째 인자 <code>selection</code></td>
<td>어떤 행(Row)만 조회할 지 지정하는데 사용하며 SQL문의 WHERE절과 동일</td>
</tr>
<tr>
<td>네 번째 인자 <code>selectionArgs</code></td>
<td>어떤 행(Row)만 조회할 지 지정하는데 사용하며 SQL문의 WHERE절과 동일</td>
</tr>
<tr>
<td>다섯 번째 인자 <code>sortOrder</code></td>
<td>정렬과 관련 있으며 SQL문의 ORDER BY와 동일</td>
</tr>
</tbody></table>
<p>우리는 조건 없이 모든 데이터를 조회할 것이므로 다음과 같이 <code>query()</code>를 호출합니다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">buttonQuery.setOnClickListener &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> resolver = getContentResolver()</span><br><span class="line">    <span class="keyword">val</span> AUTHORITY = <span class="string">&quot;com.yologger.sqlite.ProductContentProvider&quot;</span></span><br><span class="line">    <span class="keyword">val</span> TABLE_PRODUCTS = <span class="string">&quot;products&quot;</span></span><br><span class="line">    <span class="keyword">val</span> CONTENT_URI  = Uri.parse(<span class="string">&quot;content://<span class="subst">$&#123;AUTHORITY&#125;</span>/<span class="subst">$&#123;TABLE_PRODUCTS&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> cursor = contentResolver.query(CONTENT_URI, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><code>Cursor</code> 객체에서 데이터의 개수를 읽어 토스트 메시지에 출력합니다. </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">buttonQuery.setOnClickListener &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> resolver = getContentResolver()</span><br><span class="line">    <span class="keyword">val</span> AUTHORITY = <span class="string">&quot;com.yologger.sqlite.ProductContentProvider&quot;</span></span><br><span class="line">    <span class="keyword">val</span> TABLE_PRODUCTS = <span class="string">&quot;products&quot;</span></span><br><span class="line">    <span class="keyword">val</span> CONTENT_URI  = Uri.parse(<span class="string">&quot;content://<span class="subst">$&#123;AUTHORITY&#125;</span>/<span class="subst">$&#123;TABLE_PRODUCTS&#125;</span>&quot;</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> cursor = contentResolver.query(CONTENT_URI, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>, <span class="literal">null</span>)</span><br><span class="line">    <span class="keyword">val</span> count = cursor?.count</span><br><span class="line">    Toast.makeText(<span class="keyword">this</span>, <span class="string">&quot;Count: <span class="subst">$&#123;count&#125;</span>&quot;</span>, Toast.LENGTH_SHORT).show()</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="실행"><a href="#실행" class="headerlink" title="실행"></a>실행</h1><p>우선 컨텐트 프로바이더가 포함된 서버 앱을 실행합니다.<br><img src="5.png"><br>다음과 같이 데이터 한 개를 추가합니다.<br><img src="6.png"><br>컨텐트 리솔버가 포함된 클라이언트 앱을 실행합니다.<br><img src="7.png"><br>버튼을 누르면 서버 앱에서 데이터를 읽어와 토스트 메시지에 개수를 출력합니다.<br><img src="8.png"></p>
<h1 id="연락처-앱"><a href="#연락처-앱" class="headerlink" title="연락처 앱"></a>연락처 앱</h1><p>안드로이드에 내장된 <code>연락처 앱</code>에는 연락처 데이터가 저장되어 있습니다.<br><img src="9.png"><br>클라이언트 앱에서는 컨텐트 리솔버를 사용하여 연락처 데이터를 읽어올 수 있습니다. 연락처 앱에 컨텐트 프로바이더가 구현되어있기 때문입니다.</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/ko/tags/Android/" rel="tag">Android</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ko/2019/07/07/08_android/01_android_platform/190707_fragment/"
                    data-tooltip="[Android]  Fragment - (1) 프래그먼트"
                    aria-label="이전: [Android]  Fragment - (1) 프래그먼트"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ko/2019/07/05/08_android/01_android_platform/190705_sqlite/"
                    data-tooltip="[Android] SQLite란"
                    aria-label="다음: [Android] SQLite란"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2022 yologger. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ko/2019/07/07/08_android/01_android_platform/190707_fragment/"
                    data-tooltip="[Android]  Fragment - (1) 프래그먼트"
                    aria-label="이전: [Android]  Fragment - (1) 프래그먼트"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ko/2019/07/05/08_android/01_android_platform/190705_sqlite/"
                    data-tooltip="[Android] SQLite란"
                    aria-label="다음: [Android] SQLite란"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://yologger.github.io/ko/2019/07/06/08_android/01_android_platform/190706_content_provider/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">yologger</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/ko/assets/images/background.png');"></div>
        <!--SCRIPTS-->

<script src="/ko/assets/js/script-s1qf4dycbfqqmgvjljlv3c81jri2dhkbfsbrr18gdsntpulta4iextu4bozl.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
