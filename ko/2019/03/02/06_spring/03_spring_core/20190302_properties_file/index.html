
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Yologger&#39;s Blog">
    <title>[Spring Core] 외부 파일에서 설정값 읽어오기 (Properties 파일) - Yologger&#39;s Blog</title>
    <meta name="author" content="yologger">
    
    
        <link rel="icon" href="https://yologger.github.io/ko/assets/images/favicon.png">
    
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"yologger","sameAs":[]},"articleBody":"\n외부 파일에서 설정값 읽어오기.properties 파일을 사용하면 외부에서 설정값을 읽어올 수 있다.\n방법 1). ConfigurableEnvironment, MutablePropertySources 사용하기admin.properties파일을 src/main/resources 경로에 생성한다.\nadmin.properties12admin.id=pauladmin.password=1234\n이제 다음과 같이 설정값을 읽어올 수 있다.\nApp.java1234567891011121314151617181920212223242526public class App &#123;    public static void main(String[] args)&#123;        ConfigurableApplicationContext ctx = new GenericXmlApplicationContext();        // Environment 객체는 애플리케이션마다 1개씩 존재                        ConfigurableEnvironment env = ctx.getEnvironment();        // Environment 객체 내부의 모든 propertySources를 가져온다.        MutablePropertySources propertySources = env.getPropertySources();        try&#123;            // 새로운 propertySource를 추가한다.            propertySources.addLast(new ResourcePropertySource(&quot;classpath:admin.properties&quot;));            // 속성값을 읽어온다.            System.out.println(env.getProperty(&quot;admin.id&quot;));    // paul            System.out.println(env.getProperty(&quot;admin.pw&quot;));    // 1234        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        ctx.close();    &#125;&#125;\n웹 애플리케이션에는 오직 하나의 Environment 객체만 존재한다. Environment 안에는 여러 PropertySource를 추가할 수 있다.\n다음과 같이 여러 .properites파일을 읽어올 수도 있다.\nadmin.properties12admin.id=pauladmin.password=1234\nuser.properties12user.id=monicauser.password=5678\nApp.java1234567891011121314151617181920212223public class App &#123;    public static void main(String[] args)&#123;        ConfigurableApplicationContext ctx = new GenericXmlApplicationContext();                  ConfigurableEnvironment env = ctx.getEnvironment();        MutablePropertySources propertySources = env.getPropertySources();        try&#123;            propertySources.addLast(new ResourcePropertySource(&quot;classpath:admin.properties&quot;));            propertySources.addLast(new ResourcePropertySource(&quot;classpath:user.properties&quot;));            System.out.println(env.getProperty(&quot;admin.id&quot;));    // paul            System.out.println(env.getProperty(&quot;admin.pw&quot;));    // 1234            System.out.println(env.getProperty(&quot;user.id&quot;));     // monica            System.out.println(env.getProperty(&quot;user.pw&quot;));     // 5678        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        ctx.close();    &#125;&#125;\n\n방법 2) EnvironmentAware다음과 같은 클래스가 있다.\nAdminConnection.java12345678910111213public class AdminConnection &#123;    private String adminId;    private String adminPw;    public void setAdminId(String adminId)&#123;        this.adminId = adminId;    &#125;    public void setAdminPw(String adminPw)&#123;        this.adminPw = adminPw;    &#125;&#125;\n이제 .properties파일에서 읽어온 속성값으로 AdminConnection 클래스의 adminId, adminPw을 초기화하려고 한다. \nadmin.properties12admin.id=pauladmin.password=1234\nInitializingBean을 구현하고 afterPropertiesSet()메소드를 구현한다. 이 메소드는 Bean이 생성될 때 호출된다.\nAdminConnection.java123456789101112131415161718public class AdminConnection implements InitializingBean &#123;    private String adminId;    private String adminPw;    public void setAdminId(String adminId)&#123;        this.adminId = adminId;    &#125;    public void setAdminPw(String adminPw)&#123;        this.adminPw = adminPw;    &#125;    @Override    public void afterPropertiesSet() throw Exception &#123;        // Bean이 생성될 때 호출된다.    &#125;&#125;\n그 다음 DisposableBean을 구현하고 destory()메소드를 구현하자. 이 메소드는 Bean이 소멸할 때 호출된다.\nAdminConnection.java12345678910111213141516171819202122public class AdminConnection implements InitializingBean, DisposableBean &#123;    private String adminId;    private String adminPw;    public void setAdminId(String adminId)&#123;        this.adminId = adminId;    &#125;    public void setAdminPw(String adminPw)&#123;        this.adminPw = adminPw;    &#125;    @Override    public void afterPropertiesSet() throw Exception &#123;    &#125;    @Override    public void destory()&#123;        // Bean이 소멸할 때 호출된다.    &#125;&#125;\n마지막으로 EnvironmentAware을 구현하고 setEnvironment()를 구현하자.\nAdminConnection.java123456789101112131415161718192021222324252627282930313233public class AdminConnection implements InitializingBean, DisposableBean, EnvironmentAware &#123;    private Environment env;    private String adminId;    private String adminPw;    public void setAdminId(String adminId)&#123;        this.adminId = adminId;    &#125;    public void setAdminPw(String adminPw)&#123;        this.adminPw = adminPw;    &#125;    public void setEnv(Environment env) &#123;        this.env = env;    &#125;\t    @Override    public void afterPropertiesSet() throw Exception &#123;        setAdminId(env.getProperty(“admin.id”));        setAdminPw(env.getProperty(“admin.pw”));    &#125;    @Override    public void destory()&#123;    &#125;    @override\t    public void setEnvironment(Environment env)&#123;        setEnv(env);    &#125;&#125;\nAdminConnection을 IoC Container에 등록한다.\napplicationCTX.xml123&lt;beans&gt;    &lt;bean id=“adminConnection” class=‘com.yologger.app.AdminConnection” /&gt;&lt;/bean&gt;\n이제 App.java을 다음과 같이 구현하자.\nApp.java12345678910111213141516171819202122232425262728293031public class App &#123;    public static void main(String[] args)&#123;        ConfigurableApplicationContext ctx = new GenericXmlApplicationContext();        // env가 EnvironmentAware를 구현한 클래스의 setEnvironment()의 파라미터로 전달된다.        ConfigurableEnvironment env = ctx.getEnvironment();                   MutablePropertySources propertySources = env.getPropertySources();        try&#123;            // admin.properties 파일의 속성을 추가하자            propertySource.addLast(new ResourcePropertySource(&quot;classpath:admin.properties&quot;));        &#125; catch (IOException e) &#123;            e.printStackTrace();        &#125;        GenericXmlApplicationContext gCtx = (GenericXmlApplicationContext)ctx;        gCtx.load(&quot;applicationCTX&quot;);        gCtx.refresh();        AdminConnection adminConnection = gCtx.getBean(&quot;adminConnection&quot;, AdminConnection.class);        System.out.println(adminConnection.getAdminId());   // paul        System.out.println(adminConnection.getAdminPw());   // 1234        gCtx.close();        ctx.close();    &#125;&#125;\n위 코드들은 다음과 같이 동작한다.\n\ngCtx.getBean(&quot;adminConnection&quot;, AdminConnection.class)를 호출한다.\nAdminConnection클래스의 인스턴스가 생성되면서 setEnvironment(Environment env)가 호출된다.\nAdminConnection의 afterPropertiesSet()가 호출되며, 이 안에서 adminId와 adminPw을 초기화한다.\n\n방법 3) 어노테이션 사용admin.properties, user.properties파일을 src/main/resources 경로에 생성한다.\nadmin.properties12admin.id=pauladmin.password=1234\nuser.properties12user.id=monicauser.password=5678\n다음과 같이 ApplicationConfig.java 파일을 생성하자.\nApplicationConfig.java123456789101112131415161718192021222324252627@Configurationpublic class ApplicationConfig &#123;    @Value(“$&#123;admin.id&#125;”)    private String adminId;    @Value(“$&#123;admin.pw&#125;”)    private String adminPw;    @Bean    public static PropertySourcesPlaceholderConfigurer Properties() &#123;        PropertySourcesPlaceholderConfigurer configurer = PropertySourcesPlaceholderConfigurer();        Resource[] locations = new Resourse[2];        locations[0] = new ClassPathResource(&quot;admin.properties&quot;);        locations[1] = new ClassPathResource(&quot;user.properties&quot;);        configurer.setLocations(locations);        return configurer;    &#125;    @Bean    public AdminConnection adminConfig()&#123;        AdminConnection adminConnection = new AdminConnection();        adminConnection.setAdminId(adminId);        adminConnection.setAdminPw(adminPw);        return adminConnection;    &#125;\t\t&#125;\n이제 코드에서 다음과 같이 사용할 수 있다.\nApp.java12345678public class Main&#123;    public static void main(String[] args)&#123;        AnnotationApplicationContext ctx = new AnnotationConfigApplicationContext(&quot;ApplicationConfig.class&quot;);        AdminConnection connection = ctx.getBean(&quot;adminConfig&quot;, AdminConnection.class);        System.out.println(connection.getAdminId());    &#125;\t&#125;\n\n방법 4) context:property-placeholder 태그 사용하기XML 파일에서 &lt;context:property-placeholder&gt;태그를 사용하면 Environment 객체를 사용하지 않고도 속성값을 읽어올 수 있다.\n다음과 같은 .properties파일이 있다고 하자.\nadmin.properties12admin.id=pauladmin.password=1234\nuser.properties12user.id=monicauser.password=5678\nApplicationCTX.xml 파일에 다음 내용을 추가한다.\n\nxmlns:context = “http://www.springframework.org/schema/context&quot;\nxsi:schemaLocation = “http://www.springframework.org/schema/context&quot;\nxsi:schemaLocation = “http://www.springframework.org/schema/spring-context-3.2.xsd&quot;\n\n이제 다음과 같이 ApplicationCTX.xml을 작성한다.\nApplicationCTX.xml123456789101112131415161718&lt;beans    xmlns:context = “http://www.springframework.org/schema/context”    xsi:schemaLocation = “http://www.springframework.org/schema/beans     http://www.springframework.org/schema/spring-beans.xsd    http://www.springframework.org/schema/context    http://www.springframework.org/schema/spring-context-3.2.xsd”&gt;        &lt;context:property-placeholder location=“classpath:admin.properties, classpath:sub_admin.properties” /&gt;    &lt;bean id=“adminConnection” class=“com.javalec.ex.AdminConnection”&gt;        &lt;property&gt;            &lt;value&gt;$&#123;admin.id&#125;&lt;/value&gt;        &lt;/property&gt;        &lt;property&gt;            &lt;value&gt;$&#123;sub_admin.id&#125;&lt;/value&gt;        &lt;/property&gt;    &lt;/bean&gt;&lt;/beans&gt;\t\n\nProfile보통 애플리케이션을 개발할 때 개발 환경과 운영 환경을 분리한다. 이때 Profile을 사용하면 개발 환경의 설정 파일과 운영 환경의 설정 파일을 분리할 수 있다.\n방법 1) XML 파일을 사용ServelConnection은 개발 환경과 운영 환경에 따라 ip와 port가 다르도록 구성하려고 한다.\nServelConnection.java123456789101112131415161718public class ServelConnection &#123;    private String ip;    private String port;        public String getIp()&#123;        return this.ip;    &#125;    public String getPort()&#123;        return this.port;    &#125;    public void setIpNum(String ip)&#123;        this.ip = ip;    &#125;    public void setPortNum(String port)&#123;        this.port = port;    &#125;&#125;\t\n이를 위해 두 개의 applicationCTX.xml 파일을 생성한다. 이때 &lt;beans&gt;태그의 profile속성으로 개발 환경과 운영 환경을 분리한다.\napplicationCTX_dev.xml123456789101112&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans     http://www.springframework.org/schema/beans/spring-beans.xsd&quot;    profile=&quot;dev&quot;&gt;    &lt;bean id=&quot;serverConnection&quot; class=&quot;com.yologger.app.ServerConnection&quot;&gt;        &lt;property name=&quot;ip&quot; value=&quot;localhost&quot;&gt;&lt;/property&gt;        &lt;property name=&quot;port&quot; value=&quot;8080&quot;&gt;&lt;/property&gt;    &lt;/bean&gt;&lt;/beans&gt;\napplicationCTX_prod.xml123456789101112&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;    xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans     http://www.springframework.org/schema/beans/spring-beans.xsd&quot;    profile=&quot;prod&quot;&gt;    &lt;bean id=&quot;serverConnection&quot; class=&quot;com.yologger.app.ServerConnection&quot;&gt;        &lt;property name=&quot;ip&quot; value=&quot;213.184.221.32&quot;&gt;&lt;/property&gt;        &lt;property name=&quot;port&quot; value=&quot;80&quot;&gt;&lt;/property&gt;    &lt;/bean&gt;&lt;/beans&gt;\n이제 다음과 같이 사용할 수 있다.\nApp.java1234567891011121314151617181920212223242526272829public class App&#123;    public static void main(String[] args)&#123;        String config = null;        Scanner scanner = new Scanner(System.in);        String str = scanner.next();        if(str.equals(&quot;dev&quot;))&#123;            config = &quot;dev&quot;;        &#125;else if(str.equals(&quot;prod&quot;))&#123;            config = &quot;prod&quot;;        &#125;                scanner.close();        GenericXmlApplicationContext ctx = new GenericXmlApplicationContext();        ctx.getEnvironment().setActiveProfiles(config);\t\t\t\t\t\t        ctx.load(&quot;applicationCTX_dev.xml&quot;, &quot;applicationCTX_run.xml&quot;);        // config==&quot;dev&quot;면 profile=&quot;dev&quot;가 포함된 applicationCTX_dev.xml에서 Bean을 읽어옵니다.        ServerConnectin connection = ctx.getBean(&quot;serverConnection&quot;, ServerConnection.class);        System.out.println(connection.getIp());        System.out.println(connection.getPort());        ctx.close();&#125;\t\n\n방법 2) Java 파일과 어노테이션 사용다음과 같이 두 Java 파일을 생성하자.\nApplicationConfigDev.java1234567891011@Configuration@Profile(&quot;dev&quot;)public class ApplicationConfigDev &#123;    @Bean    public ServerConnection serverConnection() &#123;        ServerConnection connection = new ServerConnection();        connection.setIp(&quot;localhost&quot;);        connection.setPort(&quot;8080&quot;);        return connection;    &#125;&#125;\nApplicationConfigProd.java1234567891011@Configuration@Profile(&quot;prod&quot;)public class ApplicationConfigProd &#123;    @Bean    public ServerConnection serverConnection() &#123;        ServerConnection connection = new ServerConnection();        connection.setIp(&quot;213.184.221.32&quot;);        connection.setPort(&quot;80&quot;);        return connection;    &#125;&#125;\n이제 다음과 같이 사용할 수 있다.\nApp.class1234567891011121314151617181920212223242526public class App &#123;    public static void main(String[] args)&#123;        String config = null;        Scanner scanner = new Scanner(System.in);        String str = scanner.next();        if(str.equals(&quot;dev&quot;))&#123;            config = &quot;dev&quot;;        &#125;else if(str.equals(&quot;prod&quot;))&#123;            config = &quot;prod&quot;;        &#125;                scanner.close();        AnnotationConfigApplicationContext ctx = new AnnotationConfigApplicationContext();        ctx.getEnvironment().setActiveProfiles(config);\t\t\t\t\t\t        ctx.register(ApplicationConfigDev.class, ApplicationConfigRun.class);        ctx.refresh();        ServerConnectin connection = ctx.getBean(&quot;serverConnection&quot;, ServerConnectin.class);        System.out.println(connection.getIp());        System.out.println(connection.getPort());        ctx.close();    &#125;\t\t&#125;","dateCreated":"2019-03-02T00:00:00+09:00","dateModified":"2021-12-13T10:10:32+09:00","datePublished":"2019-03-02T00:00:00+09:00","description":"","headline":"[Spring Core] 외부 파일에서 설정값 읽어오기 (Properties 파일)","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"},"publisher":{"@type":"Organization","name":"yologger","sameAs":[]},"url":"https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/","keywords":"Spring, Spring Core"}</script>
    <meta name="description" content="외부 파일에서 설정값 읽어오기.properties 파일을 사용하면 외부에서 설정값을 읽어올 수 있다. 방법 1). ConfigurableEnvironment, MutablePropertySources 사용하기admin.properties파일을 src&#x2F;main&#x2F;resources 경로에 생성한다. admin.properties12admin.id&#x3D;pauladm">
<meta property="og:type" content="blog">
<meta property="og:title" content="[Spring Core] 외부 파일에서 설정값 읽어오기 (Properties 파일)">
<meta property="og:url" content="https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/index.html">
<meta property="og:site_name" content="Yologger&#39;s Blog">
<meta property="og:description" content="외부 파일에서 설정값 읽어오기.properties 파일을 사용하면 외부에서 설정값을 읽어올 수 있다. 방법 1). ConfigurableEnvironment, MutablePropertySources 사용하기admin.properties파일을 src&#x2F;main&#x2F;resources 경로에 생성한다. admin.properties12admin.id&#x3D;pauladm">
<meta property="og:locale" content="ko_KR">
<meta property="article:published_time" content="2019-03-01T15:00:00.000Z">
<meta property="article:modified_time" content="2021-12-13T01:10:32.363Z">
<meta property="article:author" content="yologger">
<meta property="article:tag" content="Spring">
<meta property="article:tag" content="Spring Core">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/ko/assets/css/style-mg0ufdhe3lf13uaqzh5sfd3dtbhx3iokplil152c5hqau8lqr315qgpxsjvw.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QYKNWR810R"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-QYKNWR810R');
    </script>


    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ko/"
            aria-label=""
        >
            Yologger&#39;s Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /ko/#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://yologger.github.io"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="English"
                        >
                        <i class="sidebar-button-icon fa fa-globe" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">English</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/yologger"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/java"
                            
                            rel="noopener"
                            title="Java"
                        >
                        <i class="sidebar-button-icon fab fa-java" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Java</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/kotlin"
                            
                            rel="noopener"
                            title="Kotlin"
                        >
                        <i class="sidebar-button-icon fab fa-korvue" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Kotlin</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/spring"
                            
                            rel="noopener"
                            title="Spring"
                        >
                        <i class="sidebar-button-icon fas fa-leaf" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Spring</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/android"
                            
                            rel="noopener"
                            title="Android"
                        >
                        <i class="sidebar-button-icon fab fa-android" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Android</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/infra_devops"
                            
                            rel="noopener"
                            title="Infra, DevOps"
                        >
                        <i class="sidebar-button-icon fa fa-server" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Infra, DevOps</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/tools"
                            
                            rel="noopener"
                            title="Tool"
                        >
                        <i class="sidebar-button-icon fa fa-wrench" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tool</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/algorithm"
                            
                            rel="noopener"
                            title="Algorithm"
                        >
                        <i class="sidebar-button-icon fas fa-project-diagram" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Algorithm</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            [Spring Core] 외부 파일에서 설정값 읽어오기 (Properties 파일)
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2019-03-02T00:00:00+09:00">
	
		    2019/03/02
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Spring/">Spring</a>, <a class="category-link" href="/ko/categories/Spring/Spring-Core/">Spring Core</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <hr>
<h1 id="외부-파일에서-설정값-읽어오기"><a href="#외부-파일에서-설정값-읽어오기" class="headerlink" title="외부 파일에서 설정값 읽어오기"></a>외부 파일에서 설정값 읽어오기</h1><p><code>.properties</code> 파일을 사용하면 외부에서 설정값을 읽어올 수 있다.</p>
<h3 id="방법-1-ConfigurableEnvironment-MutablePropertySources-사용하기"><a href="#방법-1-ConfigurableEnvironment-MutablePropertySources-사용하기" class="headerlink" title="방법 1). ConfigurableEnvironment, MutablePropertySources 사용하기"></a>방법 1). ConfigurableEnvironment, MutablePropertySources 사용하기</h3><p><code>admin.properties</code>파일을 <code>src/main/resources</code> 경로에 생성한다.</p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<p>이제 다음과 같이 설정값을 읽어올 수 있다.</p>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        ConfigurableApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Environment 객체는 애플리케이션마다 1개씩 존재                </span></span><br><span class="line">        ConfigurableEnvironment env = ctx.getEnvironment();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Environment 객체 내부의 모든 propertySources를 가져온다.</span></span><br><span class="line">        MutablePropertySources propertySources = env.getPropertySources();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// 새로운 propertySource를 추가한다.</span></span><br><span class="line">            propertySources.addLast(<span class="keyword">new</span> ResourcePropertySource(<span class="string">&quot;classpath:admin.properties&quot;</span>));</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 속성값을 읽어온다.</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;admin.id&quot;</span>));    <span class="comment">// paul</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;admin.pw&quot;</span>));    <span class="comment">// 1234</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>웹 애플리케이션에는 오직 하나의 <code>Environment</code> 객체만 존재한다. <code>Environment</code> 안에는 여러 <code>PropertySource</code>를 추가할 수 있다.</p>
<p>다음과 같이 여러 <code>.properites</code>파일을 읽어올 수도 있다.</p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><figcaption><span>user.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.id=monica</span><br><span class="line">user.password=5678</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        ConfigurableApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext();          </span><br><span class="line">        ConfigurableEnvironment env = ctx.getEnvironment();</span><br><span class="line">        MutablePropertySources propertySources = env.getPropertySources();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            propertySources.addLast(<span class="keyword">new</span> ResourcePropertySource(<span class="string">&quot;classpath:admin.properties&quot;</span>));</span><br><span class="line">            propertySources.addLast(<span class="keyword">new</span> ResourcePropertySource(<span class="string">&quot;classpath:user.properties&quot;</span>));</span><br><span class="line"></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;admin.id&quot;</span>));    <span class="comment">// paul</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;admin.pw&quot;</span>));    <span class="comment">// 1234</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;user.id&quot;</span>));     <span class="comment">// monica</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;user.pw&quot;</span>));     <span class="comment">// 5678</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="방법-2-EnvironmentAware"><a href="#방법-2-EnvironmentAware" class="headerlink" title="방법 2) EnvironmentAware"></a>방법 2) EnvironmentAware</h3><p>다음과 같은 클래스가 있다.</p>
<figure class="highlight java"><figcaption><span>AdminConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminConnection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminId</span><span class="params">(String adminId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminId = adminId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminPw</span><span class="params">(String adminPw)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminPw = adminPw;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 <code>.properties</code>파일에서 읽어온 속성값으로 <code>AdminConnection</code> 클래스의 <code>adminId</code>, <code>adminPw</code>을 초기화하려고 한다. </p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<p><code>InitializingBean</code>을 구현하고 <code>afterPropertiesSet()</code>메소드를 구현한다. 이 메소드는 Bean이 생성될 때 호출된다.</p>
<figure class="highlight java"><figcaption><span>AdminConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminConnection</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminId</span><span class="params">(String adminId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminId = adminId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminPw</span><span class="params">(String adminPw)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminPw = adminPw;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> throw Exception </span>&#123;</span><br><span class="line">        <span class="comment">// Bean이 생성될 때 호출된다.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>그 다음 <code>DisposableBean</code>을 구현하고 <code>destory()</code>메소드를 구현하자. 이 메소드는 Bean이 소멸할 때 호출된다.</p>
<figure class="highlight java"><figcaption><span>AdminConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminConnection</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span>, <span class="title">DisposableBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminId</span><span class="params">(String adminId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminId = adminId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminPw</span><span class="params">(String adminPw)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminPw = adminPw;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> throw Exception </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// Bean이 소멸할 때 호출된다.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>마지막으로 <code>EnvironmentAware</code>을 구현하고 <code>setEnvironment()</code>를 구현하자.</p>
<figure class="highlight java"><figcaption><span>AdminConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminConnection</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span>, <span class="title">DisposableBean</span>, <span class="title">EnvironmentAware</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Environment env;</span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminId</span><span class="params">(String adminId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminId = adminId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminPw</span><span class="params">(String adminPw)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminPw = adminPw;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEnv</span><span class="params">(Environment env)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.env = env;</span><br><span class="line">    &#125;	</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> throw Exception </span>&#123;</span><br><span class="line">        setAdminId(env.getProperty(“admin.id”));</span><br><span class="line">        setAdminPw(env.getProperty(“admin.pw”));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@override</span>	</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEnvironment</span><span class="params">(Environment env)</span></span>&#123;</span><br><span class="line">        setEnv(env);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>AdminConnection</code>을 IoC Container에 등록한다.</p>
<figure class="highlight xml"><figcaption><span>applicationCTX.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">“adminConnection”</span> <span class="attr">class</span>=<span class="string">‘com.yologger.app.AdminConnection”</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>이제 <code>App.java</code>을 다음과 같이 구현하자.</p>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        ConfigurableApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// env가 EnvironmentAware를 구현한 클래스의 setEnvironment()의 파라미터로 전달된다.</span></span><br><span class="line">        ConfigurableEnvironment env = ctx.getEnvironment();   </span><br><span class="line">        </span><br><span class="line">        MutablePropertySources propertySources = env.getPropertySources();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// admin.properties 파일의 속성을 추가하자</span></span><br><span class="line">            propertySource.addLast(<span class="keyword">new</span> ResourcePropertySource(<span class="string">&quot;classpath:admin.properties&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        GenericXmlApplicationContext gCtx = (GenericXmlApplicationContext)ctx;</span><br><span class="line">        gCtx.load(<span class="string">&quot;applicationCTX&quot;</span>);</span><br><span class="line">        gCtx.refresh();</span><br><span class="line"></span><br><span class="line">        AdminConnection adminConnection = gCtx.getBean(<span class="string">&quot;adminConnection&quot;</span>, AdminConnection.class);</span><br><span class="line"></span><br><span class="line">        System.out.println(adminConnection.getAdminId());   <span class="comment">// paul</span></span><br><span class="line">        System.out.println(adminConnection.getAdminPw());   <span class="comment">// 1234</span></span><br><span class="line"></span><br><span class="line">        gCtx.close();</span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드들은 다음과 같이 동작한다.</p>
<ol>
<li><code>gCtx.getBean(&quot;adminConnection&quot;, AdminConnection.class)</code>를 호출한다.</li>
<li><code>AdminConnection</code>클래스의 인스턴스가 생성되면서 <code>setEnvironment(Environment env)</code>가 호출된다.</li>
<li><code>AdminConnection</code>의 <code>afterPropertiesSet()</code>가 호출되며, 이 안에서 <code>adminId</code>와 <code>adminPw</code>을 초기화한다.</li>
</ol>
<h3 id="방법-3-어노테이션-사용"><a href="#방법-3-어노테이션-사용" class="headerlink" title="방법 3) 어노테이션 사용"></a>방법 3) 어노테이션 사용</h3><p><code>admin.properties</code>, <code>user.properties</code>파일을 <code>src/main/resources</code> 경로에 생성한다.</p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><figcaption><span>user.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.id=monica</span><br><span class="line">user.password=5678</span><br></pre></td></tr></table></figure>
<p>다음과 같이 <code>ApplicationConfig.java</code> 파일을 생성하자.</p>
<figure class="highlight java"><figcaption><span>ApplicationConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(“$&#123;admin.id&#125;”)</span></span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(“$&#123;admin.pw&#125;”)</span></span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> PropertySourcesPlaceholderConfigurer <span class="title">Properties</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        PropertySourcesPlaceholderConfigurer configurer = PropertySourcesPlaceholderConfigurer();</span><br><span class="line">        Resource[] locations = <span class="keyword">new</span> Resourse[<span class="number">2</span>];</span><br><span class="line">        locations[<span class="number">0</span>] = <span class="keyword">new</span> ClassPathResource(<span class="string">&quot;admin.properties&quot;</span>);</span><br><span class="line">        locations[<span class="number">1</span>] = <span class="keyword">new</span> ClassPathResource(<span class="string">&quot;user.properties&quot;</span>);</span><br><span class="line">        configurer.setLocations(locations);</span><br><span class="line">        <span class="keyword">return</span> configurer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AdminConnection <span class="title">adminConfig</span><span class="params">()</span></span>&#123;</span><br><span class="line">        AdminConnection adminConnection = <span class="keyword">new</span> AdminConnection();</span><br><span class="line">        adminConnection.setAdminId(adminId);</span><br><span class="line">        adminConnection.setAdminPw(adminPw);</span><br><span class="line">        <span class="keyword">return</span> adminConnection;</span><br><span class="line">    &#125;		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 코드에서 다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        AnnotationApplicationContext ctx = <span class="keyword">new</span> AnnotationConfigApplicationContext(<span class="string">&quot;ApplicationConfig.class&quot;</span>);</span><br><span class="line"></span><br><span class="line">        AdminConnection connection = ctx.getBean(<span class="string">&quot;adminConfig&quot;</span>, AdminConnection.class);</span><br><span class="line">        System.out.println(connection.getAdminId());</span><br><span class="line">    &#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="방법-4-context-property-placeholder-태그-사용하기"><a href="#방법-4-context-property-placeholder-태그-사용하기" class="headerlink" title="방법 4) context:property-placeholder 태그 사용하기"></a>방법 4) context:property-placeholder 태그 사용하기</h3><p>XML 파일에서 <code>&lt;context:property-placeholder&gt;</code>태그를 사용하면 Environment 객체를 사용하지 않고도 속성값을 읽어올 수 있다.</p>
<p>다음과 같은 <code>.properties</code>파일이 있다고 하자.</p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><figcaption><span>user.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.id=monica</span><br><span class="line">user.password=5678</span><br></pre></td></tr></table></figure>
<p><code>ApplicationCTX.xml</code> 파일에 다음 내용을 추가한다.</p>
<ul>
<li>xmlns:context = “<a target="_blank" rel="noopener" href="http://www.springframework.org/schema/context&quot;">http://www.springframework.org/schema/context&quot;</a></li>
<li>xsi:schemaLocation = “<a target="_blank" rel="noopener" href="http://www.springframework.org/schema/context&quot;">http://www.springframework.org/schema/context&quot;</a></li>
<li>xsi:schemaLocation = “<a target="_blank" rel="noopener" href="http://www.springframework.org/schema/spring-context-3.2.xsd&quot;">http://www.springframework.org/schema/spring-context-3.2.xsd&quot;</a></li>
</ul>
<p>이제 다음과 같이 <code>ApplicationCTX.xml</code>을 작성한다.</p>
<figure class="highlight xml"><figcaption><span>ApplicationCTX.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:context</span> = <span class="string">“http://www.springframework.org/schema/context”</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span> = <span class="string">“http://www.springframework.org/schema/beans</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">http:</span>//<span class="attr">www.springframework.org</span>/<span class="attr">schema</span>/<span class="attr">spring-beans.xsd</span></span></span><br><span class="line"><span class="tag">    <span class="attr">http:</span>//<span class="attr">www.springframework.org</span>/<span class="attr">schema</span>/<span class="attr">context</span></span></span><br><span class="line"><span class="tag">    <span class="attr">http:</span>//<span class="attr">www.springframework.org</span>/<span class="attr">schema</span>/<span class="attr">spring-context-3.2.xsd</span>”&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">“classpath:admin.properties,</span> <span class="attr">classpath:sub_admin.properties</span>” /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">“adminConnection”</span> <span class="attr">class</span>=<span class="string">“com.javalec.ex.AdminConnection”</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>$&#123;admin.id&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>$&#123;sub_admin.id&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span>	</span><br></pre></td></tr></table></figure>

<h1 id="Profile"><a href="#Profile" class="headerlink" title="Profile"></a>Profile</h1><p>보통 애플리케이션을 개발할 때 개발 환경과 운영 환경을 분리한다. 이때 <code>Profile</code>을 사용하면 개발 환경의 설정 파일과 운영 환경의 설정 파일을 분리할 수 있다.</p>
<h3 id="방법-1-XML-파일을-사용"><a href="#방법-1-XML-파일을-사용" class="headerlink" title="방법 1) XML 파일을 사용"></a>방법 1) XML 파일을 사용</h3><p><code>ServelConnection</code>은 개발 환경과 운영 환경에 따라 <code>ip</code>와 <code>port</code>가 다르도록 구성하려고 한다.</p>
<figure class="highlight java"><figcaption><span>ServelConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServelConnection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String ip;</span><br><span class="line">    <span class="keyword">private</span> String port;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getIp</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.ip;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPort</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.port;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIpNum</span><span class="params">(String ip)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ip = ip;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPortNum</span><span class="params">(String port)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.port = port;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>
<p>이를 위해 두 개의 <code>applicationCTX.xml</code> 파일을 생성한다. 이때 <code>&lt;beans&gt;</code>태그의 <code>profile</code>속성으로 개발 환경과 운영 환경을 분리한다.</p>
<figure class="highlight xml"><figcaption><span>applicationCTX_dev.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans </span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">profile</span>=<span class="string">&quot;dev&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;serverConnection&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.ServerConnection&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ip&quot;</span> <span class="attr">value</span>=<span class="string">&quot;localhost&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;port&quot;</span> <span class="attr">value</span>=<span class="string">&quot;8080&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><figcaption><span>applicationCTX_prod.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans </span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">profile</span>=<span class="string">&quot;prod&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;serverConnection&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.ServerConnection&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ip&quot;</span> <span class="attr">value</span>=<span class="string">&quot;213.184.221.32&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;port&quot;</span> <span class="attr">value</span>=<span class="string">&quot;80&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>이제 다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        String config = <span class="keyword">null</span>;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = scanner.next();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(str.equals(<span class="string">&quot;dev&quot;</span>))&#123;</span><br><span class="line">            config = <span class="string">&quot;dev&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(str.equals(<span class="string">&quot;prod&quot;</span>))&#123;</span><br><span class="line">            config = <span class="string">&quot;prod&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        scanner.close();</span><br><span class="line"></span><br><span class="line">        GenericXmlApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext();</span><br><span class="line">        ctx.getEnvironment().setActiveProfiles(config);						</span><br><span class="line">        ctx.load(<span class="string">&quot;applicationCTX_dev.xml&quot;</span>, <span class="string">&quot;applicationCTX_run.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// config==&quot;dev&quot;면 profile=&quot;dev&quot;가 포함된 applicationCTX_dev.xml에서 Bean을 읽어옵니다.</span></span><br><span class="line">        ServerConnectin connection = ctx.getBean(<span class="string">&quot;serverConnection&quot;</span>, ServerConnection.class);</span><br><span class="line"></span><br><span class="line">        System.out.println(connection.getIp());</span><br><span class="line">        System.out.println(connection.getPort());</span><br><span class="line"></span><br><span class="line">        ctx.close();</span><br><span class="line"></span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<h3 id="방법-2-Java-파일과-어노테이션-사용"><a href="#방법-2-Java-파일과-어노테이션-사용" class="headerlink" title="방법 2) Java 파일과 어노테이션 사용"></a>방법 2) Java 파일과 어노테이션 사용</h3><p>다음과 같이 두 Java 파일을 생성하자.</p>
<figure class="highlight java"><figcaption><span>ApplicationConfigDev.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Profile(&quot;dev&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationConfigDev</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerConnection <span class="title">serverConnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ServerConnection connection = <span class="keyword">new</span> ServerConnection();</span><br><span class="line">        connection.setIp(<span class="string">&quot;localhost&quot;</span>);</span><br><span class="line">        connection.setPort(<span class="string">&quot;8080&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>ApplicationConfigProd.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Profile(&quot;prod&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationConfigProd</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerConnection <span class="title">serverConnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ServerConnection connection = <span class="keyword">new</span> ServerConnection();</span><br><span class="line">        connection.setIp(<span class="string">&quot;213.184.221.32&quot;</span>);</span><br><span class="line">        connection.setPort(<span class="string">&quot;80&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><figcaption><span>App.class</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        String config = <span class="keyword">null</span>;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = scanner.next();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(str.equals(<span class="string">&quot;dev&quot;</span>))&#123;</span><br><span class="line">            config = <span class="string">&quot;dev&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(str.equals(<span class="string">&quot;prod&quot;</span>))&#123;</span><br><span class="line">            config = <span class="string">&quot;prod&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        scanner.close();</span><br><span class="line"></span><br><span class="line">        AnnotationConfigApplicationContext ctx = <span class="keyword">new</span> AnnotationConfigApplicationContext();</span><br><span class="line">        ctx.getEnvironment().setActiveProfiles(config);						</span><br><span class="line">        ctx.register(ApplicationConfigDev.class, ApplicationConfigRun.class);</span><br><span class="line">        ctx.refresh();</span><br><span class="line"></span><br><span class="line">        ServerConnectin connection = ctx.getBean(<span class="string">&quot;serverConnection&quot;</span>, ServerConnectin.class);</span><br><span class="line">        System.out.println(connection.getIp());</span><br><span class="line">        System.out.println(connection.getPort());</span><br><span class="line"></span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">태그</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/ko/tags/Spring/" rel="tag">Spring</a> <a class="tag tag--primary tag--small t-none-link" href="/ko/tags/Spring-Core/" rel="tag">Spring Core</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ko/2019/04/01/04_java/190401_reactor_flux_mono/"
                    data-tooltip="[Reactor] Reactive Stream API, Reactor(Flux, Mono)"
                    aria-label="이전: [Reactor] Reactive Stream API, Reactor(Flux, Mono)"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ko/2019/03/01/04_java/190301_immutable_collection/"
                    data-tooltip="[Java 9] 불변 컬렉션(Immutable Collection)"
                    aria-label="다음: [Java 9] 불변 컬렉션(Immutable Collection)"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2022 yologger. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ko/2019/04/01/04_java/190401_reactor_flux_mono/"
                    data-tooltip="[Reactor] Reactive Stream API, Reactor(Flux, Mono)"
                    aria-label="이전: [Reactor] Reactive Stream API, Reactor(Flux, Mono)"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">이전</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/ko/2019/03/01/04_java/190301_immutable_collection/"
                    data-tooltip="[Java 9] 불변 컬렉션(Immutable Collection)"
                    aria-label="다음: [Java 9] 불변 컬렉션(Immutable Collection)"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">다음</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="이 포스트 공유하기"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://www.facebook.com/sharer/sharer.php?u=https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                    title="Facebook에 공유하기"
                    aria-label="Facebook에 공유하기"
                >
                    <i class="fab fa-facebook" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://twitter.com/intent/tweet?text=https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                    title="Twitter에 공유하기"
                    aria-label="Twitter에 공유하기"
                >
                    <i class="fab fa-twitter" aria-hidden="true"></i>
                </a>
            </li>
        
            
            
            <li class="post-action hide-xs">
                <a
                    class="post-action-btn btn btn--default"
                    target="new" href="https://plus.google.com/share?url=https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                    title="Google+에 공유하기"
                    aria-label="Google+에 공유하기"
                >
                    <i class="fab fa-google-plus" aria-hidden="true"></i>
                </a>
            </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="맨 위로">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                
    <div id="share-options-bar" class="share-options-bar" data-behavior="4">
        <i id="btn-close-shareoptions" class="fa fa-times"></i>
        <ul class="share-options">
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://www.facebook.com/sharer/sharer.php?u=https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                        aria-label="Facebook에 공유하기"
                    >
                        <i class="fab fa-facebook" aria-hidden="true"></i><span>Facebook에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://twitter.com/intent/tweet?text=https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                        aria-label="Twitter에 공유하기"
                    >
                        <i class="fab fa-twitter" aria-hidden="true"></i><span>Twitter에 공유하기</span>
                    </a>
                </li>
            
                
                
                <li class="share-option">
                    <a
                        class="share-option-btn"
                        target="new"
                        href="https://plus.google.com/share?url=https://yologger.github.io/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                        aria-label="Google+에 공유하기"
                    >
                        <i class="fab fa-google-plus" aria-hidden="true"></i><span>Google+에 공유하기</span>
                    </a>
                </li>
            
        </ul>
    </div>


            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">yologger</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/ko/assets/images/background.png');"></div>
        <!--SCRIPTS-->

<script src="/ko/assets/js/script-s1qf4dycbfqqmgvjljlv3c81jri2dhkbfsbrr18gdsntpulta4iextu4bozl.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
