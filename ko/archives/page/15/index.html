
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Yologger&#39;s Blog">
    <title>아카이브 - Yologger&#39;s Blog</title>
    <meta name="author" content="yologger">
    
    
        <link rel="icon" href="https://yologger.github.io/ko/assets/images/favicon.png">
    
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="Yologger&#39;s Blog">
<meta property="og:type" content="blog">
<meta property="og:title" content="Yologger&#39;s Blog">
<meta property="og:url" content="https://yologger.github.io/ko/archives/page/15/index.html">
<meta property="og:site_name" content="Yologger&#39;s Blog">
<meta property="og:description" content="Yologger&#39;s Blog">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="yologger">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/ko/assets/css/style-mg0ufdhe3lf13uaqzh5sfd3dtbhx3iokplil152c5hqau8lqr315qgpxsjvw.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QYKNWR810R"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-QYKNWR810R');
    </script>


    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ko/"
            aria-label=""
        >
            Yologger&#39;s Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /ko/#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://yologger.github.io"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="English"
                        >
                        <i class="sidebar-button-icon fa fa-globe" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">English</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/yologger"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/java"
                            
                            rel="noopener"
                            title="Java"
                        >
                        <i class="sidebar-button-icon fab fa-java" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Java</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/kotlin"
                            
                            rel="noopener"
                            title="Kotlin"
                        >
                        <i class="sidebar-button-icon fab fa-korvue" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Kotlin</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/spring"
                            
                            rel="noopener"
                            title="Spring"
                        >
                        <i class="sidebar-button-icon fas fa-leaf" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Spring</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/android"
                            
                            rel="noopener"
                            title="Android"
                        >
                        <i class="sidebar-button-icon fab fa-android" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Android</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/infra_devops"
                            
                            rel="noopener"
                            title="Infra, DevOps"
                        >
                        <i class="sidebar-button-icon fa fa-server" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Infra, DevOps</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/tools"
                            
                            rel="noopener"
                            title="Tool"
                        >
                        <i class="sidebar-button-icon fa fa-wrench" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tool</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/algorithm"
                            
                            rel="noopener"
                            title="Algorithm"
                        >
                        <i class="sidebar-button-icon fas fa-project-diagram" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Algorithm</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/"
                            aria-label=": [Spring Core] 외부 파일에서 설정값 읽어오기 (Properties 파일)"
                        >
                            [Spring Core] 외부 파일에서 설정값 읽어오기 (Properties 파일)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-03-02T00:00:00+09:00">
	
		    2019/03/02
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Spring/">Spring</a>, <a class="category-link" href="/ko/categories/Spring/Spring-Core/">Spring Core</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="외부-파일에서-설정값-읽어오기"><a href="#외부-파일에서-설정값-읽어오기" class="headerlink" title="외부 파일에서 설정값 읽어오기"></a>외부 파일에서 설정값 읽어오기</h1><p><code>.properties</code> 파일을 사용하면 외부에서 설정값을 읽어올 수 있다.</p>
<h3 id="방법-1-ConfigurableEnvironment-MutablePropertySources-사용하기"><a href="#방법-1-ConfigurableEnvironment-MutablePropertySources-사용하기" class="headerlink" title="방법 1). ConfigurableEnvironment, MutablePropertySources 사용하기"></a>방법 1). ConfigurableEnvironment, MutablePropertySources 사용하기</h3><p><code>admin.properties</code>파일을 <code>src/main/resources</code> 경로에 생성한다.</p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<p>이제 다음과 같이 설정값을 읽어올 수 있다.</p>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        ConfigurableApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Environment 객체는 애플리케이션마다 1개씩 존재                </span></span><br><span class="line">        ConfigurableEnvironment env = ctx.getEnvironment();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Environment 객체 내부의 모든 propertySources를 가져온다.</span></span><br><span class="line">        MutablePropertySources propertySources = env.getPropertySources();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// 새로운 propertySource를 추가한다.</span></span><br><span class="line">            propertySources.addLast(<span class="keyword">new</span> ResourcePropertySource(<span class="string">&quot;classpath:admin.properties&quot;</span>));</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 속성값을 읽어온다.</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;admin.id&quot;</span>));    <span class="comment">// paul</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;admin.pw&quot;</span>));    <span class="comment">// 1234</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>웹 애플리케이션에는 오직 하나의 <code>Environment</code> 객체만 존재한다. <code>Environment</code> 안에는 여러 <code>PropertySource</code>를 추가할 수 있다.</p>
<p>다음과 같이 여러 <code>.properites</code>파일을 읽어올 수도 있다.</p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><figcaption><span>user.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.id=monica</span><br><span class="line">user.password=5678</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        ConfigurableApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext();          </span><br><span class="line">        ConfigurableEnvironment env = ctx.getEnvironment();</span><br><span class="line">        MutablePropertySources propertySources = env.getPropertySources();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            propertySources.addLast(<span class="keyword">new</span> ResourcePropertySource(<span class="string">&quot;classpath:admin.properties&quot;</span>));</span><br><span class="line">            propertySources.addLast(<span class="keyword">new</span> ResourcePropertySource(<span class="string">&quot;classpath:user.properties&quot;</span>));</span><br><span class="line"></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;admin.id&quot;</span>));    <span class="comment">// paul</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;admin.pw&quot;</span>));    <span class="comment">// 1234</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;user.id&quot;</span>));     <span class="comment">// monica</span></span><br><span class="line">            System.out.println(env.getProperty(<span class="string">&quot;user.pw&quot;</span>));     <span class="comment">// 5678</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="방법-2-EnvironmentAware"><a href="#방법-2-EnvironmentAware" class="headerlink" title="방법 2) EnvironmentAware"></a>방법 2) EnvironmentAware</h3><p>다음과 같은 클래스가 있다.</p>
<figure class="highlight java"><figcaption><span>AdminConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminConnection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminId</span><span class="params">(String adminId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminId = adminId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminPw</span><span class="params">(String adminPw)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminPw = adminPw;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 <code>.properties</code>파일에서 읽어온 속성값으로 <code>AdminConnection</code> 클래스의 <code>adminId</code>, <code>adminPw</code>을 초기화하려고 한다. </p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<p><code>InitializingBean</code>을 구현하고 <code>afterPropertiesSet()</code>메소드를 구현한다. 이 메소드는 Bean이 생성될 때 호출된다.</p>
<figure class="highlight java"><figcaption><span>AdminConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminConnection</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminId</span><span class="params">(String adminId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminId = adminId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminPw</span><span class="params">(String adminPw)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminPw = adminPw;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> throw Exception </span>&#123;</span><br><span class="line">        <span class="comment">// Bean이 생성될 때 호출된다.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>그 다음 <code>DisposableBean</code>을 구현하고 <code>destory()</code>메소드를 구현하자. 이 메소드는 Bean이 소멸할 때 호출된다.</p>
<figure class="highlight java"><figcaption><span>AdminConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminConnection</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span>, <span class="title">DisposableBean</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminId</span><span class="params">(String adminId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminId = adminId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminPw</span><span class="params">(String adminPw)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminPw = adminPw;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> throw Exception </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="comment">// Bean이 소멸할 때 호출된다.</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>마지막으로 <code>EnvironmentAware</code>을 구현하고 <code>setEnvironment()</code>를 구현하자.</p>
<figure class="highlight java"><figcaption><span>AdminConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">AdminConnection</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span>, <span class="title">DisposableBean</span>, <span class="title">EnvironmentAware</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> Environment env;</span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminId</span><span class="params">(String adminId)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminId = adminId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAdminPw</span><span class="params">(String adminPw)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.adminPw = adminPw;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEnv</span><span class="params">(Environment env)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.env = env;</span><br><span class="line">    &#125;	</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> throw Exception </span>&#123;</span><br><span class="line">        setAdminId(env.getProperty(“admin.id”));</span><br><span class="line">        setAdminPw(env.getProperty(“admin.pw”));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destory</span><span class="params">()</span></span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@override</span>	</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setEnvironment</span><span class="params">(Environment env)</span></span>&#123;</span><br><span class="line">        setEnv(env);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>AdminConnection</code>을 IoC Container에 등록한다.</p>
<figure class="highlight xml"><figcaption><span>applicationCTX.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">“adminConnection”</span> <span class="attr">class</span>=<span class="string">‘com.yologger.app.AdminConnection”</span> /&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>이제 <code>App.java</code>을 다음과 같이 구현하자.</p>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        ConfigurableApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// env가 EnvironmentAware를 구현한 클래스의 setEnvironment()의 파라미터로 전달된다.</span></span><br><span class="line">        ConfigurableEnvironment env = ctx.getEnvironment();   </span><br><span class="line">        </span><br><span class="line">        MutablePropertySources propertySources = env.getPropertySources();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="comment">// admin.properties 파일의 속성을 추가하자</span></span><br><span class="line">            propertySource.addLast(<span class="keyword">new</span> ResourcePropertySource(<span class="string">&quot;classpath:admin.properties&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        GenericXmlApplicationContext gCtx = (GenericXmlApplicationContext)ctx;</span><br><span class="line">        gCtx.load(<span class="string">&quot;applicationCTX&quot;</span>);</span><br><span class="line">        gCtx.refresh();</span><br><span class="line"></span><br><span class="line">        AdminConnection adminConnection = gCtx.getBean(<span class="string">&quot;adminConnection&quot;</span>, AdminConnection.class);</span><br><span class="line"></span><br><span class="line">        System.out.println(adminConnection.getAdminId());   <span class="comment">// paul</span></span><br><span class="line">        System.out.println(adminConnection.getAdminPw());   <span class="comment">// 1234</span></span><br><span class="line"></span><br><span class="line">        gCtx.close();</span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드들은 다음과 같이 동작한다.</p>
<ol>
<li><code>gCtx.getBean(&quot;adminConnection&quot;, AdminConnection.class)</code>를 호출한다.</li>
<li><code>AdminConnection</code>클래스의 인스턴스가 생성되면서 <code>setEnvironment(Environment env)</code>가 호출된다.</li>
<li><code>AdminConnection</code>의 <code>afterPropertiesSet()</code>가 호출되며, 이 안에서 <code>adminId</code>와 <code>adminPw</code>을 초기화한다.</li>
</ol>
<h3 id="방법-3-어노테이션-사용"><a href="#방법-3-어노테이션-사용" class="headerlink" title="방법 3) 어노테이션 사용"></a>방법 3) 어노테이션 사용</h3><p><code>admin.properties</code>, <code>user.properties</code>파일을 <code>src/main/resources</code> 경로에 생성한다.</p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><figcaption><span>user.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.id=monica</span><br><span class="line">user.password=5678</span><br></pre></td></tr></table></figure>
<p>다음과 같이 <code>ApplicationConfig.java</code> 파일을 생성하자.</p>
<figure class="highlight java"><figcaption><span>ApplicationConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(“$&#123;admin.id&#125;”)</span></span><br><span class="line">    <span class="keyword">private</span> String adminId;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(“$&#123;admin.pw&#125;”)</span></span><br><span class="line">    <span class="keyword">private</span> String adminPw;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> PropertySourcesPlaceholderConfigurer <span class="title">Properties</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        PropertySourcesPlaceholderConfigurer configurer = PropertySourcesPlaceholderConfigurer();</span><br><span class="line">        Resource[] locations = <span class="keyword">new</span> Resourse[<span class="number">2</span>];</span><br><span class="line">        locations[<span class="number">0</span>] = <span class="keyword">new</span> ClassPathResource(<span class="string">&quot;admin.properties&quot;</span>);</span><br><span class="line">        locations[<span class="number">1</span>] = <span class="keyword">new</span> ClassPathResource(<span class="string">&quot;user.properties&quot;</span>);</span><br><span class="line">        configurer.setLocations(locations);</span><br><span class="line">        <span class="keyword">return</span> configurer;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> AdminConnection <span class="title">adminConfig</span><span class="params">()</span></span>&#123;</span><br><span class="line">        AdminConnection adminConnection = <span class="keyword">new</span> AdminConnection();</span><br><span class="line">        adminConnection.setAdminId(adminId);</span><br><span class="line">        adminConnection.setAdminPw(adminPw);</span><br><span class="line">        <span class="keyword">return</span> adminConnection;</span><br><span class="line">    &#125;		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 코드에서 다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        AnnotationApplicationContext ctx = <span class="keyword">new</span> AnnotationConfigApplicationContext(<span class="string">&quot;ApplicationConfig.class&quot;</span>);</span><br><span class="line"></span><br><span class="line">        AdminConnection connection = ctx.getBean(<span class="string">&quot;adminConfig&quot;</span>, AdminConnection.class);</span><br><span class="line">        System.out.println(connection.getAdminId());</span><br><span class="line">    &#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="방법-4-context-property-placeholder-태그-사용하기"><a href="#방법-4-context-property-placeholder-태그-사용하기" class="headerlink" title="방법 4) context:property-placeholder 태그 사용하기"></a>방법 4) context:property-placeholder 태그 사용하기</h3><p>XML 파일에서 <code>&lt;context:property-placeholder&gt;</code>태그를 사용하면 Environment 객체를 사용하지 않고도 속성값을 읽어올 수 있다.</p>
<p>다음과 같은 <code>.properties</code>파일이 있다고 하자.</p>
<figure class="highlight bash"><figcaption><span>admin.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">admin.id=paul</span><br><span class="line">admin.password=1234</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><figcaption><span>user.properties</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.id=monica</span><br><span class="line">user.password=5678</span><br></pre></td></tr></table></figure>
<p><code>ApplicationCTX.xml</code> 파일에 다음 내용을 추가한다.</p>
<ul>
<li>xmlns:context = “<a target="_blank" rel="noopener" href="http://www.springframework.org/schema/context&quot;">http://www.springframework.org/schema/context&quot;</a></li>
<li>xsi:schemaLocation = “<a target="_blank" rel="noopener" href="http://www.springframework.org/schema/context&quot;">http://www.springframework.org/schema/context&quot;</a></li>
<li>xsi:schemaLocation = “<a target="_blank" rel="noopener" href="http://www.springframework.org/schema/spring-context-3.2.xsd&quot;">http://www.springframework.org/schema/spring-context-3.2.xsd&quot;</a></li>
</ul>
<p>이제 다음과 같이 <code>ApplicationCTX.xml</code>을 작성한다.</p>
<figure class="highlight xml"><figcaption><span>ApplicationCTX.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">beans</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:context</span> = <span class="string">“http://www.springframework.org/schema/context”</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span> = <span class="string">“http://www.springframework.org/schema/beans</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">http:</span>//<span class="attr">www.springframework.org</span>/<span class="attr">schema</span>/<span class="attr">spring-beans.xsd</span></span></span><br><span class="line"><span class="tag">    <span class="attr">http:</span>//<span class="attr">www.springframework.org</span>/<span class="attr">schema</span>/<span class="attr">context</span></span></span><br><span class="line"><span class="tag">    <span class="attr">http:</span>//<span class="attr">www.springframework.org</span>/<span class="attr">schema</span>/<span class="attr">spring-context-3.2.xsd</span>”&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">context:property-placeholder</span> <span class="attr">location</span>=<span class="string">“classpath:admin.properties,</span> <span class="attr">classpath:sub_admin.properties</span>” /&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">“adminConnection”</span> <span class="attr">class</span>=<span class="string">“com.javalec.ex.AdminConnection”</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>$&#123;admin.id&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>$&#123;sub_admin.id&#125;<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span>	</span><br></pre></td></tr></table></figure>

<h1 id="Profile"><a href="#Profile" class="headerlink" title="Profile"></a>Profile</h1><p>보통 애플리케이션을 개발할 때 개발 환경과 운영 환경을 분리한다. 이때 <code>Profile</code>을 사용하면 개발 환경의 설정 파일과 운영 환경의 설정 파일을 분리할 수 있다.</p>
<h3 id="방법-1-XML-파일을-사용"><a href="#방법-1-XML-파일을-사용" class="headerlink" title="방법 1) XML 파일을 사용"></a>방법 1) XML 파일을 사용</h3><p><code>ServelConnection</code>은 개발 환경과 운영 환경에 따라 <code>ip</code>와 <code>port</code>가 다르도록 구성하려고 한다.</p>
<figure class="highlight java"><figcaption><span>ServelConnection.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ServelConnection</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String ip;</span><br><span class="line">    <span class="keyword">private</span> String port;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getIp</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.ip;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getPort</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.port;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIpNum</span><span class="params">(String ip)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.ip = ip;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setPortNum</span><span class="params">(String port)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.port = port;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>
<p>이를 위해 두 개의 <code>applicationCTX.xml</code> 파일을 생성한다. 이때 <code>&lt;beans&gt;</code>태그의 <code>profile</code>속성으로 개발 환경과 운영 환경을 분리한다.</p>
<figure class="highlight xml"><figcaption><span>applicationCTX_dev.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans </span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">profile</span>=<span class="string">&quot;dev&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;serverConnection&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.ServerConnection&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ip&quot;</span> <span class="attr">value</span>=<span class="string">&quot;localhost&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;port&quot;</span> <span class="attr">value</span>=<span class="string">&quot;8080&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight xml"><figcaption><span>applicationCTX_prod.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans </span></span></span><br><span class="line"><span class="string"><span class="tag">    http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">profile</span>=<span class="string">&quot;prod&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;serverConnection&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.ServerConnection&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;ip&quot;</span> <span class="attr">value</span>=<span class="string">&quot;213.184.221.32&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;port&quot;</span> <span class="attr">value</span>=<span class="string">&quot;80&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>이제 다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        String config = <span class="keyword">null</span>;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = scanner.next();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(str.equals(<span class="string">&quot;dev&quot;</span>))&#123;</span><br><span class="line">            config = <span class="string">&quot;dev&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(str.equals(<span class="string">&quot;prod&quot;</span>))&#123;</span><br><span class="line">            config = <span class="string">&quot;prod&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        scanner.close();</span><br><span class="line"></span><br><span class="line">        GenericXmlApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext();</span><br><span class="line">        ctx.getEnvironment().setActiveProfiles(config);						</span><br><span class="line">        ctx.load(<span class="string">&quot;applicationCTX_dev.xml&quot;</span>, <span class="string">&quot;applicationCTX_run.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// config==&quot;dev&quot;면 profile=&quot;dev&quot;가 포함된 applicationCTX_dev.xml에서 Bean을 읽어옵니다.</span></span><br><span class="line">        ServerConnectin connection = ctx.getBean(<span class="string">&quot;serverConnection&quot;</span>, ServerConnection.class);</span><br><span class="line"></span><br><span class="line">        System.out.println(connection.getIp());</span><br><span class="line">        System.out.println(connection.getPort());</span><br><span class="line"></span><br><span class="line">        ctx.close();</span><br><span class="line"></span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>

<h3 id="방법-2-Java-파일과-어노테이션-사용"><a href="#방법-2-Java-파일과-어노테이션-사용" class="headerlink" title="방법 2) Java 파일과 어노테이션 사용"></a>방법 2) Java 파일과 어노테이션 사용</h3><p>다음과 같이 두 Java 파일을 생성하자.</p>
<figure class="highlight java"><figcaption><span>ApplicationConfigDev.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Profile(&quot;dev&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationConfigDev</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerConnection <span class="title">serverConnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ServerConnection connection = <span class="keyword">new</span> ServerConnection();</span><br><span class="line">        connection.setIp(<span class="string">&quot;localhost&quot;</span>);</span><br><span class="line">        connection.setPort(<span class="string">&quot;8080&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>ApplicationConfigProd.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Profile(&quot;prod&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationConfigProd</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> ServerConnection <span class="title">serverConnection</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        ServerConnection connection = <span class="keyword">new</span> ServerConnection();</span><br><span class="line">        connection.setIp(<span class="string">&quot;213.184.221.32&quot;</span>);</span><br><span class="line">        connection.setPort(<span class="string">&quot;80&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> connection;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><figcaption><span>App.class</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        String config = <span class="keyword">null</span>;</span><br><span class="line">        Scanner scanner = <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        String str = scanner.next();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span>(str.equals(<span class="string">&quot;dev&quot;</span>))&#123;</span><br><span class="line">            config = <span class="string">&quot;dev&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(str.equals(<span class="string">&quot;prod&quot;</span>))&#123;</span><br><span class="line">            config = <span class="string">&quot;prod&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        scanner.close();</span><br><span class="line"></span><br><span class="line">        AnnotationConfigApplicationContext ctx = <span class="keyword">new</span> AnnotationConfigApplicationContext();</span><br><span class="line">        ctx.getEnvironment().setActiveProfiles(config);						</span><br><span class="line">        ctx.register(ApplicationConfigDev.class, ApplicationConfigRun.class);</span><br><span class="line">        ctx.refresh();</span><br><span class="line"></span><br><span class="line">        ServerConnectin connection = ctx.getBean(<span class="string">&quot;serverConnection&quot;</span>, ServerConnectin.class);</span><br><span class="line">        System.out.println(connection.getIp());</span><br><span class="line">        System.out.println(connection.getPort());</span><br><span class="line"></span><br><span class="line">        ctx.close();</span><br><span class="line">    &#125;		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/03/02/06_spring/03_spring_core/20190302_properties_file/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/03/01/04_java/190301_immutable_collection/"
                            aria-label=": [Java 9] 불변 컬렉션(Immutable Collection)"
                        >
                            [Java 9] 불변 컬렉션(Immutable Collection)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-03-01T00:00:00+09:00">
	
		    2019/03/01
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-9/">Java 9</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<p>Java 9에는 <code>컬렉션(Collection)</code>을 <a href="/ko/2018/02/13/04_java/180213_mutable_immutable/">불변 객체</a>로 생성할 수 있도록 <code>List</code>, <code>Set</code>, <code>Map</code>에 새로운 메소드들이 추가되었다. </p>
<h1 id="Immutable-Collection"><a href="#Immutable-Collection" class="headerlink" title="Immutable Collection"></a>Immutable Collection</h1><p><code>Immutable Collection</code>은 요소의 삽입, 수정, 삭제가 불가능하다. 만약 삽입, 수정, 삭제를 하면 <code>UnsupportedOperationException</code>이 발생한다.</p>
<h1 id="Java-9-이전"><a href="#Java-9-이전" class="headerlink" title="Java 9 이전"></a>Java 9 이전</h1><p>Java 9 이전에는 <code>Collections</code>클래스의 <code>unmodifiableList()</code> 메소드로 Immutable List를 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">list.add(<span class="number">1</span>);</span><br><span class="line">list.add(<span class="number">2</span>);</span><br><span class="line">list.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">list = Collections.unmodifiableList(list);</span><br><span class="line"></span><br><span class="line">list.add(<span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException</span><br></pre></td></tr></table></figure>

<p><code>unmodifiableSet()</code>메소드로 Immutable Set을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">set.add(<span class="number">1</span>);</span><br><span class="line">set.add(<span class="number">2</span>);</span><br><span class="line">set.add(<span class="number">3</span>);</span><br><span class="line">set.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">set = Collections.unmodifiableSet(set);</span><br><span class="line"></span><br><span class="line">set.add(<span class="number">5</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException</span><br></pre></td></tr></table></figure>
<p><code>unmodifiableMap()</code>메소드로 Immutable Map을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt; map = <span class="keyword">new</span> HashMap&lt;String, String&gt;();</span><br><span class="line">map.put(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Paul&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;nation&quot;</span>, <span class="string">&quot;USA&quot;</span>);</span><br><span class="line">map.put(<span class="string">&quot;job&quot;</span>, <span class="string">&quot;Programmer&quot;</span>);</span><br><span class="line"></span><br><span class="line">map = Collections.unmodifiableMap(map);</span><br><span class="line"></span><br><span class="line">map.put(<span class="string">&quot;address&quot;</span>, <span class="string">&quot;New york&quot;</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException</span><br></pre></td></tr></table></figure>

<h1 id="Java-9-이후"><a href="#Java-9-이후" class="headerlink" title="Java 9 이후"></a>Java 9 이후</h1><p>Java 9부터는 <code>of()</code>메소드로 불변 컬렉션을 쉽게 생성할 수 있다.</p>
<h3 id="1-Immutable-List"><a href="#1-Immutable-List" class="headerlink" title="(1) Immutable List"></a>(1) Immutable List</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = List.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">list.add(<span class="number">6</span>);  </span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException</span><br></pre></td></tr></table></figure>
<h3 id="2-Immutable-Set"><a href="#2-Immutable-Set" class="headerlink" title="(2) Immutable Set"></a>(2) Immutable Set</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; set = Set.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">set.add(<span class="number">4</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.UnsupportedOperationException</span><br></pre></td></tr></table></figure>
<h3 id="3-Immutable-Map"><a href="#3-Immutable-Map" class="headerlink" title="(3) Immutable Map"></a>(3) Immutable Map</h3><p>Immmutable Map은 <code>of()</code>또는 <code>ofEntires()</code>로 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt;  map = Map.of(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Paul&quot;</span>, <span class="string">&quot;nation&quot;</span>, <span class="string">&quot;USA&quot;</span>);</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Map&lt;String, String&gt;  map = Map.ofEntries(</span><br><span class="line">    Map.entry(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;Paul&quot;</span>),</span><br><span class="line">    Map.entry(<span class="string">&quot;nation&quot;</span>, <span class="string">&quot;USA&quot;</span>)</span><br><span class="line">);</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/03/01/04_java/190301_immutable_collection/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/03/01/06_spring/03_spring_core/20190301_ioc_di/"
                            aria-label=": [Spring Core] 제어의 역전과 의존성 주입"
                        >
                            [Spring Core] 제어의 역전과 의존성 주입
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-03-01T00:00:00+09:00">
	
		    2019/03/01
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Spring/">Spring</a>, <a class="category-link" href="/ko/categories/Spring/Spring-Core/">Spring Core</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="Spring-Core"><a href="#Spring-Core" class="headerlink" title="Spring Core"></a>Spring Core</h1><p><code>Spring Core</code>는 Spring Framework의 핵심 컴포넌트다. Spring Core의 가장 중요한 기능은 <code>제어의 역전(Inversion of Control)</code>과 <code>의존성 주입(Dependency Injection)</code>이다.</p>
<hr>
<h1 id="설정"><a href="#설정" class="headerlink" title="설정"></a>설정</h1><p>우선 <a href="/ko/2018/06/01/12_tools/01_maven/20180601_maven_project/">Maven</a>을 사용하여 Java 애플리케이션을 생성한다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ mvn archetype:generate -DgroupId=com.yologger.app -DartifactId=app -DarchetypeArtifactId=maven-archetype-quickstart -DinteractiveMode=false</span><br></pre></td></tr></table></figure>
<p>생성된 프로젝트의 구조는 다음과 같다.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ tree</span><br><span class="line">.</span><br><span class="line">├── pom.xml</span><br><span class="line">└── src</span><br><span class="line">    ├── main</span><br><span class="line">    │   └── java</span><br><span class="line">    │       └── com</span><br><span class="line">    │           └── yologger</span><br><span class="line">    │               └── app</span><br><span class="line">    │                   └── App.java</span><br><span class="line">    └── test</span><br><span class="line">        └── java</span><br><span class="line">            └── com</span><br><span class="line">                └── yologger</span><br><span class="line">                    └── app</span><br><span class="line">                        └── AppTest.java</span><br></pre></td></tr></table></figure>

<h1 id="Spring-Core-설치"><a href="#Spring-Core-설치" class="headerlink" title="Spring Core 설치"></a>Spring Core 설치</h1><p><a href="/ko/2018/06/01/12_tools/01_maven/20180601_maven_project/">Maven</a> 프로젝트를 생성하고 다음 의존성을 추가한다.</p>
<figure class="highlight xml"><figcaption><span>pom.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">project</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">:schemaLocation</span>=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span></span><br><span class="line">	</span><br><span class="line">    <span class="tag">&lt;<span class="name">dependencies</span>&gt;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">&lt;!-- Spring Core --&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-context<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">version</span>&gt;</span>$&#123;spring-framework.version&#125;<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dependencies</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">project</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>참고로 <code>spring-context.jar</code>는 내부적으로 다음과 같은 의존성이 있다.</p>
<ul>
<li><code>spring-core.jar</code></li>
<li><code>spring-aop.jar</code></li>
<li><code>spring-beans.jar</code></li>
<li><code>spring-expression.jar</code></li>
</ul>
<hr>
<h1 id="제어의-역전과-의존성-주입"><a href="#제어의-역전과-의존성-주입" class="headerlink" title="제어의 역전과 의존성 주입"></a>제어의 역전과 의존성 주입</h1><p><code>제어의 역전(Inversion of Control)</code>은 객체의 생성, 관리, 제거 등의 제어를 개발자가 직접 하지 않고 <code>Spring IoC Container</code>에 위임하는 것이다. <code>의존성 주입(Dependency Injection)</code>은 <code>Spring IoC</code>가 적절한 곳에 객체를 주입하는 것이다.</p>
<h3 id="방법-1-setter"><a href="#방법-1-setter" class="headerlink" title="방법 1. setter"></a>방법 1. setter</h3><p>우선 <code>Phone.java</code>라는 클래스를 정의하자.</p>
<figure class="highlight java"><figcaption><span>Phone.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.app;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">	</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getManufacturer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> manufacturer;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setManufacturer</span><span class="params">(String manufacturer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.manufacturer = manufacturer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ApplicationContext.xml</code> 파일을 생성하고 다음과 같이 Bean을 등록한다.</p>
<figure class="highlight xml"><figcaption><span>ApplicationContext.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myPhone&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.Phone&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;iPhone 11&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;manufacturer&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Apple&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;yourPhone&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.Phone&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;name&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Galaxy S22&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;manufacturer&quot;</span> <span class="attr">value</span>=<span class="string">&quot;Samsung&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>이제 코드에서 다음과 같이 <code>IoC Container</code>를 생성하고 객체를 주입할 수 있다.</p>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.support.AbstractApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.GenericXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// IoC Container 생성</span></span><br><span class="line">        String configLocation = <span class="string">&quot;classpath:ApplicationContext.xml&quot;</span>;</span><br><span class="line">        AbstractApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext(configLocation);</span><br><span class="line">		</span><br><span class="line">        <span class="comment">// 의존성 주입</span></span><br><span class="line">        Phone myPhone = ctx.getBean(<span class="string">&quot;myPhone&quot;</span>, Phone.class);</span><br><span class="line">        Phone yourPhone = ctx.getBean(<span class="string">&quot;yourPhone&quot;</span>, Phone.class);</span><br><span class="line">		</span><br><span class="line">        System.out.println(myPhone.getName());  <span class="comment">// iPhone 11</span></span><br><span class="line">        System.out.println(myPhone.getManufacturer());  <span class="comment">// Apple</span></span><br><span class="line">        </span><br><span class="line">        System.out.println(yourPhone.getName());  <span class="comment">// Galaxy S22</span></span><br><span class="line">        System.out.println(yourPhone.getManufacturer());  <span class="comment">// Samsung</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Bean이 다음과 같이 배열을 포함한다면</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    String[] hobbies;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IoC Container에 다음과 같이 등록한다.</p>
<figure class="highlight xml"><figcaption><span>applicationContext.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;me&quot;</span> <span class="attr">class</span>=<span class="string">“com.company.app.Person”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">“name”</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>Paul<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">“hobbies”</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">list</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>soccer<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>basketball<span class="tag">&lt;/<span class="name">value</span>&gt;</span> </span><br><span class="line">            <span class="tag">&lt;<span class="name">value</span>&gt;</span>swimming<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">list</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>		</span><br></pre></td></tr></table></figure>
<p>Bean이 참조 타입을 포함한다면</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    String name;</span><br><span class="line">    Car car;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>IoC Container에 다음과 같이 등록한다.</p>
<figure class="highlight xml"><figcaption><span>applicationContext.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myCar&quot;</span> <span class="attr">class</span>=<span class="string">“com.company.app.Car”</span>&gt;</span></span><br><span class="line">    ... </span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;me&quot;</span> <span class="attr">class</span>=<span class="string">“com.company.app.Person”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">“name”</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">value</span>&gt;</span>Paul<span class="tag">&lt;/<span class="name">value</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">“car”</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ref</span> <span class="attr">bean</span> <span class="attr">name</span>=<span class="string">“myCar”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">property</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span>		</span><br></pre></td></tr></table></figure>


<h3 id="방법-2-생성자"><a href="#방법-2-생성자" class="headerlink" title="방법 2. 생성자"></a>방법 2. 생성자</h3><p><code>Phone.java</code>에 생성자를 추가한다.</p>
<figure class="highlight java"><figcaption><span>Phone.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.app;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Phone</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> String manufacturer;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">// 생성자</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Phone</span><span class="params">(String name, String manufacturer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">        <span class="keyword">this</span>.manufacturer = manufacturer;</span><br><span class="line">    &#125;</span><br><span class="line">	</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getManufacturer</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> manufacturer;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setManufacturer</span><span class="params">(String manufacturer)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.manufacturer = manufacturer;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>ApplicationContext.xml</code> 파일을 생성하고 다음과 같이 생성자를 통해 Bean을 등록한다.</p>
<figure class="highlight xml"><figcaption><span>ApplicationContext.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myPhone&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.Phone&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;Galaxy S22&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;Samsung&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;yourPhone&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.Phone&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;iPhone 13&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;Apple&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>

<hr>
<h1 id="다형성과-IoC"><a href="#다형성과-IoC" class="headerlink" title="다형성과 IoC"></a>다형성과 IoC</h1><p>다형성을 활용하여 인터페이스에 여러 구현체를 주입할 수 있다. 다음과 같이 <code>Car.java</code> 인터페이스가 있다.</p>
<figure class="highlight java"><figcaption><span>Car.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.app;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">drive</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>그리고 <code>Car</code>인터페이스를 구현한 <code>Truck</code>, <code>SUV</code>, <code>Sedan</code>클래스가 있다.</p>
<figure class="highlight java"><figcaption><span>Truck.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.app;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Truck</span> <span class="keyword">implements</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;drive truck&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>SUV.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.app;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SUV</span> <span class="keyword">implements</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;drive SUV&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>Car.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.app;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Sedan</span> <span class="keyword">implements</span> <span class="title">Car</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">drive</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;drive sedan&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 다음과 같이 인터페이스에 구현체를 주입할 수 있다.</p>
<figure class="highlight xml"><figcaption><span>applicationContext.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;myCar&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.Truck&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;hisCar&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.SUV&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">&quot;herCar&quot;</span> <span class="attr">class</span>=<span class="string">&quot;com.yologger.app.Sedan&quot;</span> /&gt;</span></span><br><span class="line">	</span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.support.AbstractApplicationContext;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.support.GenericXmlApplicationContext;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">App</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String configLocation = <span class="string">&quot;classpath:ApplicationContext.xml&quot;</span>;</span><br><span class="line">        AbstractApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext(configLocation);</span><br><span class="line">		</span><br><span class="line">        Car myCar = ctx.getBean(<span class="string">&quot;myCar&quot;</span>, Car.class);</span><br><span class="line">        myCar.drive();		<span class="comment">// drive truck</span></span><br><span class="line">		</span><br><span class="line">        Car hisCar = ctx.getBean(<span class="string">&quot;hisCar&quot;</span>, Car.class);</span><br><span class="line">        hisCar.drive();		<span class="comment">// drive SUV</span></span><br><span class="line">		</span><br><span class="line">        Car herCar = ctx.getBean(<span class="string">&quot;herCar&quot;</span>, Car.class);</span><br><span class="line">        herCar.drive();		<span class="comment">// drive sedan</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="c-namespace-p-namespace"><a href="#c-namespace-p-namespace" class="headerlink" title="c namespace, p namespace"></a>c namespace, p namespace</h1><p><code>c namespace</code>와 <code>p namespace</code>를 사용하면 IoC Container에 등록한 빈의 속성값을 더 쉽게 설정할 수 있다. <code>&lt;beans&gt;</code> 태그에 다음 네임스페이스를 등록하자.</p>
<h3 id="1-c-namespace"><a href="#1-c-namespace" class="headerlink" title="1. c namespace"></a>1. c namespace</h3><p><code>c namespace</code>를 사용하면 생성자를 통한 속성값 설정을 더 쉽게 할 수 있다. <code>c namespace</code>를 사용하려면 객체에 생성자를 정의해야한다.</p>
<figure class="highlight java"><figcaption><span>Family.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Family</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    String father;</span><br><span class="line">    String mother;</span><br><span class="line">    String brother;</span><br><span class="line">    String sister;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 생성자 정의</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Family</span><span class="params">(String father, String mother, String brother, String sister)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.father = father;</span><br><span class="line">        <span class="keyword">this</span>.mother = mother;</span><br><span class="line">        <span class="keyword">this</span>.brother = brother;</span><br><span class="line">        <span class="keyword">this</span>.sister = sister;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 XML 파일에 네임스페이스를 추가한다.<br><code>xmlns:c=&quot;http://www.springframework.org/schema/c&quot;</code> </p>
<p>예제는 다음과 같다.</p>
<figure class="highlight xml"><figcaption><span>applicationContext.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xmlns:c</span>=<span class="string">&quot;http://www.springframework.org/schema/c&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">“samsungFamily”</span> <span class="attr">class</span>=<span class="string">“com.company.app.Family”</span> <span class="attr">c:father</span>=<span class="string">&quot;이건희&quot;</span> <span class="attr">c:mother</span>=<span class="string">&quot;홍라희&quot;</span> <span class="attr">c:sister</span>=<span class="string">&quot;이서현&quot;</span> <span class="attr">c:brother</span>=<span class="string">&quot;이건희&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span>	</span><br></pre></td></tr></table></figure>

<h3 id="2-p-namespace"><a href="#2-p-namespace" class="headerlink" title="2. p namespace"></a>2. p namespace</h3><p><code>p namespace</code>를 사용하면 setter를 통한 속성값 설정을 더 쉽게 할 수 있다. <code>p namespace</code>를 사용하려면 객체에 setter를 정의해야한다.</p>
<figure class="highlight java"><figcaption><span>Family.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Family</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    String father;</span><br><span class="line">    String mother;</span><br><span class="line">    String brother;</span><br><span class="line">    String sister;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">setFather</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.father = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">setMother</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.mother = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">setBrother</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.brother = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">setSister</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.sister = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 XML 파일에 네임스페이스를 추가하자.<br><code>xmlns:p = “http://www.springframework.org/schema/p”</code> </p>
<p>예제는 다음과 같다.</p>
<figure class="highlight xml"><figcaption><span>applicationContext.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">beans</span> <span class="attr">xmlns</span>=<span class="string">&quot;http://www.springframework.org/schema/beans&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xmlns:xsi</span>=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xmlns:p</span> = <span class="string">&quot;http://www.springframework.org/schema/p&quot;</span></span></span><br><span class="line"><span class="tag"> <span class="attr">xsi:schemaLocation</span>=<span class="string">&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">“samsungFamily”</span> <span class="attr">class</span>=<span class="string">“com.company.app.Family”</span> <span class="attr">p:father</span>=<span class="string">&quot;이건희&quot;</span> <span class="attr">p:mother</span>=<span class="string">&quot;홍라희&quot;</span> <span class="attr">p:sister</span>=<span class="string">&quot;이서현&quot;</span> <span class="attr">p:brother</span>=<span class="string">&quot;이건희&quot;</span> /&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">beans</span>&gt;</span>	</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Java-파일을-통한-의존성-주입"><a href="#Java-파일을-통한-의존성-주입" class="headerlink" title="Java 파일을 통한 의존성 주입"></a>Java 파일을 통한 의존성 주입</h1><p>이때까지 appicationContext.xml이라는 <code>XML 파일</code>에 Bean을 등록했다. 그러나 <code>Java 파일</code>을 통해 Bean을 등록할 수도 있다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Person</span><span class="params">(String name)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>ApplicationConfig.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ApplicationConfig</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Bean</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Person <span class="title">docter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Paul&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> person;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="meta">@Bean(name=&quot;programmer&quot;)</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> Person <span class="title">person</span><span class="params">()</span> </span>&#123;</span><br><span class="line">		Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Monica&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> person;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>App.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        AnnotationConfigApplicationContext ctx = <span class="keyword">new</span> AnnotationConfigApplicationContext(ApplicationConfig.class);</span><br><span class="line">        </span><br><span class="line">        Person docter = ctx.getBean(<span class="string">&quot;docter&quot;</span>, Person.class);</span><br><span class="line">        Person programmer = ctx.getBean(<span class="string">&quot;programmer&quot;</span>, Person.class);</span><br><span class="line"></span><br><span class="line">        System.out.println(docter.getName());       <span class="comment">// Paul</span></span><br><span class="line">        System.out.println(programmer.getName());   <span class="comment">// Monica</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Spring-IoC-Container의-생명주기"><a href="#Spring-IoC-Container의-생명주기" class="headerlink" title="Spring IoC Container의 생명주기"></a>Spring IoC Container의 생명주기</h1><p>지금까지는 다음과 같은 방법으로 Spring IoC Container를 생성했다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">GenericXmlApplicationContext ctx = GenericXmlApplicationContext(<span class="string">&quot;classpath:applicationCTX.xml&quot;</span>)</span><br><span class="line"></span><br><span class="line">Person p = ctx.getBean(<span class="string">&quot;student&quot;</span>, Person.class);</span><br><span class="line">System.out.println(p.getName()); </span><br></pre></td></tr></table></figure>
<p>이 것을 풀어서 작성하면 다음과 같다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Spring container 생성</span></span><br><span class="line">GenericXmlApplicationContext ctx = <span class="keyword">new</span> GenericXmlApplicationContext();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Spring container 설정정보 로드</span></span><br><span class="line">ctx.load(<span class="string">&quot;classpath:applicationCTX.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// xml이 수정되면 톰캣에서 설정정보를 다시 읽도록 refresh() 필수</span></span><br><span class="line">ctx.refresh();</span><br><span class="line"></span><br><span class="line"><span class="comment">// Spring container의 class instance 사용</span></span><br><span class="line">Person person = ctx.getBean(<span class="string">&quot;student&quot;</span>, Person.class);</span><br><span class="line">System.out.println(person.getName());</span><br><span class="line"></span><br><span class="line"><span class="comment">// Spring container 종료</span></span><br><span class="line">ctx.close();</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Bean의-생명주기"><a href="#Bean의-생명주기" class="headerlink" title="Bean의 생명주기"></a>Bean의 생명주기</h1><p>Spring IoC Container는 <code>Bean</code>의 생성, 사용, 소멸을 제어하고 관리하며, <code>Bean</code>은 생명주기를 가지고 있다고 한다. <code>Bean</code>의 생명주기는 두 가지 방법으로 탐지할 수 있다.</p>
<h3 id="방법-1-InitializingBean-DispoableBean"><a href="#방법-1-InitializingBean-DispoableBean" class="headerlink" title="방법 1) InitializingBean, DispoableBean"></a>방법 1) InitializingBean, DispoableBean</h3><p><code>InitializingBean</code>, <code>DispoableBean</code> 인터페이스를 구현하고 <code>afterPropertiesSet()</code>, <code>destroy()</code> 메소드를 구현하면 Bean의 생성과 소멸을 탐지할 수 있다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> <span class="keyword">implements</span> <span class="title">InitializingBean</span>, <span class="title">DispoableBean</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">afterPropertiesSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Bean 초기화 과정(ctx.refresh())에서 호출</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destroy</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Bean 소멸 과정(ctx.close())에서 호출</span></span><br><span class="line">    &#125;		</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="방법-2-PostConstruct-PreDestory"><a href="#방법-2-PostConstruct-PreDestory" class="headerlink" title="방법 2) @PostConstruct, @PreDestory"></a>방법 2) @PostConstruct, @PreDestory</h3><p><code>@PostConstruct</code>어노테이션을 추가한 메소드는 Bean이 생성될 때 호출된다. 비슷하게 <code>@PreDestory</code>어노테이션을 추가한 메소드는 Bean이 소멸할 때 호출한다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PostConstruct</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initMethod</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// Bean이 생성될 때 호출</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PreDestory</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">destoryMethod</span><span class="params">()</span> </span>&#123;	</span><br><span class="line">        <span class="comment">// Bean이 소멸할 때 호출</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h1 id="Scope"><a href="#Scope" class="headerlink" title="Scope"></a>Scope</h1><p>Bean은 <code>Scope</code>를 가진다. 기본값은 <code>prototype</code>이며 빈을 주입할 때 마다 새로운 인스턴스가 생성된다.</p>
<figure class="highlight xml"><figcaption><span>applicaionContext.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">“student”</span> <span class="attr">class</span>=<span class="string">“com.company.app.domain.Student”</span> <span class="attr">scope</span>=<span class="string">“prototype”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;Paul&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;USA&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>Main.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="comment">// s1, s2는 다른 객체를 레퍼런스 한다.</span></span><br><span class="line">        Student s1 = ctx.getBean(<span class="string">&quot;student&quot;</span>, Student.class);</span><br><span class="line">        Student s2 = ctx.getBean(<span class="string">&quot;student&quot;</span>, Student.class);</span><br><span class="line">        System.out.println(s1 === s2);      <span class="comment">// false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>scope를 <code>singleton</code>로 설정하면 Bean은 IoC Container내에서 오직 한 개만 존재한다.</p>
<figure class="highlight xml"><figcaption><span>applicaionContext.xml</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">bean</span> <span class="attr">id</span>=<span class="string">“student”</span> <span class="attr">class</span>=<span class="string">“com.company.app.domain.Student”</span> <span class="attr">scope</span>=<span class="string">“prototype”</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;Paul&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">constructor-arg</span> <span class="attr">value</span>=<span class="string">&quot;USA&quot;</span>&gt;</span> <span class="tag">&lt;/<span class="name">constructor-arg</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">bean</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>Main.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Main</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        <span class="comment">// s1, s2는 같은 객체를 레퍼런스 한다.</span></span><br><span class="line">        Student s1 = ctx.getBean(<span class="string">&quot;student&quot;</span>, Student.class);</span><br><span class="line">        Student s2 = ctx.getBean(<span class="string">&quot;student&quot;</span>, Student.class);</span><br><span class="line">        System.out.println(s1 === s2);      <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/03/01/06_spring/03_spring_core/20190301_ioc_di/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/09/04_java/190209_concurrent_api_executor/"
                            aria-label=": [Java 8] Concurrent API - Thread Pool / Executors / ExecutorService / Future"
                        >
                            [Java 8] Concurrent API - Thread Pool / Executors / ExecutorService / Future
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-09T00:00:00+09:00">
	
		    2019/02/09
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="Thread-Pool"><a href="#Thread-Pool" class="headerlink" title="Thread Pool"></a>Thread Pool</h1><p>멀티 스레드 환경에서 스레드 개수가 증가하면 스레드 생성과 스케쥴링으로 인한 성능 저하가 발생한다. 이를 해결하기 위해 <code>스레드 풀(Thread Pool)</code>이라는 공간에 일정 수의 스레드를 사전에 만들어 사용한다.</p>
<p>스레드 풀의 특징은 다음과 같다.</p>
<ul>
<li>사전에 만들어둔 스레드를 사용하기 때문에 스레드 생성과 스케쥴링 비용일 줄일 수 있다.</li>
<li>다 사용한 스레드는 스레드 풀에 반납한다.</li>
<li>스레드를 재사용할 수 있다.</li>
<li>적절한 수의 스레드를 만드는 것이 중요하다.</li>
</ul>
<p>Java 8부터는 <code>Concurrent API</code>를 통해 스레드 풀을 포함한 다양한 병렬처리를 할 수 있다. </p>
<h1 id="Concurrent-API"><a href="#Concurrent-API" class="headerlink" title="Concurrent API"></a>Concurrent API</h1><p> Concurrent API는 <code>java.util.concurrent</code>패키지에 포함된다. 이 패키지의 <code>ExecutorService</code>인터페이스와 <code>Executors</code>클래스를 사용하면 스레드 풀을 쉽게 제어할 수 있다.</p>
<h1 id="간단한-예제"><a href="#간단한-예제" class="headerlink" title="간단한 예제"></a>간단한 예제</h1><p>간단한 예제를 살펴보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 크기가 2인 스레드 풀 생성</span></span><br><span class="line">        ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 첫 번째 작업</span></span><br><span class="line">        executorService.submit(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Job 1 started at &quot;</span> + LocalTime.now() + <span class="string">&quot;in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;Job 1 finished at &quot;</span> + LocalTime.now() + <span class="string">&quot;in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 두 번째 작업</span></span><br><span class="line">        executorService.submit(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Job 2 started at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;Job 2 finished at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 세 번째 작업</span></span><br><span class="line">        executorService.submit(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Job 3 started at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;Job 3 finished at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 스레드 풀 종료</span></span><br><span class="line">        executorService.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>우선 크기가 2인 스레드 풀을 다음과 같이 생성하고 있다. <code>Executors</code>클래스의 <code>newFixedThreadPool()</code>을 호출하면 스레드 풀을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>이제 세 개의 작업을 생성하고 <code>ExecutorService.submit()</code>의 인자로 전달하자. 각 작업은 시작 시간을 출력하고 5초 동안 Sleep한 후 종료 시간을 출력한다. 작업은 <code>Runnable</code> 또는 <a href="/ko/2019/02/08/04_java/190208_callable_futuretask/"><code>Callable</code></a>로 구현한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">executorService.submit(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 스레드 이름과 시작 시간</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Job 1 started at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 5초 동안 Sleep</span></span><br><span class="line">            Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">            <span class="comment">// 스레드 이름과 종료 시간</span></span><br><span class="line">            System.out.println(<span class="string">&quot;Job 1 finished at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>ExecutorService.submit()</code>에는 <code>작업(Runnable)</code>을 전달한다. 이제 스레드 풀은 작업을 처리하기 위해 스레드 하나를 할당한다.</p>
<p>마지막으로 스레드 풀을 종료시킨다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">executorService.shutdown();</span><br></pre></td></tr></table></figure>
<p>이제 출력 결과를 살펴보자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Job 1 started at 20:06:11.747462 in Thread: pool-1-thread-1</span><br><span class="line">Job 2 started at 20:06:11.747344 in Thread: pool-1-thread-2</span><br><span class="line">Job 1 finished at 20:06:16.769752 in Thread: pool-1-thread-1</span><br><span class="line">Job 2 finished at 20:06:16.769752 in Thread: pool-1-thread-2</span><br><span class="line">Job 3 started at 20:06:16.771134 in Thread: pool-1-thread-1</span><br><span class="line">Job 3 finished at 20:06:21.773421 in Thread: pool-1-thread-1</span><br></pre></td></tr></table></figure>
<p>위 예제는 다음과 같은 순서로 처리된다.</p>
<ol>
<li>스레드 풀의 크기가 2 이므로 첫 번째 작업과 두 번째 작업은 스레드를 할당받아 동시에 처리된다. </li>
<li>반면 세 번째 작업은 남은 스레드가 없으므로 <code>작업 큐(Job Queue)</code>라는 공간에서 대기한다.</li>
<li>첫 번째 작업 또는 두 번째 작업이 종료되어 스레드를 반환한다.</li>
<li>세 번째 작업은 스레드를 재사용하여 처리된다.</li>
</ol>
<p>이제 <code>Concurrent API</code>에 대해 좀 더 자세히 알아보자.</p>
<h1 id="스레드-풀-생성하기"><a href="#스레드-풀-생성하기" class="headerlink" title="스레드 풀 생성하기"></a>스레드 풀 생성하기</h1><p><code>Executors</code>클래스는 스레드 풀을 생성하기 위한 다양한 메소드를 제공한다. 모든 메소드는 <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html">이 곳</a>에서 확인할 수 있다.</p>
<ul>
<li><p><code>newFixedThreadPool()</code>: </p>
<ul>
<li>고정 크기의 스레드 풀을 생성한다. </li>
<li>남은 스레드가 없으면 작업은 <code>작업 큐(Job Queue)</code>에서 대기한다.</li>
</ul>
</li>
<li><p><code>newCachedThreadPool()</code></p>
<ul>
<li>가변 크기의 스레드 풀을 생성한다. </li>
<li>남은 스레드가 없으면 새로운 스레드를 생성하여 작업에 할당한다.</li>
</ul>
</li>
<li><p><code>newSingleThreadExecutor()</code></p>
<ul>
<li>크기가 1인 스레드 풀을 생성한다.</li>
</ul>
</li>
</ul>
<h1 id="스레드-풀-실행하기"><a href="#스레드-풀-실행하기" class="headerlink" title="스레드 풀 실행하기"></a>스레드 풀 실행하기</h1><p><code>ExecutorService</code>는 스레드 풀에 작업을 할당하기 위한 두 가지 메소드를 제공한다.</p>
<h3 id="1-execute"><a href="#1-execute" class="headerlink" title="(1) execute()"></a>(1) execute()</h3><p><code>execute()</code>는 다음과 같은 특징이 있다.</p>
<ul>
<li>작업 처리 결과를 반환하지 않는다.</li>
<li>작업 처리 도중에 예외가 발생하면 해당 스레드를 종료시키고 새로운 스레드를 생성한다.</li>
</ul>
<p><code>execute()</code> 예제를 첨부한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newSingleThreadExecutor();</span><br><span class="line"></span><br><span class="line">executorService.execute(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Job started.&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">10</span> * <span class="number">1000</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Job finished.&quot;</span>);</span><br><span class="line">            String result = <span class="string">&quot;This is result&quot;</span>;</span><br><span class="line">            System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Result: &quot;</span> + result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">executorService.shutdown();</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[21:20:05.142350] Job started.</span><br><span class="line">[21:20:15.154706] Job finished.</span><br><span class="line">[21:20:15.155586] Result: This is result</span><br></pre></td></tr></table></figure>

<h3 id="2-submit"><a href="#2-submit" class="headerlink" title="(2) submit()"></a>(2) submit()</h3><p><code>submit()</code>는 다음과 같은 특징이 있다.</p>
<ul>
<li>작업 처리 결과를 반환할 수 있다.</li>
<li>결과는 <code>Future</code>클래스로 Wrapping해서 반환된다.</li>
<li>작업 처리 도중에 예외가 발생해도 해당 스레드를 종료시키지 않고 다음 작업에 재사용한다.</li>
</ul>
<p><code>submit()</code> 예제를 첨부한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newSingleThreadExecutor();</span><br><span class="line"></span><br><span class="line">Future&lt;String&gt; future = executorService.submit(<span class="keyword">new</span> Callable&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Job started.&quot;</span>);</span><br><span class="line">        Thread.sleep(<span class="number">10</span> * <span class="number">1000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Job finished.&quot;</span>);</span><br><span class="line">        String result = <span class="string">&quot;This is result&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    String result = future.get();</span><br><span class="line">    System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Result: &quot;</span> + result);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">executorService.shutdown();</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[21:23:27.843158] Job started.</span><br><span class="line">[21:23:37.855516] Job finished.</span><br><span class="line">[21:23:37.857058] Result: This is result</span><br></pre></td></tr></table></figure>

<h1 id="스레드-풀-종료하기"><a href="#스레드-풀-종료하기" class="headerlink" title="스레드 풀 종료하기"></a>스레드 풀 종료하기</h1><p>스레드 풀에 속한 스레드는 기본적으로 Main 스레드가 종료되어도 작업을 처리하기 위해 실행 상태로 남아있다. 따라서 적절한 시점에 스레드 풀을 종료하고 스레드를 해제해야한다.</p>
<p><code>ExecutorService</code>클래스는 스레드 풀을 종료하기 위한 다양한 메소드를 제공한다.</p>
<ul>
<li><p><code>shutdown()</code></p>
<ul>
<li>작업 큐에 남아있는 작업이 모두 마무리될 때 까지 기다렸다가 스레드 풀을 종료한다.</li>
</ul>
</li>
<li><p><code>shutdownNow()</code></p>
<ul>
<li>작업 큐에 작업이 남아있는지와 관계없이 스레드 풀을 종료한다.</li>
</ul>
</li>
<li><p><code>awaitTermination(long timeout, TimeUnit unit)</code></p>
<ul>
<li>timeout 안에 모든 작업을 처리하면 true, 처리하지 못하면 false를 반환한다. </li>
</ul>
</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/09/04_java/190209_concurrent_api_executor/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/08/04_java/190208_callable_futuretask/"
                            aria-label=": [Java 8] Concurrent API - Callable과 FutureTask"
                        >
                            [Java 8] Concurrent API - Callable과 FutureTask
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-08T00:00:00+09:00">
	
		    2019/02/08
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="Concurrent-API"><a href="#Concurrent-API" class="headerlink" title="Concurrent API"></a>Concurrent API</h1><p>Java 8에는 동시성 제어를 위한 <code>Concurrent API</code>가 추가되었다. Concurrent API는 <code>java.util.concurrent</code>패키지에 포함되어있으며, 이 패키지는 동시성,  멀티 스레드 작업을 위한 다양한 컴포넌트를 제공한다.</p>
<h1 id="Runnable"><a href="#Runnable" class="headerlink" title="Runnable"></a>Runnable</h1><p>Java 8 이전에는 멀티 스레드 작업을 위해 <code>Runnable</code> 인터페이스를 사용했다. 이 인터페이스의 코드는 다음과 같다. <u>반환값이 없고 예외를 발생시키지 않는다.</u> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Runnable</code>은 보통 다음과 같이 사용한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String result = <span class="string">&quot;Called at &quot;</span> + LocalTime.now();</span><br><span class="line">        Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyRunnable runnable = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">        thread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="Callable"><a href="#Callable" class="headerlink" title="Callable"></a>Callable</h1><p>Java 8 부터는 <code>Callable</code> 인터페이스를 구현하여 멀티 스레드 작업을 할 수 있다. 이 인터페이스의 코드는 다음과 같다. <u>반환값이 있고 예외도 발생시킬 수 있다.</u></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Callable</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">V <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Callable</code>은 보통 다음과 같이 사용한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCallable</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">        String result = <span class="string">&quot;Called at &quot;</span> + LocalTime.now();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        MyCallable callable = <span class="keyword">new</span> MyCallable();</span><br><span class="line">        FutureTask futureTask = <span class="keyword">new</span> FutureTask(callable);</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(futureTask);</span><br><span class="line">        thread.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 결과가 반환될 때 까지 기다린다.</span></span><br><span class="line">            System.out.println(<span class="string">&quot;result : &quot;</span> + futureTask.get());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>FutureTask</code>클래스는 내부적으로 <code>RunnableFuture</code>클래스를 상속하며, RunnableFuture클래스는 다시 <code>Runnable</code>인터페이스와 <code>Future</code>인터페이스를 구현하고있다.</p>
<figure class="highlight java"><figcaption><span>FutureTask.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FutureTask</span>&lt;<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">RunnableFuture</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>RunnableFuture.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RunnableFuture</span>&lt;<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">Runnable</span>, <span class="title">Future</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이 때문에 다음과 같은 형태로 <code>Thread</code>클래스의 생성자에 인스턴스를 전달할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MyCallable callable = <span class="keyword">new</span> MyCallable();</span><br><span class="line">FutureTask futureTask = <span class="keyword">new</span> FutureTask(callable);</span><br><span class="line">Thread thread = <span class="keyword">new</span> Thread(futureTask);</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/08/04_java/190208_callable_futuretask/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/07/04_java/190207_default_method/"
                            aria-label=": [Java 8] default 메소드"
                        >
                            [Java 8] default 메소드
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-07T00:00:00+09:00">
	
		    2019/02/07
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<p><a href="/ko/2018/02/19/04_java/180219_interface/">인터페이스</a>는 메소드 선언만 할 뿐 구현부는 포함하지 않는다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>인터페이스는 인스턴스를 생성할 수도 없으며, 구현체에서 메소드를 모두 구현해야한다.</p>
<figure class="highlight java"><figcaption><span>Programmer.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> <span class="keyword">implements</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Do programming.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="default-메소드"><a href="#default-메소드" class="headerlink" title="default 메소드"></a>default 메소드</h1><p>키워드 <code>default</code>를 사용하면 인터페이스에서도 메소드 구현을 작성할 수 있다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Eat something.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="왜-사용할까"><a href="#왜-사용할까" class="headerlink" title="왜 사용할까?"></a>왜 사용할까?</h1><p>default 메소드는 <code>하위 호환성</code> 때문에 사용한다. </p>
<p>예를 들어보자. 내가 작성한 라이브러리에 아래 인터페이스가 포함된다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.mylib;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>그리고 다른 사람이 내 라이브러리를 사용하고 있다.</p>
<figure class="highlight java"><figcaption><span>Programmer.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.yologger.mylib.Person;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> <span class="keyword">implements</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Do programming.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 기능을 추가하기 위해서 인터페이스에 메소드를 추가한다고 가정하자.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.mylib;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;     <span class="comment">// 기능 추가</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이 때문에 내 라이브러리를 사용하는 곳에도 영향을 준다. <code>Programmer</code>클래스를 수정해야하기 때문이다.</p>
<figure class="highlight java"><figcaption><span>Programmer.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.yologger.mylib.Person;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> <span class="keyword">implements</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Do programming.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Eat Something.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>만약 default 메소드를 사용하면 기능을 추가해도 내 라이브러리를 사용하는 곳에 영향을 주지 않게된다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Eat something.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이처럼 default 메소드를 사용하면 <code>하위 호환성</code>을 보장할 수 있다.</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/07/04_java/190207_default_method/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/06/04_java/190206_stream/"
                            aria-label=": [Java 8] 스트림 API(Stream API)"
                        >
                            [Java 8] 스트림 API(Stream API)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-06T00:00:00+09:00">
	
		    2019/02/06
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="스트림"><a href="#스트림" class="headerlink" title="스트림"></a>스트림</h1><p>Java 8에서 추가된 <code>스트림(Stream)</code>은 <a href="/ko/2019/01/02/04_java/190102_io/">입출력</a>에서 살펴본 스트림과는 전혀 다른 개념이다.</p>
<p>Java에서는 여러 개의 데이터를 다루기 위해 Array 또는 Collection(List, Set, Map)를 사용한다. 그리고 이 데이터들에 접근하기 위해서는 <code>for</code> 또는 <code>foreach</code>같은 반복문을 사용했다. </p>
<p>그러나 이렇게 작성된 코드는 가독성이 떨어지고 길이도 길어지는 문제가 있다. 이러한 문제를 극복하기 위해 <code>스트림(Stream)</code>이 등장하게 되었다.</p>
<h1 id="예제"><a href="#예제" class="headerlink" title="예제"></a>예제</h1><p>간단한 예제를 살펴보면서 스트림이 어떤 것인지 알아보자. 1에서 6까지의 숫자가 List에 들어있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; numbers = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">numbers.add(<span class="number">1</span>);</span><br><span class="line">numbers.add(<span class="number">2</span>);</span><br><span class="line">numbers.add(<span class="number">3</span>);</span><br><span class="line">numbers.add(<span class="number">4</span>);</span><br><span class="line">numbers.add(<span class="number">5</span>);</span><br><span class="line">numbers.add(<span class="number">6</span>);</span><br></pre></td></tr></table></figure>
<p>이제 반복문을 사용하여 짝수만 추출해보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; evenNumbers = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numbers.size(); i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (numbers.get(i) % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        evenNumbers.add(numbers.get(i));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(evenNumbers.toString()); <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>

<p><code>스트림(Stream)</code>을 사용하면 더욱 쉽게 짝수를 추출할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; evenNumbers = numbers.stream()</span><br><span class="line">        .filter(value -&gt; value%<span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">System.out.println(evenNumbers.toString());     <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>

<h1 id="스트림-생성하기"><a href="#스트림-생성하기" class="headerlink" title="스트림 생성하기"></a>스트림 생성하기</h1><p>다양한 방법으로 스트림을 생성할 수 있다.</p>
<h3 id="1-Stream-builder"><a href="#1-Stream-builder" class="headerlink" title="(1) Stream.builder()"></a>(1) Stream.builder()</h3><p><code>Builder</code>를 사용하면 스트림에 값을 직접 넣을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.&lt;Integer&gt;builder()</span><br><span class="line">    .add(<span class="number">1</span>)</span><br><span class="line">    .add(<span class="number">2</span>)</span><br><span class="line">    .add(<span class="number">3</span>)</span><br><span class="line">    .add(<span class="number">4</span>)</span><br><span class="line">    .build();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure>


<h3 id="2-Stream-generate"><a href="#2-Stream-generate" class="headerlink" title="(2) Stream.generate()"></a>(2) Stream.generate()</h3><p><code>Stream.generate()</code>을 사용하면 람다식으로 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.generate(() -&gt; <span class="number">1</span>).limit(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="3-Stream-iterate"><a href="#3-Stream-iterate" class="headerlink" title="(3) Stream.iterate()"></a>(3) Stream.iterate()</h3><p><code>Stream.iterate()</code>은 초기값과 람다식을 이용하여 스트림을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.iterate(<span class="number">100</span>, x -&gt; x+<span class="number">1</span>).limit(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td></tr></table></figure>

<h3 id="4-Stream-of"><a href="#4-Stream-of" class="headerlink" title="(4) Stream.of()"></a>(4) Stream.of()</h3><p><code>Stream.of()</code>은 매개변수로 전달된 요소들로 스트림을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>

<h3 id="5-배열로-스트림-생성하기"><a href="#5-배열로-스트림-생성하기" class="headerlink" title="(5) 배열로 스트림 생성하기"></a>(5) 배열로 스트림 생성하기</h3><p><code>Arrays.stream()</code>을 사용하면 배열을 스트림으로 만들 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Integer[] array  = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">Stream&lt;Integer&gt; stream = Arrays.stream(array);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>

<h3 id="6-List-Set으로-스트림-생성하기"><a href="#6-List-Set으로-스트림-생성하기" class="headerlink" title="(6) List, Set으로 스트림 생성하기"></a>(6) List, Set으로 스트림 생성하기</h3><p><code>List.stream()</code>을 사용하면 <code>List</code>로 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">list.add(<span class="number">1</span>);</span><br><span class="line">list.add(<span class="number">2</span>);</span><br><span class="line">list.add(<span class="number">3</span>);</span><br><span class="line">list.add(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">Stream&lt;Integer&gt; stream = list.stream();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<p><code>Set.stream()</code>을 사용하면 <code>Set</code>로 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">set.add(<span class="number">1</span>);</span><br><span class="line">set.add(<span class="number">2</span>);</span><br><span class="line">set.add(<span class="number">3</span>);</span><br><span class="line">set.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">Stream&lt;Integer&gt; stream = set.stream();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h3 id="6-Stream-empty"><a href="#6-Stream-empty" class="headerlink" title="(6) Stream.empty()"></a>(6) Stream.empty()</h3><p><code>Stream.empty()</code>을 사용하면 빈 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream stream = Stream.empty();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<h1 id="원시-타입의-스트림-생성하기"><a href="#원시-타입의-스트림-생성하기" class="headerlink" title="원시 타입의 스트림 생성하기"></a>원시 타입의 스트림 생성하기</h1><p>물론 제너릭과 Wrapper 클래스를 사용하면 원시 타입의 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.&lt;Integer&gt;of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<p>그러나 제네릭과 Wrapper 클래스를 사용하지 않고 원시 타입의 스트림을 생성할 수도 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<p>제공되는 원시 타입의 스트림은 다음과 같다.</p>
<ul>
<li>IntStream</li>
<li>LongStream</li>
<li>DoubleStream</li>
</ul>
<h1 id="스트림-조작하기"><a href="#스트림-조작하기" class="headerlink" title="스트림 조작하기"></a>스트림 조작하기</h1><h3 id="1-Stream-concat"><a href="#1-Stream-concat" class="headerlink" title="(1) Stream.concat()"></a>(1) Stream.concat()</h3><p><code>Stream.concat()</code>을 사용하면 두 스트림을 합쳐 새로운 스트림을 만들 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream1 = Stream.&lt;Integer&gt;of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">Stream&lt;Integer&gt; stream2 = Stream.&lt;Integer&gt;of(<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">Stream&lt;Integer&gt; stream = Stream.concat(stream1, stream2);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<h3 id="2-Stream-filter"><a href="#2-Stream-filter" class="headerlink" title="(2) Stream.filter()"></a>(2) Stream.filter()</h3><p><code>Stream.filter()</code>을 사용하면 요소를 필터링할 수 있다. 아래 예제는 짝수만 필터링한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.&lt;Integer&gt;of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line">        .filter(value -&gt; value%<span class="number">2</span> == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">        .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">4</span><br><span class="line">6</span><br><span class="line">8</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<h3 id="3-Stream-map"><a href="#3-Stream-map" class="headerlink" title="(3) Stream.map()"></a>(3) Stream.map()</h3><p><code>Stream.map()</code>을 사용하면 요소들을 다른 값들로 매핑할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;Paul&quot;</span>, <span class="string">&quot;Monica&quot;</span>, <span class="string">&quot;Rachel&quot;</span>, <span class="string">&quot;Chandler&quot;</span>)</span><br><span class="line">    .map(value -&gt; value.toUpperCase());</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PAUL</span><br><span class="line">MONICA</span><br><span class="line">RACHEL</span><br><span class="line">CHANDLER</span><br></pre></td></tr></table></figure>
<h3 id="4-Stream-flatMap"><a href="#4-Stream-flatMap" class="headerlink" title="(4) Stream.flatMap()"></a>(4) Stream.flatMap()</h3><p><code>Stream.flatMap()</code>을 사용하면 요소를 다른 스트림으로 만들 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(</span><br><span class="line">    <span class="keyword">new</span> Student(<span class="string">&quot;Joey&quot;</span>, <span class="number">80</span>, <span class="number">90</span>, <span class="number">70</span>),</span><br><span class="line">    <span class="keyword">new</span> Student(<span class="string">&quot;Monica&quot;</span>, <span class="number">75</span>, <span class="number">100</span>, <span class="number">90</span>),</span><br><span class="line">    <span class="keyword">new</span> Student(<span class="string">&quot;Ross&quot;</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">100</span>)</span><br><span class="line">).flatMap(student -&gt; Stream.&lt;Integer&gt;of(student.getMath(), student.getEnglish(), student.getScience()));</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">80</span><br><span class="line">90</span><br><span class="line">70</span><br><span class="line">75</span><br><span class="line">100</span><br><span class="line">90</span><br><span class="line">70</span><br><span class="line">80</span><br><span class="line">100</span><br></pre></td></tr></table></figure>
<h3 id="5-Stream-sorted"><a href="#5-Stream-sorted" class="headerlink" title="(5) Stream.sorted()"></a>(5) Stream.sorted()</h3><p><code>Stream.sorted()</code>을 사용하면 요소들을 정렬할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>)</span><br><span class="line">    .sorted();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td></tr></table></figure>

<h1 id="스트림으로-결과-만들기"><a href="#스트림으로-결과-만들기" class="headerlink" title="스트림으로 결과 만들기"></a>스트림으로 결과 만들기</h1><h3 id="1-Stream-foreach"><a href="#1-Stream-foreach" class="headerlink" title="(1) Stream.foreach()"></a>(1) Stream.foreach()</h3><p><code>Stream.foreach()</code>을 사용하면 모든 요소들을 순회할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">1</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<h3 id="2-Stream-count"><a href="#2-Stream-count" class="headerlink" title="(2) Stream.count()"></a>(2) Stream.count()</h3><p>요소의 개수를 구할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> count = stream.count();    <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<h3 id="3-Stream-sum"><a href="#3-Stream-sum" class="headerlink" title="(3) Stream.sum()"></a>(3) Stream.sum()</h3><p>요소의 합을 구할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> count = stream.sum();    <span class="comment">// 21</span></span><br></pre></td></tr></table></figure>
<h3 id="4-Stream-min"><a href="#4-Stream-min" class="headerlink" title="(4) Stream.min()"></a>(4) Stream.min()</h3><p>최소값을 찾을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">OptionalInt min = stream.min();    </span><br><span class="line"></span><br><span class="line">min.ifPresent(System.out::println);     <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h3 id="5-Stream-max"><a href="#5-Stream-max" class="headerlink" title="(5) Stream.max()"></a>(5) Stream.max()</h3><p>최대값을 찾을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">OptionalInt max = stream.max();</span><br><span class="line"></span><br><span class="line">max.ifPresent(System.out::println);     <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<h3 id="6-Stream-average"><a href="#6-Stream-average" class="headerlink" title="(6) Stream.average()"></a>(6) Stream.average()</h3><p>평균값을 찾을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">OptionalDouble average = stream.average();</span><br><span class="line"></span><br><span class="line">average.ifPresent(System.out::println);     <span class="comment">// 3.5</span></span><br></pre></td></tr></table></figure>
<h3 id="7-Stream-reduce"><a href="#7-Stream-reduce" class="headerlink" title="(7) Stream.reduce()"></a>(7) Stream.reduce()</h3><p><code>Stream.reduce()</code>는 각 요소에 람다식을 실행하여 단 1개의 결과를 반환한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">OptionalInt sum = stream.reduce((acc, next) -&gt; acc + next);</span><br><span class="line"></span><br><span class="line">sum.ifPresent(System.out::println);     <span class="comment">// 21</span></span><br></pre></td></tr></table></figure>
<h1 id="collect-와-Collectors"><a href="#collect-와-Collectors" class="headerlink" title="collect()와 Collectors"></a>collect()와 Collectors</h1><p><code>collect()</code>메소드와 <code>Collectors</code>클래스의 메소드들을 사용하면 스트림을 다양하게 조작할 수 있다.</p>
<h3 id="1-Collectors-toList"><a href="#1-Collectors-toList" class="headerlink" title="(1) Collectors.toList()"></a>(1) Collectors.toList()</h3><p>스트림을 List로 변환한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = Stream.&lt;Integer&gt;of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>)</span><br><span class="line">    .collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<h3 id="2-Collectors-joining"><a href="#2-Collectors-joining" class="headerlink" title="(2) Collectors.joining()"></a>(2) Collectors.joining()</h3><p>스트림을 하나의 문자열로 이어 붙일 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str = Stream.&lt;String&gt;of(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;DDD&quot;</span>)</span><br><span class="line">    .collect(Collectors.joining());</span><br><span class="line"></span><br><span class="line">System.out.println(str);    <span class="comment">// AAABBBCCCDDD</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str = Stream.&lt;String&gt;of(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;DDD&quot;</span>)</span><br><span class="line">    .collect(Collectors.joining(<span class="string">&quot;+&quot;</span>, <span class="string">&quot;&lt;&quot;</span>, <span class="string">&quot;&gt;&quot;</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(str);    <span class="comment">// &lt;AAA+BBB+CCC+DDD&gt;</span></span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/06/04_java/190206_stream/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/05/04_java/190205_optional/"
                            aria-label=": [Java 8] 옵셔널(Optional)"
                        >
                            [Java 8] 옵셔널(Optional)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-05T00:00:00+09:00">
	
		    2019/02/05
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<p>Java 언어로 개발을 할 때 가장 많이 발생하는 예외 중 하나가 바로 <code>NullPointException</code>이다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">null</span>;</span><br><span class="line">person.getName();</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.NullPointerException at Main.main(Main.java:16)</span><br></pre></td></tr></table></figure>

<p>이 예외를 피하기 위해 <code>null</code>을 체크해야하는데 이는 코드를 복잡하게 할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">if</span> (person != <span class="keyword">null</span>) &#123;</span><br><span class="line">    person.getName();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h1><p><code>Optional</code>은 Java 8에서 추가된 기능으로 <code>null</code>이 올 수 있는 객체를 감싼 Wrapper 클래스다. 객체는 Optional의 <code>value</code> 속성에 저장된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Optional</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> T value;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Optional을 다음과 같이 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">null</span>;</span><br><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>
<p>이제 <code>null</code>이 아닐 때만 값에 접근할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">optional.ifPresent(p -&gt; p.getName());</span><br></pre></td></tr></table></figure>
<p>이제 자세한 Optional 사용법에 대해 알아보자.</p>
<h1 id="Optional-생성하기"><a href="#Optional-생성하기" class="headerlink" title="Optional 생성하기"></a>Optional 생성하기</h1><h3 id="1-Optional-empty"><a href="#1-Optional-empty" class="headerlink" title="(1) Optional.empty()"></a>(1) Optional.empty()</h3><p><code>empty()</code>는 값이 빈 Optional을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Person&gt; optional = Optional.empty();</span><br><span class="line"></span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h3 id="2-Optional-of"><a href="#2-Optional-of" class="headerlink" title="(2) Optional.of()"></a>(2) Optional.of()</h3><p><code>of()</code>에 null일 가능성이 없는 값을 전달하여 Optional을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">new</span> Person(<span class="string">&quot;Paul&quot;</span>);</span><br><span class="line"></span><br><span class="line">Optional&lt;Person&gt; optional = Optional.of(p);</span><br><span class="line"></span><br><span class="line">System.out.println(optional.isPresent());       <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><code>of()</code>는 값이 없는 경우 NullPointException이 발생시킨다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">null</span>;</span><br><span class="line">Optional&lt;Person&gt; optional = Optional.of(p);     <span class="comment">// NullPointerException</span></span><br></pre></td></tr></table></figure>

<h3 id="3-Optional-ofNullable"><a href="#3-Optional-ofNullable" class="headerlink" title="(3) Optional.ofNullable()"></a>(3) Optional.ofNullable()</h3><p><code>ofNullable()</code>은 null일 가능성이 있는 객체를 전달하여 Optional을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(<span class="keyword">null</span>);</span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Paul&quot;</span>);</span><br><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(person);</span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h1 id="Null-체크"><a href="#Null-체크" class="headerlink" title="Null 체크"></a>Null 체크</h1><h3 id="1-isPresent"><a href="#1-isPresent" class="headerlink" title="(1) isPresent()"></a>(1) isPresent()</h3><p><code>isPresent()</code>를 사용하면 객체가 null인지 확인할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(<span class="keyword">null</span>);</span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Paul&quot;</span>);</span><br><span class="line"></span><br><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(person);</span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="2-ifPresent"><a href="#2-ifPresent" class="headerlink" title="(2) ifPresent()"></a>(2) ifPresent()</h3><p><code>ifPresent()</code>는 객체가 null이 아닐 때 람다식을 실행한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Paul&quot;</span>);</span><br><span class="line"></span><br><span class="line">Optional.ofNullable(person)</span><br><span class="line">    .ifPresent((p -&gt; System.out.println(p.getName())));</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Paul</span><br></pre></td></tr></table></figure>
<p>객체가 null이면 람다식을 실행하지 않는다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">Optional.ofNullable(person)</span><br><span class="line">    .ifPresent((p -&gt; System.out.println(p.getName())));</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="값-가져오기"><a href="#값-가져오기" class="headerlink" title="값 가져오기"></a>값 가져오기</h1><p><code>get()</code>을 사용하면 Optional이 가지고 있는 객체를 가져올 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str = Optional.ofNullable(<span class="string">&quot;Hello&quot;</span>).get();</span><br></pre></td></tr></table></figure>
<p>만약 값이 없다면 <code>NoSuchElementException</code>이 발생한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str = Optional.ofNullable(<span class="keyword">null</span>).get();   <span class="comment">// NoSuchElementException</span></span><br></pre></td></tr></table></figure>

<h1 id="필터링"><a href="#필터링" class="headerlink" title="필터링"></a>필터링</h1><p><code>filter()</code>을 사용하면 객체를 필터링할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .filter(v -&gt; v.startsWith(<span class="string">&quot;AB&quot;</span>))</span><br><span class="line">    .ifPresent(value -&gt; System.out.println(value));</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ABCD</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .filter(v -&gt; v.startsWith(<span class="string">&quot;XY&quot;</span>))</span><br><span class="line">    .ifPresent(value -&gt; System.out.println(value));</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="변환"><a href="#변환" class="headerlink" title="변환"></a>변환</h1><h3 id="1-map"><a href="#1-map" class="headerlink" title="(1) map()"></a>(1) map()</h3><p><code>map()</code>을 사용하면 객체를 변환할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .map(value -&gt; value.toLowerCase())</span><br><span class="line">    .ifPresent(value -&gt; System.out.println(value));</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abcd</span><br></pre></td></tr></table></figure>
<p>위 코드는 <a href="/ko/2019/02/03/04_java/190203_method_reference/">메소드 참조</a>을 사용하여 다음과 같이 단축할 수도 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .map(String::toLowerCase)</span><br><span class="line">    .ifPresent(System.out::println);</span><br></pre></td></tr></table></figure>

<h3 id="2-flatMap"><a href="#2-flatMap" class="headerlink" title="(2) flatMap()"></a>(2) flatMap()</h3><p><code>flatMap()</code>을 사용하면 다른 Optional로 반환할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .flatMap(value -&gt; Optional.of(value.toLowerCase()))</span><br><span class="line">    .ifPresent(System.out::println);    <span class="comment">// abcd</span></span><br></pre></td></tr></table></figure>


<h1 id="기타"><a href="#기타" class="headerlink" title="기타"></a>기타</h1><h3 id="1-orElse"><a href="#1-orElse" class="headerlink" title="(1) orElse()"></a>(1) orElse()</h3><p><code>orElse()</code>는 Optional이 비어있다면 <code>orElse()</code>로 지정한 값을 반환한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;Something&quot;</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElse(<span class="string">&quot;Another thing&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);  <span class="comment">// Something</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElse(<span class="string">&quot;Another Thing&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);  <span class="comment">// Another Thing</span></span><br></pre></td></tr></table></figure>

<h3 id="2-orElseGet"><a href="#2-orElseGet" class="headerlink" title="(2) orElseGet()"></a>(2) orElseGet()</h3><p><code>orElseGet()</code>는 Optional이 비어있다면 람다식을 실행하고 람다식의 반환값을 반환한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;Something&quot;</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElseGet(() -&gt; <span class="string">&quot;Another thing&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);  <span class="comment">// Something</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElseGet(() -&gt; <span class="string">&quot;Another thing&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);  <span class="comment">// Another thing</span></span><br></pre></td></tr></table></figure>
<h3 id="3-orElseThrow"><a href="#3-orElseThrow" class="headerlink" title="(3) orElseThrow()"></a>(3) orElseThrow()</h3><p><code>orElseThrow()</code>는 Optional이 비어있다면 예외를 발생시킨다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;Something&quot;</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElseThrow(NoSuchElementException::<span class="keyword">new</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);      <span class="comment">// Something</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElseThrow(NoSuchElementException::<span class="keyword">new</span>);  <span class="comment">// Exception in thread &quot;main&quot; java.util.NoSuchElementException</span></span><br><span class="line"></span><br><span class="line">System.out.println(value);</span><br></pre></td></tr></table></figure>

<h1 id="원시타입-옵셔널"><a href="#원시타입-옵셔널" class="headerlink" title="원시타입 옵셔널"></a>원시타입 옵셔널</h1><p>물론 제너릭과 Wrapper 클래스를 사용하면 원시 타입의 옵셔널을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Integer&gt; optional = Optional.of(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">optional.ifPresent(System.out::println);    <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>그러나 제네릭과 Wrapper 클래스를 사용하지 않고 원시 타입의 옵셔널을 생성할 수도 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">OptionalInt optional = OptionalInt.of(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">optional.ifPresent(System.out::println);    <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>제공되는 원시 타입의 옵셔널은 다음과 같다.</p>
<ul>
<li>OptionalInt</li>
<li>OptionalLong</li>
<li>OptionalDouble</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/05/04_java/190205_optional/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/03/04_java/190203_method_reference/"
                            aria-label=": [Java 8] 메소드 참조, 생성자 참조"
                        >
                            [Java 8] 메소드 참조, 생성자 참조
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-03T00:00:00+09:00">
	
		    2019/02/03
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="메소드-참조"><a href="#메소드-참조" class="headerlink" title="메소드 참조"></a>메소드 참조</h1><p><code>메소드 참조(Method Reference)</code>은 람다식이 단 하나의 메소드만을 호출하는 경우, 람다식에서 불필요한 매개변수를 줄여 사용할 수 있게 한다. </p>
<p>예제를 살펴보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">(String something)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (something) -&gt; System.out.println(something);</span><br><span class="line">lambda.run(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>위 예제는 람다식이 단 하나의 메소드 <code>System.out.println(something)</code>만을 호출하고 있다. 이 예제는<br>메소드 참조를 사용하면 위 예제를 더욱 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = System.out::println;</span><br><span class="line">lambda.run(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>즉, 두 구문은 동일하다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(something) -&gt; System.out.println(something)</span><br><span class="line">System.out::println</span><br></pre></td></tr></table></figure>

<p>메소드 참조는 다음과 같은 형태로 사용한다.</p>
<ul>
<li>클래스이름::메소드이름</li>
<li>참조변수이름::메소드이름</li>
</ul>
<h1 id="생성자-참조"><a href="#생성자-참조" class="headerlink" title="생성자 참조"></a>생성자 참조</h1><p>생성자를 호출하는 람다식도 메소드 참조 예제처럼 단축할 수 있다.</p>
<p>다음 예제를 보자</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">run</span><span class="params">(String str)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (str) -&gt;  <span class="keyword">new</span> Person(str);</span><br><span class="line">Person p = lambda.run(<span class="string">&quot;Paul&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>생성자 참조를 사용하면 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = Person::<span class="keyword">new</span>;</span><br><span class="line">Person p = lambda.run(<span class="string">&quot;Paul&quot;</span>);</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/03/04_java/190203_method_reference/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/02/04_java/190202_lambda_functional_interface/"
                            aria-label=": [Java 8] 람다식, 함수형 인터페이스"
                        >
                            [Java 8] 람다식, 함수형 인터페이스
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-02T00:00:00+09:00">
	
		    2019/02/02
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="람다식"><a href="#람다식" class="headerlink" title="람다식"></a>람다식</h1><p><code>람다식(Lambda Expression)</code>는 함수를 하나의 식으로 표현한 것이다. 함수를 람다식으로 표현하면 메소드의 이름이 필요없기 때문에 <code>익명 함수(Anonymous Function)</code>라고도 한다.</p>
<h1 id="Kotlin에서의-람다식"><a href="#Kotlin에서의-람다식" class="headerlink" title="Kotlin에서의 람다식"></a>Kotlin에서의 람다식</h1><p>Kotlin, Swift처럼 비교적 최근에 개발된 프로그래밍 언어는 자체적으로 람다식를 지원한다. 그럼 Kotin 예제를 살펴보자.</p>
<p>Kotlin에서 함수는 다음과 같이 선언한다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printName</span><span class="params">(name: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">    println(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드를 람다식로 표현하면 다음과 같다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123; name: String -&gt;</span><br><span class="line">    println(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin은 함수를 <a href="/ko/2019/02/01/04_java/190201_functional_programming/">일급 객체</a>로 취급하므로 람다식를 변수에 할당할 수 있다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> printName: (name: String) -&gt; <span class="built_in">Unit</span> = &#123; name: String -&gt;</span><br><span class="line">    println(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이는 언어 자체에서 <code>함수 타입</code>을 지원하기 때문이다. <code>정수 타입</code>에는 정수를 할당하는 것처럼 <code>함수 타입</code>에는 함수를 할당할 수 있다. 위 예제에서는 <code>(name: String) -&gt; Unit</code>가 바로 <code>함수 타입</code>이다.</p>
<p>람다식는 함수의 매개변수로도 전달할 수 있다. 아래 코드는 <code>run()</code>이라는 함수의 매개변수로 람다식를 전달하고 있다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">run(&#123; name: String -&gt; </span><br><span class="line">    printName()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="Java에서의-람다식"><a href="#Java에서의-람다식" class="headerlink" title="Java에서의 람다식"></a>Java에서의 람다식</h1><p>Java는 Kotlin, Swift 같은 언어에 비해 비교적 오래되었다. 또한 객체지향 프로그래밍을 패러다임으로 만들어졌기 때문에 언어 자체적으로 람다식와 함수형 프로그래밍을 지원하지 않는다. 그러나 Java 8부터 함수형 프로그래밍을 지원하기 위한 Java API가 추가되었다.</p>
<h1 id="함수형-인터페이스와-람다식"><a href="#함수형-인터페이스와-람다식" class="headerlink" title="함수형 인터페이스와 람다식"></a>함수형 인터페이스와 람다식</h1><p>Java는 함수 타입이 없기 때문에 람다식을 변수에 저장하거나 매개변수로 전달할 수 없다. 이를 해결하기 위해 도입된 개념이 <code>함수형 인터페이스(Functional Interface)</code>다.</p>
<p>함수형 인터페이스를 구현하기 위해서는 인터페이스를 정의한다. 그리고 내부에는 <u><b>단 한 개의 추상 메소드</b></u>를 선언한 후 <code>@FunctionalInterface</code> 어노테이션을 붙여주면 된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">execute</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 마치 변수에 함수를 할당하는 것처럼 람다식을 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda printName = (String name) -&gt; &#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">printName.execute(<span class="string">&quot;Paul&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>인터페이스 이름과 메소드 이름은 원하는대로 선택하면 된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MyLambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">myMethod</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 마치 변수에 함수를 할당하는 것처럼 람다식을 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MyLambda printName = (String name) -&gt; &#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">printName.myMethod(<span class="string">&quot;Paul&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>이제 여러 가지 함수형 인터페이스와 람다식을 살펴보자.</p>
<h3 id="1-매개변수가-없고-반환값도-없는-람다식"><a href="#1-매개변수가-없고-반환값도-없는-람다식" class="headerlink" title="(1) 매개변수가 없고 반환값도 없는 람다식"></a>(1) 매개변수가 없고 반환값도 없는 람다식</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = () -&gt; &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">lambda.run();   <span class="comment">// Hello World!</span></span><br></pre></td></tr></table></figure>
<p>람다식의 실행구문이 한 줄인 경우 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = () -&gt; System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line"></span><br><span class="line">lambda.run();   <span class="comment">// Hello World!</span></span><br></pre></td></tr></table></figure>

<h3 id="2-매개변수가-없고-반환값은-있는-람다식"><a href="#2-매개변수가-없고-반환값은-있는-람다식" class="headerlink" title="(2) 매개변수가 없고 반환값은 있는 람다식"></a>(2) 매개변수가 없고 반환값은 있는 람다식</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>다음과 같이 사용한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = () -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">String result = lambda.run();</span><br></pre></td></tr></table></figure>
<p>실행구문이 한 줄인 경우 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = () -&gt; <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line"></span><br><span class="line">String result = lambda.run();</span><br></pre></td></tr></table></figure>

<h3 id="3-매개변수가-있고-반환값은-없는-람다식"><a href="#3-매개변수가-있고-반환값은-없는-람다식" class="headerlink" title="(3) 매개변수가 있고 반환값은 없는 람다식"></a>(3) 매개변수가 있고 반환값은 없는 람다식</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; &#123;</span><br><span class="line">    System.out.println(a+b);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">lambda.run(<span class="number">3</span>, <span class="number">7</span>);   <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p>람다식의 구문이 한 줄인 경우 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; System.out.println(a+b);</span><br><span class="line"></span><br><span class="line">lambda.run(<span class="number">3</span>, <span class="number">7</span>);   <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p>람다식에서는 매개변수의 자료형을 제외할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (a, b) -&gt; System.out.println(a+b);</span><br><span class="line"></span><br><span class="line">lambda.run(<span class="number">3</span>, <span class="number">7</span>);   <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<h3 id="4-매개변수가-있고-반환값도-있는-람다식"><a href="#4-매개변수가-있고-반환값도-있는-람다식" class="headerlink" title="(4) 매개변수가 있고 반환값도 있는 람다식"></a>(4) 매개변수가 있고 반환값도 있는 람다식</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">run</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> result = lambda.run(<span class="number">3</span>, <span class="number">7</span>);</span><br></pre></td></tr></table></figure>
<p>실행 구문이 한 줄인 경우 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; a + b;</span><br><span class="line"><span class="keyword">int</span> result = lambda.run(<span class="number">3</span>, <span class="number">7</span>);</span><br></pre></td></tr></table></figure>
<p>람다식에서는 매개변수의 자료형을 제외할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (a, b) -&gt; a + b;</span><br><span class="line"><span class="keyword">int</span> result = lambda.run(<span class="number">3</span>, <span class="number">7</span>);</span><br></pre></td></tr></table></figure>

<h1 id="사전에-정의된-함수형-인터페이스"><a href="#사전에-정의된-함수형-인터페이스" class="headerlink" title="사전에 정의된 함수형 인터페이스"></a>사전에 정의된 함수형 인터페이스</h1><p>Java API에서는 자주 사용될 것 같은 함수형 인터페이스가 이미 정의되어있다.</p>
<h3 id="1-Supplier"><a href="#1-Supplier" class="headerlink" title="(1) Supplier "></a>(1) Supplier <T></h3><p>매개변수 없이 반환값만 갖는 함수형 인터페이스다. Supplier는 <code>T get()</code>라는 추상 메소드를 가진다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 정의</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Supplier</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">T <span class="title">get</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용 방법</span></span><br><span class="line">Supplier&lt;String&gt; supplier = () -&gt; <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(supplier.get());     <span class="comment">// &quot;Hello World!&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-Consumer"><a href="#2-Consumer" class="headerlink" title="(2) Consumer "></a>(2) Consumer <T></h3><p>매개변수가 있고 반환값은 없는 함수형 인터페이스다. Consumer는 <code>void accept(T t)</code>라는 추상 메소드를 가진다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 정의</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Consumer</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(T t)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Consumer&lt;T&gt; <span class="title">andThen</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; after)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> (T t) -&gt; &#123; accept(t); after.accept(t); &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용 방법</span></span><br><span class="line">Consumer&lt;String&gt; consumer = (String name) -&gt; &#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">consumer.accept(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="3-Function-lt-T-R-gt"><a href="#3-Function-lt-T-R-gt" class="headerlink" title="(3) Function &lt;T, R&gt;"></a>(3) Function &lt;T, R&gt;</h3><p>매개변수도 있고 반환값도 있는 함수형 인터페이스다. Function은 <code>R apply(T t)</code>라는 추상 메소드를 가진다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 정의</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Function</span>&lt;<span class="title">T</span>, <span class="title">R</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">R <span class="title">apply</span><span class="params">(T t)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; <span class="function">Function&lt;V, R&gt; <span class="title">compose</span><span class="params">(Function&lt;? <span class="keyword">super</span> V, ? extends T&gt; before)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(before);</span><br><span class="line">        <span class="keyword">return</span> (V v) -&gt; apply(before.apply(v));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; <span class="function">Function&lt;T, V&gt; <span class="title">andThen</span><span class="params">(Function&lt;? <span class="keyword">super</span> R, ? extends V&gt; after)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> (T t) -&gt; after.apply(apply(t));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; <span class="function">Function&lt;T, T&gt; <span class="title">identity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t -&gt; t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용법</span></span><br><span class="line">Function&lt;String, Integer&gt; function = (String str) -&gt; &#123;</span><br><span class="line">    str.length();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function.apply(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="4-Predicate"><a href="#4-Predicate" class="headerlink" title="(4) Predicate "></a>(4) Predicate <T></h3><p>매개변수가 있고 <code>boolean</code>타입의 값을 반환한다. Supplier는 <code>boolean test(T t)</code>라는 추상 메소드를 가진다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 정의</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Predicate</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">test</span><span class="params">(T t)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Predicate&lt;T&gt; <span class="title">and</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> T&gt; other)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(other);</span><br><span class="line">        <span class="keyword">return</span> (t) -&gt; test(t) &amp;&amp; other.test(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Predicate&lt;T&gt; <span class="title">negate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (t) -&gt; !test(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Predicate&lt;T&gt; <span class="title">or</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> T&gt; other)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(other);</span><br><span class="line">        <span class="keyword">return</span> (t) -&gt; test(t) || other.test(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; <span class="function">Predicate&lt;T&gt; <span class="title">isEqual</span><span class="params">(Object targetRef)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">null</span> == targetRef)</span><br><span class="line">                ? Objects::isNull</span><br><span class="line">                : object -&gt; targetRef.equals(object);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용 방법</span></span><br><span class="line">Predicate&lt;String&gt; predicate = (str) -&gt; str.equals(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line"></span><br><span class="line">predicate.test(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>

<h1 id="안드로이드에서의-람다식"><a href="#안드로이드에서의-람다식" class="headerlink" title="안드로이드에서의 람다식"></a>안드로이드에서의 람다식</h1><p>람다식은 안드로이드 어플리케이션 개발에서도 자주 사용된다. 보통 버튼같은 위젯을 클릭했을 때 실행할 구문을 람다식 안에 구현한다.</p>
<p>우선 람다식를 사용하지 않고 익명 클래스를 사용하여 특정 버튼을 클릭했을 때 실행할 구문을 등록해보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Button button = findViewById(R.id.button);</span><br><span class="line"></span><br><span class="line">button.setOnTouchListener(<span class="keyword">new</span> View.OnTouchListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouch</span><span class="params">(View v, MotionEvent event)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>람다식를 사용하면 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button.setOnTouchListener((View v, MotionEvent event) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>람다식에서는 데이터 타입도 생략할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button.setOnTouchListener((v, event) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>함수의 몸체가 한 줄일 때는 <code>중괄호&#123;&#125;</code>도 생략하여 한 줄로 표현할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">button.setOnTouchListener((v, event) -&gt; <span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>
<p>매개변수가 한 개일 때는 <code>소괄호()</code>도 생략할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">button.setOnClickListener(v -&gt; System.out.println(<span class="string">&quot;Button clicked.&quot;</span>));</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/02/04_java/190202_lambda_functional_interface/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
          <li class="pagination-prev">
            <a
                class="btn btn--default btn--small"
                href="/ko/archives/page/14/"
                aria-label="최근 포스트"
            >
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span>최근 포스트</span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a
                class="btn btn--default btn--small"
                href="/ko/archives/page/16/"
                aria-label="이전 포스트"
            >
              <span>이전 포스트</span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
        <li class="pagination-number">page 15 of 29</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2022 yologger. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">yologger</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/ko/assets/images/background.png');"></div>
        <!--SCRIPTS-->

<script src="/ko/assets/js/script-s1qf4dycbfqqmgvjljlv3c81jri2dhkbfsbrr18gdsntpulta4iextu4bozl.min.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
