
<!DOCTYPE html>
<html lang="ko">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Yologger&#39;s Blog">
    <title>아카이브: 2019/2 - Yologger&#39;s Blog</title>
    <meta name="author" content="yologger">
    
    
        <link rel="icon" href="https://yologger.github.io/ko/assets/images/favicon.png">
    
    
    <script type="application/ld+json">{}</script>
    <meta name="description" content="Yologger&#39;s Blog">
<meta property="og:type" content="blog">
<meta property="og:title" content="Yologger&#39;s Blog">
<meta property="og:url" content="https://yologger.github.io/ko/archives/2019/02/index.html">
<meta property="og:site_name" content="Yologger&#39;s Blog">
<meta property="og:description" content="Yologger&#39;s Blog">
<meta property="og:locale" content="ko_KR">
<meta property="article:author" content="yologger">
<meta name="twitter:card" content="summary">
    
    
        
    
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/ko/assets/css/style-mg0ufdhe3lf13uaqzh5sfd3dtbhx3iokplil152c5hqau8lqr315qgpxsjvw.min.css">

    <!--STYLES END-->
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-QYKNWR810R"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'G-QYKNWR810R');
    </script>


    

    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    

<header id="header" data-behavior="1">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/ko/"
            aria-label=""
        >
            Yologger&#39;s Blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="링크 열기: /ko/#about"
            >
        
        
        </a>
    
</header>

            <!-- Define author's picture -->


<nav id="sidebar" data-behavior="1">
    <div class="sidebar-container">
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://yologger.github.io"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="English"
                        >
                        <i class="sidebar-button-icon fa fa-globe" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">English</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="https://github.com/yologger"
                            
                                target="_blank"
                            
                            rel="noopener"
                            title="GitHub"
                        >
                        <i class="sidebar-button-icon fab fa-github" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">GitHub</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/mailto"
                            
                            rel="noopener"
                            title="Mail"
                        >
                        <i class="sidebar-button-icon fa fa-envelope" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Mail</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/java"
                            
                            rel="noopener"
                            title="Java"
                        >
                        <i class="sidebar-button-icon fab fa-java" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Java</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/kotlin"
                            
                            rel="noopener"
                            title="Kotlin"
                        >
                        <i class="sidebar-button-icon fab fa-korvue" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Kotlin</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/spring"
                            
                            rel="noopener"
                            title="Spring"
                        >
                        <i class="sidebar-button-icon fas fa-leaf" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Spring</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/android"
                            
                            rel="noopener"
                            title="Android"
                        >
                        <i class="sidebar-button-icon fab fa-android" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Android</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/infra_devops"
                            
                            rel="noopener"
                            title="Infra, DevOps"
                        >
                        <i class="sidebar-button-icon fa fa-server" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Infra, DevOps</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/tools"
                            
                            rel="noopener"
                            title="Tool"
                        >
                        <i class="sidebar-button-icon fa fa-wrench" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tool</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/ko/algorithm"
                            
                            rel="noopener"
                            title="Algorithm"
                        >
                        <i class="sidebar-button-icon fas fa-project-diagram" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Algorithm</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="1"
                 class="
                        hasCoverMetaIn
                        ">
                
    <section class="postShorten-group main-content-wrap">
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/09/04_java/190209_concurrent_api_executor/"
                            aria-label=": [Java 8] Concurrent API - Thread Pool / Executors / ExecutorService / Future"
                        >
                            [Java 8] Concurrent API - Thread Pool / Executors / ExecutorService / Future
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-09T00:00:00+09:00">
	
		    2019/02/09
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="Thread-Pool"><a href="#Thread-Pool" class="headerlink" title="Thread Pool"></a>Thread Pool</h1><p>멀티 스레드 환경에서 스레드 개수가 증가하면 스레드 생성과 스케쥴링으로 인한 성능 저하가 발생한다. 이를 해결하기 위해 <code>스레드 풀(Thread Pool)</code>이라는 공간에 일정 수의 스레드를 사전에 만들어 사용한다.</p>
<p>스레드 풀의 특징은 다음과 같다.</p>
<ul>
<li>사전에 만들어둔 스레드를 사용하기 때문에 스레드 생성과 스케쥴링 비용일 줄일 수 있다.</li>
<li>다 사용한 스레드는 스레드 풀에 반납한다.</li>
<li>스레드를 재사용할 수 있다.</li>
<li>적절한 수의 스레드를 만드는 것이 중요하다.</li>
</ul>
<p>Java 8부터는 <code>Concurrent API</code>를 통해 스레드 풀을 포함한 다양한 병렬처리를 할 수 있다. </p>
<h1 id="Concurrent-API"><a href="#Concurrent-API" class="headerlink" title="Concurrent API"></a>Concurrent API</h1><p> Concurrent API는 <code>java.util.concurrent</code>패키지에 포함된다. 이 패키지의 <code>ExecutorService</code>인터페이스와 <code>Executors</code>클래스를 사용하면 스레드 풀을 쉽게 제어할 수 있다.</p>
<h1 id="간단한-예제"><a href="#간단한-예제" class="headerlink" title="간단한 예제"></a>간단한 예제</h1><p>간단한 예제를 살펴보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 크기가 2인 스레드 풀 생성</span></span><br><span class="line">        ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 첫 번째 작업</span></span><br><span class="line">        executorService.submit(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Job 1 started at &quot;</span> + LocalTime.now() + <span class="string">&quot;in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;Job 1 finished at &quot;</span> + LocalTime.now() + <span class="string">&quot;in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 두 번째 작업</span></span><br><span class="line">        executorService.submit(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Job 2 started at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;Job 2 finished at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 세 번째 작업</span></span><br><span class="line">        executorService.submit(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Job 3 started at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">                    System.out.println(<span class="string">&quot;Job 3 finished at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 스레드 풀 종료</span></span><br><span class="line">        executorService.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>우선 크기가 2인 스레드 풀을 다음과 같이 생성하고 있다. <code>Executors</code>클래스의 <code>newFixedThreadPool()</code>을 호출하면 스레드 풀을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">2</span>);</span><br></pre></td></tr></table></figure>
<p>이제 세 개의 작업을 생성하고 <code>ExecutorService.submit()</code>의 인자로 전달하자. 각 작업은 시작 시간을 출력하고 5초 동안 Sleep한 후 종료 시간을 출력한다. 작업은 <code>Runnable</code> 또는 <a href="/ko/2019/02/08/04_java/190208_callable_futuretask/"><code>Callable</code></a>로 구현한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">executorService.submit(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="comment">// 스레드 이름과 시작 시간</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Job 1 started at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 5초 동안 Sleep</span></span><br><span class="line">            Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">            <span class="comment">// 스레드 이름과 종료 시간</span></span><br><span class="line">            System.out.println(<span class="string">&quot;Job 1 finished at &quot;</span> + LocalTime.now() + <span class="string">&quot; in Thread: &quot;</span> + Thread.currentThread().getName());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p><code>ExecutorService.submit()</code>에는 <code>작업(Runnable)</code>을 전달한다. 이제 스레드 풀은 작업을 처리하기 위해 스레드 하나를 할당한다.</p>
<p>마지막으로 스레드 풀을 종료시킨다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">executorService.shutdown();</span><br></pre></td></tr></table></figure>
<p>이제 출력 결과를 살펴보자.</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Job 1 started at 20:06:11.747462 in Thread: pool-1-thread-1</span><br><span class="line">Job 2 started at 20:06:11.747344 in Thread: pool-1-thread-2</span><br><span class="line">Job 1 finished at 20:06:16.769752 in Thread: pool-1-thread-1</span><br><span class="line">Job 2 finished at 20:06:16.769752 in Thread: pool-1-thread-2</span><br><span class="line">Job 3 started at 20:06:16.771134 in Thread: pool-1-thread-1</span><br><span class="line">Job 3 finished at 20:06:21.773421 in Thread: pool-1-thread-1</span><br></pre></td></tr></table></figure>
<p>위 예제는 다음과 같은 순서로 처리된다.</p>
<ol>
<li>스레드 풀의 크기가 2 이므로 첫 번째 작업과 두 번째 작업은 스레드를 할당받아 동시에 처리된다. </li>
<li>반면 세 번째 작업은 남은 스레드가 없으므로 <code>작업 큐(Job Queue)</code>라는 공간에서 대기한다.</li>
<li>첫 번째 작업 또는 두 번째 작업이 종료되어 스레드를 반환한다.</li>
<li>세 번째 작업은 스레드를 재사용하여 처리된다.</li>
</ol>
<p>이제 <code>Concurrent API</code>에 대해 좀 더 자세히 알아보자.</p>
<h1 id="스레드-풀-생성하기"><a href="#스레드-풀-생성하기" class="headerlink" title="스레드 풀 생성하기"></a>스레드 풀 생성하기</h1><p><code>Executors</code>클래스는 스레드 풀을 생성하기 위한 다양한 메소드를 제공한다. 모든 메소드는 <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/Executors.html">이 곳</a>에서 확인할 수 있다.</p>
<ul>
<li><p><code>newFixedThreadPool()</code>: </p>
<ul>
<li>고정 크기의 스레드 풀을 생성한다. </li>
<li>남은 스레드가 없으면 작업은 <code>작업 큐(Job Queue)</code>에서 대기한다.</li>
</ul>
</li>
<li><p><code>newCachedThreadPool()</code></p>
<ul>
<li>가변 크기의 스레드 풀을 생성한다. </li>
<li>남은 스레드가 없으면 새로운 스레드를 생성하여 작업에 할당한다.</li>
</ul>
</li>
<li><p><code>newSingleThreadExecutor()</code></p>
<ul>
<li>크기가 1인 스레드 풀을 생성한다.</li>
</ul>
</li>
</ul>
<h1 id="스레드-풀-실행하기"><a href="#스레드-풀-실행하기" class="headerlink" title="스레드 풀 실행하기"></a>스레드 풀 실행하기</h1><p><code>ExecutorService</code>는 스레드 풀에 작업을 할당하기 위한 두 가지 메소드를 제공한다.</p>
<h3 id="1-execute"><a href="#1-execute" class="headerlink" title="(1) execute()"></a>(1) execute()</h3><p><code>execute()</code>는 다음과 같은 특징이 있다.</p>
<ul>
<li>작업 처리 결과를 반환하지 않는다.</li>
<li>작업 처리 도중에 예외가 발생하면 해당 스레드를 종료시키고 새로운 스레드를 생성한다.</li>
</ul>
<p><code>execute()</code> 예제를 첨부한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newSingleThreadExecutor();</span><br><span class="line"></span><br><span class="line">executorService.execute(<span class="keyword">new</span> Runnable() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Job started.&quot;</span>);</span><br><span class="line">            Thread.sleep(<span class="number">10</span> * <span class="number">1000</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Job finished.&quot;</span>);</span><br><span class="line">            String result = <span class="string">&quot;This is result&quot;</span>;</span><br><span class="line">            System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Result: &quot;</span> + result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">executorService.shutdown();</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[21:20:05.142350] Job started.</span><br><span class="line">[21:20:15.154706] Job finished.</span><br><span class="line">[21:20:15.155586] Result: This is result</span><br></pre></td></tr></table></figure>

<h3 id="2-submit"><a href="#2-submit" class="headerlink" title="(2) submit()"></a>(2) submit()</h3><p><code>submit()</code>는 다음과 같은 특징이 있다.</p>
<ul>
<li>작업 처리 결과를 반환할 수 있다.</li>
<li>결과는 <code>Future</code>클래스로 Wrapping해서 반환된다.</li>
<li>작업 처리 도중에 예외가 발생해도 해당 스레드를 종료시키지 않고 다음 작업에 재사용한다.</li>
</ul>
<p><code>submit()</code> 예제를 첨부한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">ExecutorService executorService = Executors.newSingleThreadExecutor();</span><br><span class="line"></span><br><span class="line">Future&lt;String&gt; future = executorService.submit(<span class="keyword">new</span> Callable&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Job started.&quot;</span>);</span><br><span class="line">        Thread.sleep(<span class="number">10</span> * <span class="number">1000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Job finished.&quot;</span>);</span><br><span class="line">        String result = <span class="string">&quot;This is result&quot;</span>;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    String result = future.get();</span><br><span class="line">    System.out.println(<span class="string">&quot;[&quot;</span> + LocalTime.now() + <span class="string">&quot;]&quot;</span> + <span class="string">&quot; Result: &quot;</span> + result);</span><br><span class="line">&#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">executorService.shutdown();</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[21:23:27.843158] Job started.</span><br><span class="line">[21:23:37.855516] Job finished.</span><br><span class="line">[21:23:37.857058] Result: This is result</span><br></pre></td></tr></table></figure>

<h1 id="스레드-풀-종료하기"><a href="#스레드-풀-종료하기" class="headerlink" title="스레드 풀 종료하기"></a>스레드 풀 종료하기</h1><p>스레드 풀에 속한 스레드는 기본적으로 Main 스레드가 종료되어도 작업을 처리하기 위해 실행 상태로 남아있다. 따라서 적절한 시점에 스레드 풀을 종료하고 스레드를 해제해야한다.</p>
<p><code>ExecutorService</code>클래스는 스레드 풀을 종료하기 위한 다양한 메소드를 제공한다.</p>
<ul>
<li><p><code>shutdown()</code></p>
<ul>
<li>작업 큐에 남아있는 작업이 모두 마무리될 때 까지 기다렸다가 스레드 풀을 종료한다.</li>
</ul>
</li>
<li><p><code>shutdownNow()</code></p>
<ul>
<li>작업 큐에 작업이 남아있는지와 관계없이 스레드 풀을 종료한다.</li>
</ul>
</li>
<li><p><code>awaitTermination(long timeout, TimeUnit unit)</code></p>
<ul>
<li>timeout 안에 모든 작업을 처리하면 true, 처리하지 못하면 false를 반환한다. </li>
</ul>
</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/09/04_java/190209_concurrent_api_executor/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/08/04_java/190208_callable_futuretask/"
                            aria-label=": [Java 8] Concurrent API - Callable과 FutureTask"
                        >
                            [Java 8] Concurrent API - Callable과 FutureTask
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-08T00:00:00+09:00">
	
		    2019/02/08
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="Concurrent-API"><a href="#Concurrent-API" class="headerlink" title="Concurrent API"></a>Concurrent API</h1><p>Java 8에는 동시성 제어를 위한 <code>Concurrent API</code>가 추가되었다. Concurrent API는 <code>java.util.concurrent</code>패키지에 포함되어있으며, 이 패키지는 동시성,  멀티 스레드 작업을 위한 다양한 컴포넌트를 제공한다.</p>
<h1 id="Runnable"><a href="#Runnable" class="headerlink" title="Runnable"></a>Runnable</h1><p>Java 8 이전에는 멀티 스레드 작업을 위해 <code>Runnable</code> 인터페이스를 사용했다. 이 인터페이스의 코드는 다음과 같다. <u>반환값이 없고 예외를 발생시키지 않는다.</u> </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>Runnable</code>은 보통 다음과 같이 사용한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyRunnable</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        String result = <span class="string">&quot;Called at &quot;</span> + LocalTime.now();</span><br><span class="line">        Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyRunnable runnable = <span class="keyword">new</span> MyRunnable();</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(runnable);</span><br><span class="line">        thread.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="Callable"><a href="#Callable" class="headerlink" title="Callable"></a>Callable</h1><p>Java 8 부터는 <code>Callable</code> 인터페이스를 구현하여 멀티 스레드 작업을 할 수 있다. 이 인터페이스의 코드는 다음과 같다. <u>반환값이 있고 예외도 발생시킬 수 있다.</u></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Callable</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">V <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>Callable</code>은 보통 다음과 같이 사용한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyCallable</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">String</span>&gt; </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Thread.sleep(<span class="number">5</span> * <span class="number">1000</span>);</span><br><span class="line">        String result = <span class="string">&quot;Called at &quot;</span> + LocalTime.now();</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Main</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span></span>&#123;</span><br><span class="line">        MyCallable callable = <span class="keyword">new</span> MyCallable();</span><br><span class="line">        FutureTask futureTask = <span class="keyword">new</span> FutureTask(callable);</span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(futureTask);</span><br><span class="line">        thread.start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 결과가 반환될 때 까지 기다린다.</span></span><br><span class="line">            System.out.println(<span class="string">&quot;result : &quot;</span> + futureTask.get());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><code>FutureTask</code>클래스는 내부적으로 <code>RunnableFuture</code>클래스를 상속하며, RunnableFuture클래스는 다시 <code>Runnable</code>인터페이스와 <code>Future</code>인터페이스를 구현하고있다.</p>
<figure class="highlight java"><figcaption><span>FutureTask.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FutureTask</span>&lt;<span class="title">V</span>&gt; <span class="keyword">implements</span> <span class="title">RunnableFuture</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><figcaption><span>RunnableFuture.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">RunnableFuture</span>&lt;<span class="title">V</span>&gt; <span class="keyword">extends</span> <span class="title">Runnable</span>, <span class="title">Future</span>&lt;<span class="title">V</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이 때문에 다음과 같은 형태로 <code>Thread</code>클래스의 생성자에 인스턴스를 전달할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MyCallable callable = <span class="keyword">new</span> MyCallable();</span><br><span class="line">FutureTask futureTask = <span class="keyword">new</span> FutureTask(callable);</span><br><span class="line">Thread thread = <span class="keyword">new</span> Thread(futureTask);</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/08/04_java/190208_callable_futuretask/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/07/04_java/190207_default_method/"
                            aria-label=": [Java 8] default 메소드"
                        >
                            [Java 8] default 메소드
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-07T00:00:00+09:00">
	
		    2019/02/07
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<p><a href="/ko/2018/02/19/04_java/180219_interface/">인터페이스</a>는 메소드 선언만 할 뿐 구현부는 포함하지 않는다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>인터페이스는 인스턴스를 생성할 수도 없으며, 구현체에서 메소드를 모두 구현해야한다.</p>
<figure class="highlight java"><figcaption><span>Programmer.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> <span class="keyword">implements</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Do programming.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="default-메소드"><a href="#default-메소드" class="headerlink" title="default 메소드"></a>default 메소드</h1><p>키워드 <code>default</code>를 사용하면 인터페이스에서도 메소드 구현을 작성할 수 있다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Eat something.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="왜-사용할까"><a href="#왜-사용할까" class="headerlink" title="왜 사용할까?"></a>왜 사용할까?</h1><p>default 메소드는 <code>하위 호환성</code> 때문에 사용한다. </p>
<p>예를 들어보자. 내가 작성한 라이브러리에 아래 인터페이스가 포함된다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.mylib;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>그리고 다른 사람이 내 라이브러리를 사용하고 있다.</p>
<figure class="highlight java"><figcaption><span>Programmer.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.yologger.mylib.Person;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> <span class="keyword">implements</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Do programming.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 기능을 추가하기 위해서 인터페이스에 메소드를 추가한다고 가정하자.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.yologger.mylib;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span></span>;     <span class="comment">// 기능 추가</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이 때문에 내 라이브러리를 사용하는 곳에도 영향을 준다. <code>Programmer</code>클래스를 수정해야하기 때문이다.</p>
<figure class="highlight java"><figcaption><span>Programmer.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> com.yologger.mylib.Person;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Programmer</span> <span class="keyword">implements</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">work</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Do programming.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Eat Something.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>만약 default 메소드를 사용하면 기능을 추가해도 내 라이브러리를 사용하는 곳에 영향을 주지 않게된다.</p>
<figure class="highlight java"><figcaption><span>Person.java</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">work</span><span class="params">()</span></span>;</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">default</span> <span class="keyword">void</span> <span class="title">eat</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Eat something.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이처럼 default 메소드를 사용하면 <code>하위 호환성</code>을 보장할 수 있다.</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/07/04_java/190207_default_method/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/06/04_java/190206_stream/"
                            aria-label=": [Java 8] 스트림 API(Stream API)"
                        >
                            [Java 8] 스트림 API(Stream API)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-06T00:00:00+09:00">
	
		    2019/02/06
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="스트림"><a href="#스트림" class="headerlink" title="스트림"></a>스트림</h1><p>Java 8에서 추가된 <code>스트림(Stream)</code>은 <a href="/ko/2019/01/02/04_java/190102_io/">입출력</a>에서 살펴본 스트림과는 전혀 다른 개념이다.</p>
<p>Java에서는 여러 개의 데이터를 다루기 위해 Array 또는 Collection(List, Set, Map)를 사용한다. 그리고 이 데이터들에 접근하기 위해서는 <code>for</code> 또는 <code>foreach</code>같은 반복문을 사용했다. </p>
<p>그러나 이렇게 작성된 코드는 가독성이 떨어지고 길이도 길어지는 문제가 있다. 이러한 문제를 극복하기 위해 <code>스트림(Stream)</code>이 등장하게 되었다.</p>
<h1 id="예제"><a href="#예제" class="headerlink" title="예제"></a>예제</h1><p>간단한 예제를 살펴보면서 스트림이 어떤 것인지 알아보자. 1에서 6까지의 숫자가 List에 들어있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; numbers = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">numbers.add(<span class="number">1</span>);</span><br><span class="line">numbers.add(<span class="number">2</span>);</span><br><span class="line">numbers.add(<span class="number">3</span>);</span><br><span class="line">numbers.add(<span class="number">4</span>);</span><br><span class="line">numbers.add(<span class="number">5</span>);</span><br><span class="line">numbers.add(<span class="number">6</span>);</span><br></pre></td></tr></table></figure>
<p>이제 반복문을 사용하여 짝수만 추출해보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; evenNumbers = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;numbers.size(); i++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (numbers.get(i) % <span class="number">2</span> == <span class="number">0</span>) &#123;</span><br><span class="line">        evenNumbers.add(numbers.get(i));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println(evenNumbers.toString()); <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>

<p><code>스트림(Stream)</code>을 사용하면 더욱 쉽게 짝수를 추출할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; evenNumbers = numbers.stream()</span><br><span class="line">        .filter(value -&gt; value%<span class="number">2</span> == <span class="number">0</span>)</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">System.out.println(evenNumbers.toString());     <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>

<h1 id="스트림-생성하기"><a href="#스트림-생성하기" class="headerlink" title="스트림 생성하기"></a>스트림 생성하기</h1><p>다양한 방법으로 스트림을 생성할 수 있다.</p>
<h3 id="1-Stream-builder"><a href="#1-Stream-builder" class="headerlink" title="(1) Stream.builder()"></a>(1) Stream.builder()</h3><p><code>Builder</code>를 사용하면 스트림에 값을 직접 넣을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.&lt;Integer&gt;builder()</span><br><span class="line">    .add(<span class="number">1</span>)</span><br><span class="line">    .add(<span class="number">2</span>)</span><br><span class="line">    .add(<span class="number">3</span>)</span><br><span class="line">    .add(<span class="number">4</span>)</span><br><span class="line">    .build();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure>


<h3 id="2-Stream-generate"><a href="#2-Stream-generate" class="headerlink" title="(2) Stream.generate()"></a>(2) Stream.generate()</h3><p><code>Stream.generate()</code>을 사용하면 람다식으로 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.generate(() -&gt; <span class="number">1</span>).limit(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="3-Stream-iterate"><a href="#3-Stream-iterate" class="headerlink" title="(3) Stream.iterate()"></a>(3) Stream.iterate()</h3><p><code>Stream.iterate()</code>은 초기값과 람다식을 이용하여 스트림을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.iterate(<span class="number">100</span>, x -&gt; x+<span class="number">1</span>).limit(<span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br></pre></td></tr></table></figure>

<h3 id="4-Stream-of"><a href="#4-Stream-of" class="headerlink" title="(4) Stream.of()"></a>(4) Stream.of()</h3><p><code>Stream.of()</code>은 매개변수로 전달된 요소들로 스트림을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>

<h3 id="5-배열로-스트림-생성하기"><a href="#5-배열로-스트림-생성하기" class="headerlink" title="(5) 배열로 스트림 생성하기"></a>(5) 배열로 스트림 생성하기</h3><p><code>Arrays.stream()</code>을 사용하면 배열을 스트림으로 만들 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Integer[] array  = &#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;;</span><br><span class="line">Stream&lt;Integer&gt; stream = Arrays.stream(array);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>

<h3 id="6-List-Set으로-스트림-생성하기"><a href="#6-List-Set으로-스트림-생성하기" class="headerlink" title="(6) List, Set으로 스트림 생성하기"></a>(6) List, Set으로 스트림 생성하기</h3><p><code>List.stream()</code>을 사용하면 <code>List</code>로 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</span><br><span class="line">list.add(<span class="number">1</span>);</span><br><span class="line">list.add(<span class="number">2</span>);</span><br><span class="line">list.add(<span class="number">3</span>);</span><br><span class="line">list.add(<span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">Stream&lt;Integer&gt; stream = list.stream();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td></tr></table></figure>
<p><code>Set.stream()</code>을 사용하면 <code>Set</code>로 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet&lt;Integer&gt;();</span><br><span class="line">set.add(<span class="number">1</span>);</span><br><span class="line">set.add(<span class="number">2</span>);</span><br><span class="line">set.add(<span class="number">3</span>);</span><br><span class="line">set.add(<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">Stream&lt;Integer&gt; stream = set.stream();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td></tr></table></figure>

<h3 id="6-Stream-empty"><a href="#6-Stream-empty" class="headerlink" title="(6) Stream.empty()"></a>(6) Stream.empty()</h3><p><code>Stream.empty()</code>을 사용하면 빈 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream stream = Stream.empty();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>

<h1 id="원시-타입의-스트림-생성하기"><a href="#원시-타입의-스트림-생성하기" class="headerlink" title="원시 타입의 스트림 생성하기"></a>원시 타입의 스트림 생성하기</h1><p>물론 제너릭과 Wrapper 클래스를 사용하면 원시 타입의 스트림을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.&lt;Integer&gt;of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<p>그러나 제네릭과 Wrapper 클래스를 사용하지 않고 원시 타입의 스트림을 생성할 수도 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<p>제공되는 원시 타입의 스트림은 다음과 같다.</p>
<ul>
<li>IntStream</li>
<li>LongStream</li>
<li>DoubleStream</li>
</ul>
<h1 id="스트림-조작하기"><a href="#스트림-조작하기" class="headerlink" title="스트림 조작하기"></a>스트림 조작하기</h1><h3 id="1-Stream-concat"><a href="#1-Stream-concat" class="headerlink" title="(1) Stream.concat()"></a>(1) Stream.concat()</h3><p><code>Stream.concat()</code>을 사용하면 두 스트림을 합쳐 새로운 스트림을 만들 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream1 = Stream.&lt;Integer&gt;of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>);</span><br><span class="line">Stream&lt;Integer&gt; stream2 = Stream.&lt;Integer&gt;of(<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">Stream&lt;Integer&gt; stream = Stream.concat(stream1, stream2);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<h3 id="2-Stream-filter"><a href="#2-Stream-filter" class="headerlink" title="(2) Stream.filter()"></a>(2) Stream.filter()</h3><p><code>Stream.filter()</code>을 사용하면 요소를 필터링할 수 있다. 아래 예제는 짝수만 필터링한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.&lt;Integer&gt;of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>)</span><br><span class="line">        .filter(value -&gt; value%<span class="number">2</span> == <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">        .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">4</span><br><span class="line">6</span><br><span class="line">8</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<h3 id="3-Stream-map"><a href="#3-Stream-map" class="headerlink" title="(3) Stream.map()"></a>(3) Stream.map()</h3><p><code>Stream.map()</code>을 사용하면 요소들을 다른 값들로 매핑할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;Paul&quot;</span>, <span class="string">&quot;Monica&quot;</span>, <span class="string">&quot;Rachel&quot;</span>, <span class="string">&quot;Chandler&quot;</span>)</span><br><span class="line">    .map(value -&gt; value.toUpperCase());</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">PAUL</span><br><span class="line">MONICA</span><br><span class="line">RACHEL</span><br><span class="line">CHANDLER</span><br></pre></td></tr></table></figure>
<h3 id="4-Stream-flatMap"><a href="#4-Stream-flatMap" class="headerlink" title="(4) Stream.flatMap()"></a>(4) Stream.flatMap()</h3><p><code>Stream.flatMap()</code>을 사용하면 요소를 다른 스트림으로 만들 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(</span><br><span class="line">    <span class="keyword">new</span> Student(<span class="string">&quot;Joey&quot;</span>, <span class="number">80</span>, <span class="number">90</span>, <span class="number">70</span>),</span><br><span class="line">    <span class="keyword">new</span> Student(<span class="string">&quot;Monica&quot;</span>, <span class="number">75</span>, <span class="number">100</span>, <span class="number">90</span>),</span><br><span class="line">    <span class="keyword">new</span> Student(<span class="string">&quot;Ross&quot;</span>, <span class="number">70</span>, <span class="number">80</span>, <span class="number">100</span>)</span><br><span class="line">).flatMap(student -&gt; Stream.&lt;Integer&gt;of(student.getMath(), student.getEnglish(), student.getScience()));</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">80</span><br><span class="line">90</span><br><span class="line">70</span><br><span class="line">75</span><br><span class="line">100</span><br><span class="line">90</span><br><span class="line">70</span><br><span class="line">80</span><br><span class="line">100</span><br></pre></td></tr></table></figure>
<h3 id="5-Stream-sorted"><a href="#5-Stream-sorted" class="headerlink" title="(5) Stream.sorted()"></a>(5) Stream.sorted()</h3><p><code>Stream.sorted()</code>을 사용하면 요소들을 정렬할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>)</span><br><span class="line">    .sorted();</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td></tr></table></figure>

<h1 id="스트림으로-결과-만들기"><a href="#스트림으로-결과-만들기" class="headerlink" title="스트림으로 결과 만들기"></a>스트림으로 결과 만들기</h1><h3 id="1-Stream-foreach"><a href="#1-Stream-foreach" class="headerlink" title="(1) Stream.foreach()"></a>(1) Stream.foreach()</h3><p><code>Stream.foreach()</code>을 사용하면 모든 요소들을 순회할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">stream</span><br><span class="line">    .forEach(System.out::println);</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">1</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">4</span><br></pre></td></tr></table></figure>

<h3 id="2-Stream-count"><a href="#2-Stream-count" class="headerlink" title="(2) Stream.count()"></a>(2) Stream.count()</h3><p>요소의 개수를 구할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;Integer&gt; stream = Stream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> count = stream.count();    <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>

<h3 id="3-Stream-sum"><a href="#3-Stream-sum" class="headerlink" title="(3) Stream.sum()"></a>(3) Stream.sum()</h3><p>요소의 합을 구할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">long</span> count = stream.sum();    <span class="comment">// 21</span></span><br></pre></td></tr></table></figure>
<h3 id="4-Stream-min"><a href="#4-Stream-min" class="headerlink" title="(4) Stream.min()"></a>(4) Stream.min()</h3><p>최소값을 찾을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">OptionalInt min = stream.min();    </span><br><span class="line"></span><br><span class="line">min.ifPresent(System.out::println);     <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<h3 id="5-Stream-max"><a href="#5-Stream-max" class="headerlink" title="(5) Stream.max()"></a>(5) Stream.max()</h3><p>최대값을 찾을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">OptionalInt max = stream.max();</span><br><span class="line"></span><br><span class="line">max.ifPresent(System.out::println);     <span class="comment">// 6</span></span><br></pre></td></tr></table></figure>
<h3 id="6-Stream-average"><a href="#6-Stream-average" class="headerlink" title="(6) Stream.average()"></a>(6) Stream.average()</h3><p>평균값을 찾을 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">OptionalDouble average = stream.average();</span><br><span class="line"></span><br><span class="line">average.ifPresent(System.out::println);     <span class="comment">// 3.5</span></span><br></pre></td></tr></table></figure>
<h3 id="7-Stream-reduce"><a href="#7-Stream-reduce" class="headerlink" title="(7) Stream.reduce()"></a>(7) Stream.reduce()</h3><p><code>Stream.reduce()</code>는 각 요소에 람다식을 실행하여 단 1개의 결과를 반환한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">IntStream stream = IntStream.of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>);</span><br><span class="line"></span><br><span class="line">OptionalInt sum = stream.reduce((acc, next) -&gt; acc + next);</span><br><span class="line"></span><br><span class="line">sum.ifPresent(System.out::println);     <span class="comment">// 21</span></span><br></pre></td></tr></table></figure>
<h1 id="collect-와-Collectors"><a href="#collect-와-Collectors" class="headerlink" title="collect()와 Collectors"></a>collect()와 Collectors</h1><p><code>collect()</code>메소드와 <code>Collectors</code>클래스의 메소드들을 사용하면 스트림을 다양하게 조작할 수 있다.</p>
<h3 id="1-Collectors-toList"><a href="#1-Collectors-toList" class="headerlink" title="(1) Collectors.toList()"></a>(1) Collectors.toList()</h3><p>스트림을 List로 변환한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = Stream.&lt;Integer&gt;of(<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>)</span><br><span class="line">    .collect(Collectors.toList());</span><br></pre></td></tr></table></figure>

<h3 id="2-Collectors-joining"><a href="#2-Collectors-joining" class="headerlink" title="(2) Collectors.joining()"></a>(2) Collectors.joining()</h3><p>스트림을 하나의 문자열로 이어 붙일 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str = Stream.&lt;String&gt;of(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;DDD&quot;</span>)</span><br><span class="line">    .collect(Collectors.joining());</span><br><span class="line"></span><br><span class="line">System.out.println(str);    <span class="comment">// AAABBBCCCDDD</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">String str = Stream.&lt;String&gt;of(<span class="string">&quot;AAA&quot;</span>, <span class="string">&quot;BBB&quot;</span>, <span class="string">&quot;CCC&quot;</span>, <span class="string">&quot;DDD&quot;</span>)</span><br><span class="line">    .collect(Collectors.joining(<span class="string">&quot;+&quot;</span>, <span class="string">&quot;&lt;&quot;</span>, <span class="string">&quot;&gt;&quot;</span>));</span><br><span class="line"></span><br><span class="line">System.out.println(str);    <span class="comment">// &lt;AAA+BBB+CCC+DDD&gt;</span></span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/06/04_java/190206_stream/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/05/04_java/190205_optional/"
                            aria-label=": [Java 8] 옵셔널(Optional)"
                        >
                            [Java 8] 옵셔널(Optional)
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-05T00:00:00+09:00">
	
		    2019/02/05
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<p>Java 언어로 개발을 할 때 가장 많이 발생하는 예외 중 하나가 바로 <code>NullPointException</code>이다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">null</span>;</span><br><span class="line">person.getName();</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread &quot;main&quot; java.lang.NullPointerException at Main.main(Main.java:16)</span><br></pre></td></tr></table></figure>

<p>이 예외를 피하기 위해 <code>null</code>을 체크해야하는데 이는 코드를 복잡하게 할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">if</span> (person != <span class="keyword">null</span>) &#123;</span><br><span class="line">    person.getName();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h1><p><code>Optional</code>은 Java 8에서 추가된 기능으로 <code>null</code>이 올 수 있는 객체를 감싼 Wrapper 클래스다. 객체는 Optional의 <code>value</code> 속성에 저장된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">Optional</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> T value;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Optional을 다음과 같이 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">null</span>;</span><br><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure>
<p>이제 <code>null</code>이 아닐 때만 값에 접근할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">optional.ifPresent(p -&gt; p.getName());</span><br></pre></td></tr></table></figure>
<p>이제 자세한 Optional 사용법에 대해 알아보자.</p>
<h1 id="Optional-생성하기"><a href="#Optional-생성하기" class="headerlink" title="Optional 생성하기"></a>Optional 생성하기</h1><h3 id="1-Optional-empty"><a href="#1-Optional-empty" class="headerlink" title="(1) Optional.empty()"></a>(1) Optional.empty()</h3><p><code>empty()</code>는 값이 빈 Optional을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Person&gt; optional = Optional.empty();</span><br><span class="line"></span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<h3 id="2-Optional-of"><a href="#2-Optional-of" class="headerlink" title="(2) Optional.of()"></a>(2) Optional.of()</h3><p><code>of()</code>에 null일 가능성이 없는 값을 전달하여 Optional을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">new</span> Person(<span class="string">&quot;Paul&quot;</span>);</span><br><span class="line"></span><br><span class="line">Optional&lt;Person&gt; optional = Optional.of(p);</span><br><span class="line"></span><br><span class="line">System.out.println(optional.isPresent());       <span class="comment">// true</span></span><br></pre></td></tr></table></figure>
<p><code>of()</code>는 값이 없는 경우 NullPointException이 발생시킨다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Person p = <span class="keyword">null</span>;</span><br><span class="line">Optional&lt;Person&gt; optional = Optional.of(p);     <span class="comment">// NullPointerException</span></span><br></pre></td></tr></table></figure>

<h3 id="3-Optional-ofNullable"><a href="#3-Optional-ofNullable" class="headerlink" title="(3) Optional.ofNullable()"></a>(3) Optional.ofNullable()</h3><p><code>ofNullable()</code>은 null일 가능성이 있는 객체를 전달하여 Optional을 생성한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(<span class="keyword">null</span>);</span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Paul&quot;</span>);</span><br><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(person);</span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h1 id="Null-체크"><a href="#Null-체크" class="headerlink" title="Null 체크"></a>Null 체크</h1><h3 id="1-isPresent"><a href="#1-isPresent" class="headerlink" title="(1) isPresent()"></a>(1) isPresent()</h3><p><code>isPresent()</code>를 사용하면 객체가 null인지 확인할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(<span class="keyword">null</span>);</span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Paul&quot;</span>);</span><br><span class="line"></span><br><span class="line">Optional&lt;Person&gt; optional = Optional.ofNullable(person);</span><br><span class="line">System.out.println(optional.isPresent());   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="2-ifPresent"><a href="#2-ifPresent" class="headerlink" title="(2) ifPresent()"></a>(2) ifPresent()</h3><p><code>ifPresent()</code>는 객체가 null이 아닐 때 람다식을 실행한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">new</span> Person(<span class="string">&quot;Paul&quot;</span>);</span><br><span class="line"></span><br><span class="line">Optional.ofNullable(person)</span><br><span class="line">    .ifPresent((p -&gt; System.out.println(p.getName())));</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Paul</span><br></pre></td></tr></table></figure>
<p>객체가 null이면 람다식을 실행하지 않는다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Person person = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">Optional.ofNullable(person)</span><br><span class="line">    .ifPresent((p -&gt; System.out.println(p.getName())));</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="값-가져오기"><a href="#값-가져오기" class="headerlink" title="값 가져오기"></a>값 가져오기</h1><p><code>get()</code>을 사용하면 Optional이 가지고 있는 객체를 가져올 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str = Optional.ofNullable(<span class="string">&quot;Hello&quot;</span>).get();</span><br></pre></td></tr></table></figure>
<p>만약 값이 없다면 <code>NoSuchElementException</code>이 발생한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">String str = Optional.ofNullable(<span class="keyword">null</span>).get();   <span class="comment">// NoSuchElementException</span></span><br></pre></td></tr></table></figure>

<h1 id="필터링"><a href="#필터링" class="headerlink" title="필터링"></a>필터링</h1><p><code>filter()</code>을 사용하면 객체를 필터링할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .filter(v -&gt; v.startsWith(<span class="string">&quot;AB&quot;</span>))</span><br><span class="line">    .ifPresent(value -&gt; System.out.println(value));</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ABCD</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .filter(v -&gt; v.startsWith(<span class="string">&quot;XY&quot;</span>))</span><br><span class="line">    .ifPresent(value -&gt; System.out.println(value));</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="변환"><a href="#변환" class="headerlink" title="변환"></a>변환</h1><h3 id="1-map"><a href="#1-map" class="headerlink" title="(1) map()"></a>(1) map()</h3><p><code>map()</code>을 사용하면 객체를 변환할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .map(value -&gt; value.toLowerCase())</span><br><span class="line">    .ifPresent(value -&gt; System.out.println(value));</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><figcaption><span>출력 결과</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abcd</span><br></pre></td></tr></table></figure>
<p>위 코드는 <a href="/ko/2019/02/03/04_java/190203_method_reference/">메소드 참조</a>을 사용하여 다음과 같이 단축할 수도 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .map(String::toLowerCase)</span><br><span class="line">    .ifPresent(System.out::println);</span><br></pre></td></tr></table></figure>

<h3 id="2-flatMap"><a href="#2-flatMap" class="headerlink" title="(2) flatMap()"></a>(2) flatMap()</h3><p><code>flatMap()</code>을 사용하면 다른 Optional로 반환할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional.of(<span class="string">&quot;ABCD&quot;</span>)</span><br><span class="line">    .flatMap(value -&gt; Optional.of(value.toLowerCase()))</span><br><span class="line">    .ifPresent(System.out::println);    <span class="comment">// abcd</span></span><br></pre></td></tr></table></figure>


<h1 id="기타"><a href="#기타" class="headerlink" title="기타"></a>기타</h1><h3 id="1-orElse"><a href="#1-orElse" class="headerlink" title="(1) orElse()"></a>(1) orElse()</h3><p><code>orElse()</code>는 Optional이 비어있다면 <code>orElse()</code>로 지정한 값을 반환한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;Something&quot;</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElse(<span class="string">&quot;Another thing&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);  <span class="comment">// Something</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElse(<span class="string">&quot;Another Thing&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);  <span class="comment">// Another Thing</span></span><br></pre></td></tr></table></figure>

<h3 id="2-orElseGet"><a href="#2-orElseGet" class="headerlink" title="(2) orElseGet()"></a>(2) orElseGet()</h3><p><code>orElseGet()</code>는 Optional이 비어있다면 람다식을 실행하고 람다식의 반환값을 반환한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;Something&quot;</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElseGet(() -&gt; <span class="string">&quot;Another thing&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);  <span class="comment">// Something</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElseGet(() -&gt; <span class="string">&quot;Another thing&quot;</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);  <span class="comment">// Another thing</span></span><br></pre></td></tr></table></figure>
<h3 id="3-orElseThrow"><a href="#3-orElseThrow" class="headerlink" title="(3) orElseThrow()"></a>(3) orElseThrow()</h3><p><code>orElseThrow()</code>는 Optional이 비어있다면 예외를 발생시킨다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="string">&quot;Something&quot;</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElseThrow(NoSuchElementException::<span class="keyword">new</span>);</span><br><span class="line"></span><br><span class="line">System.out.println(value);      <span class="comment">// Something</span></span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">String str = <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">String value = Optional.ofNullable(str)</span><br><span class="line">        .orElseThrow(NoSuchElementException::<span class="keyword">new</span>);  <span class="comment">// Exception in thread &quot;main&quot; java.util.NoSuchElementException</span></span><br><span class="line"></span><br><span class="line">System.out.println(value);</span><br></pre></td></tr></table></figure>

<h1 id="원시타입-옵셔널"><a href="#원시타입-옵셔널" class="headerlink" title="원시타입 옵셔널"></a>원시타입 옵셔널</h1><p>물론 제너릭과 Wrapper 클래스를 사용하면 원시 타입의 옵셔널을 생성할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Optional&lt;Integer&gt; optional = Optional.of(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">optional.ifPresent(System.out::println);    <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>그러나 제네릭과 Wrapper 클래스를 사용하지 않고 원시 타입의 옵셔널을 생성할 수도 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">OptionalInt optional = OptionalInt.of(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">optional.ifPresent(System.out::println);    <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>
<p>제공되는 원시 타입의 옵셔널은 다음과 같다.</p>
<ul>
<li>OptionalInt</li>
<li>OptionalLong</li>
<li>OptionalDouble</li>
</ul>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/05/04_java/190205_optional/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/03/04_java/190203_method_reference/"
                            aria-label=": [Java 8] 메소드 참조, 생성자 참조"
                        >
                            [Java 8] 메소드 참조, 생성자 참조
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-03T00:00:00+09:00">
	
		    2019/02/03
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="메소드-참조"><a href="#메소드-참조" class="headerlink" title="메소드 참조"></a>메소드 참조</h1><p><code>메소드 참조(Method Reference)</code>은 람다식이 단 하나의 메소드만을 호출하는 경우, 람다식에서 불필요한 매개변수를 줄여 사용할 수 있게 한다. </p>
<p>예제를 살펴보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">(String something)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (something) -&gt; System.out.println(something);</span><br><span class="line">lambda.run(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>위 예제는 람다식이 단 하나의 메소드 <code>System.out.println(something)</code>만을 호출하고 있다. 이 예제는<br>메소드 참조를 사용하면 위 예제를 더욱 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = System.out::println;</span><br><span class="line">lambda.run(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>즉, 두 구문은 동일하다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">(something) -&gt; System.out.println(something)</span><br><span class="line">System.out::println</span><br></pre></td></tr></table></figure>

<p>메소드 참조는 다음과 같은 형태로 사용한다.</p>
<ul>
<li>클래스이름::메소드이름</li>
<li>참조변수이름::메소드이름</li>
</ul>
<h1 id="생성자-참조"><a href="#생성자-참조" class="headerlink" title="생성자 참조"></a>생성자 참조</h1><p>생성자를 호출하는 람다식도 메소드 참조 예제처럼 단축할 수 있다.</p>
<p>다음 예제를 보자</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function">Person <span class="title">run</span><span class="params">(String str)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (str) -&gt;  <span class="keyword">new</span> Person(str);</span><br><span class="line">Person p = lambda.run(<span class="string">&quot;Paul&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>생성자 참조를 사용하면 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = Person::<span class="keyword">new</span>;</span><br><span class="line">Person p = lambda.run(<span class="string">&quot;Paul&quot;</span>);</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/03/04_java/190203_method_reference/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/02/04_java/190202_lambda_functional_interface/"
                            aria-label=": [Java 8] 람다식, 함수형 인터페이스"
                        >
                            [Java 8] 람다식, 함수형 인터페이스
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-02T00:00:00+09:00">
	
		    2019/02/02
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="람다식"><a href="#람다식" class="headerlink" title="람다식"></a>람다식</h1><p><code>람다식(Lambda Expression)</code>는 함수를 하나의 식으로 표현한 것이다. 함수를 람다식으로 표현하면 메소드의 이름이 필요없기 때문에 <code>익명 함수(Anonymous Function)</code>라고도 한다.</p>
<h1 id="Kotlin에서의-람다식"><a href="#Kotlin에서의-람다식" class="headerlink" title="Kotlin에서의 람다식"></a>Kotlin에서의 람다식</h1><p>Kotlin, Swift처럼 비교적 최근에 개발된 프로그래밍 언어는 자체적으로 람다식를 지원한다. 그럼 Kotin 예제를 살펴보자.</p>
<p>Kotlin에서 함수는 다음과 같이 선언한다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printName</span><span class="params">(name: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">    println(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>위 코드를 람다식로 표현하면 다음과 같다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123; name: String -&gt;</span><br><span class="line">    println(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>Kotlin은 함수를 <a href="/ko/2019/02/01/04_java/190201_functional_programming/">일급 객체</a>로 취급하므로 람다식를 변수에 할당할 수 있다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> printName: (name: String) -&gt; <span class="built_in">Unit</span> = &#123; name: String -&gt;</span><br><span class="line">    println(name)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이는 언어 자체에서 <code>함수 타입</code>을 지원하기 때문이다. <code>정수 타입</code>에는 정수를 할당하는 것처럼 <code>함수 타입</code>에는 함수를 할당할 수 있다. 위 예제에서는 <code>(name: String) -&gt; Unit</code>가 바로 <code>함수 타입</code>이다.</p>
<p>람다식는 함수의 매개변수로도 전달할 수 있다. 아래 코드는 <code>run()</code>이라는 함수의 매개변수로 람다식를 전달하고 있다.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">run(&#123; name: String -&gt; </span><br><span class="line">    printName()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h1 id="Java에서의-람다식"><a href="#Java에서의-람다식" class="headerlink" title="Java에서의 람다식"></a>Java에서의 람다식</h1><p>Java는 Kotlin, Swift 같은 언어에 비해 비교적 오래되었다. 또한 객체지향 프로그래밍을 패러다임으로 만들어졌기 때문에 언어 자체적으로 람다식와 함수형 프로그래밍을 지원하지 않는다. 그러나 Java 8부터 함수형 프로그래밍을 지원하기 위한 Java API가 추가되었다.</p>
<h1 id="함수형-인터페이스와-람다식"><a href="#함수형-인터페이스와-람다식" class="headerlink" title="함수형 인터페이스와 람다식"></a>함수형 인터페이스와 람다식</h1><p>Java는 함수 타입이 없기 때문에 람다식을 변수에 저장하거나 매개변수로 전달할 수 없다. 이를 해결하기 위해 도입된 개념이 <code>함수형 인터페이스(Functional Interface)</code>다.</p>
<p>함수형 인터페이스를 구현하기 위해서는 인터페이스를 정의한다. 그리고 내부에는 <u><b>단 한 개의 추상 메소드</b></u>를 선언한 후 <code>@FunctionalInterface</code> 어노테이션을 붙여주면 된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">execute</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 마치 변수에 함수를 할당하는 것처럼 람다식을 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda printName = (String name) -&gt; &#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">printName.execute(<span class="string">&quot;Paul&quot;</span>);</span><br></pre></td></tr></table></figure>
<p>인터페이스 이름과 메소드 이름은 원하는대로 선택하면 된다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MyLambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">myMethod</span><span class="params">(String name)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>이제 마치 변수에 함수를 할당하는 것처럼 람다식을 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MyLambda printName = (String name) -&gt; &#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">printName.myMethod(<span class="string">&quot;Paul&quot;</span>);</span><br></pre></td></tr></table></figure>

<p>이제 여러 가지 함수형 인터페이스와 람다식을 살펴보자.</p>
<h3 id="1-매개변수가-없고-반환값도-없는-람다식"><a href="#1-매개변수가-없고-반환값도-없는-람다식" class="headerlink" title="(1) 매개변수가 없고 반환값도 없는 람다식"></a>(1) 매개변수가 없고 반환값도 없는 람다식</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = () -&gt; &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">lambda.run();   <span class="comment">// Hello World!</span></span><br></pre></td></tr></table></figure>
<p>람다식의 실행구문이 한 줄인 경우 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = () -&gt; System.out.println(<span class="string">&quot;Hello World!&quot;</span>);</span><br><span class="line"></span><br><span class="line">lambda.run();   <span class="comment">// Hello World!</span></span><br></pre></td></tr></table></figure>

<h3 id="2-매개변수가-없고-반환값은-있는-람다식"><a href="#2-매개변수가-없고-반환값은-있는-람다식" class="headerlink" title="(2) 매개변수가 없고 반환값은 있는 람다식"></a>(2) 매개변수가 없고 반환값은 있는 람다식</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">run</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>다음과 같이 사용한다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = () -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">String result = lambda.run();</span><br></pre></td></tr></table></figure>
<p>실행구문이 한 줄인 경우 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = () -&gt; <span class="string">&quot;Hello World&quot;</span>;</span><br><span class="line"></span><br><span class="line">String result = lambda.run();</span><br></pre></td></tr></table></figure>

<h3 id="3-매개변수가-있고-반환값은-없는-람다식"><a href="#3-매개변수가-있고-반환값은-없는-람다식" class="headerlink" title="(3) 매개변수가 있고 반환값은 없는 람다식"></a>(3) 매개변수가 있고 반환값은 없는 람다식</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">run</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; &#123;</span><br><span class="line">    System.out.println(a+b);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">lambda.run(<span class="number">3</span>, <span class="number">7</span>);   <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p>람다식의 구문이 한 줄인 경우 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; System.out.println(a+b);</span><br><span class="line"></span><br><span class="line">lambda.run(<span class="number">3</span>, <span class="number">7</span>);   <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>
<p>람다식에서는 매개변수의 자료형을 제외할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (a, b) -&gt; System.out.println(a+b);</span><br><span class="line"></span><br><span class="line">lambda.run(<span class="number">3</span>, <span class="number">7</span>);   <span class="comment">// 10</span></span><br></pre></td></tr></table></figure>

<h3 id="4-매개변수가-있고-반환값도-있는-람다식"><a href="#4-매개변수가-있고-반환값도-있는-람다식" class="headerlink" title="(4) 매개변수가 있고 반환값도 있는 람다식"></a>(4) 매개변수가 있고 반환값도 있는 람다식</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">Lambda</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">run</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>다음과 같이 사용할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> a+b;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> result = lambda.run(<span class="number">3</span>, <span class="number">7</span>);</span><br></pre></td></tr></table></figure>
<p>실행 구문이 한 줄인 경우 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (<span class="keyword">int</span> a, <span class="keyword">int</span> b) -&gt; a + b;</span><br><span class="line"><span class="keyword">int</span> result = lambda.run(<span class="number">3</span>, <span class="number">7</span>);</span><br></pre></td></tr></table></figure>
<p>람다식에서는 매개변수의 자료형을 제외할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Lambda lambda = (a, b) -&gt; a + b;</span><br><span class="line"><span class="keyword">int</span> result = lambda.run(<span class="number">3</span>, <span class="number">7</span>);</span><br></pre></td></tr></table></figure>

<h1 id="사전에-정의된-함수형-인터페이스"><a href="#사전에-정의된-함수형-인터페이스" class="headerlink" title="사전에 정의된 함수형 인터페이스"></a>사전에 정의된 함수형 인터페이스</h1><p>Java API에서는 자주 사용될 것 같은 함수형 인터페이스가 이미 정의되어있다.</p>
<h3 id="1-Supplier"><a href="#1-Supplier" class="headerlink" title="(1) Supplier "></a>(1) Supplier <T></h3><p>매개변수 없이 반환값만 갖는 함수형 인터페이스다. Supplier는 <code>T get()</code>라는 추상 메소드를 가진다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 정의</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Supplier</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">    <span class="function">T <span class="title">get</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용 방법</span></span><br><span class="line">Supplier&lt;String&gt; supplier = () -&gt; <span class="string">&quot;Hello World!&quot;</span>;</span><br><span class="line"></span><br><span class="line">System.out.println(supplier.get());     <span class="comment">// &quot;Hello World!&quot;</span></span><br></pre></td></tr></table></figure>
<h3 id="2-Consumer"><a href="#2-Consumer" class="headerlink" title="(2) Consumer "></a>(2) Consumer <T></h3><p>매개변수가 있고 반환값은 없는 함수형 인터페이스다. Consumer는 <code>void accept(T t)</code>라는 추상 메소드를 가진다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 정의</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Consumer</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(T t)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Consumer&lt;T&gt; <span class="title">andThen</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; after)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> (T t) -&gt; &#123; accept(t); after.accept(t); &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용 방법</span></span><br><span class="line">Consumer&lt;String&gt; consumer = (String name) -&gt; &#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">consumer.accept(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="3-Function-lt-T-R-gt"><a href="#3-Function-lt-T-R-gt" class="headerlink" title="(3) Function &lt;T, R&gt;"></a>(3) Function &lt;T, R&gt;</h3><p>매개변수도 있고 반환값도 있는 함수형 인터페이스다. Function은 <code>R apply(T t)</code>라는 추상 메소드를 가진다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 정의</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Function</span>&lt;<span class="title">T</span>, <span class="title">R</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function">R <span class="title">apply</span><span class="params">(T t)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; <span class="function">Function&lt;V, R&gt; <span class="title">compose</span><span class="params">(Function&lt;? <span class="keyword">super</span> V, ? extends T&gt; before)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(before);</span><br><span class="line">        <span class="keyword">return</span> (V v) -&gt; apply(before.apply(v));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; <span class="function">Function&lt;T, V&gt; <span class="title">andThen</span><span class="params">(Function&lt;? <span class="keyword">super</span> R, ? extends V&gt; after)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> (T t) -&gt; after.apply(apply(t));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; <span class="function">Function&lt;T, T&gt; <span class="title">identity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t -&gt; t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용법</span></span><br><span class="line">Function&lt;String, Integer&gt; function = (String str) -&gt; &#123;</span><br><span class="line">    str.length();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">function.apply(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>
<h3 id="4-Predicate"><a href="#4-Predicate" class="headerlink" title="(4) Predicate "></a>(4) Predicate <T></h3><p>매개변수가 있고 <code>boolean</code>타입의 값을 반환한다. Supplier는 <code>boolean test(T t)</code>라는 추상 메소드를 가진다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 정의</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Predicate</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">boolean</span> <span class="title">test</span><span class="params">(T t)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Predicate&lt;T&gt; <span class="title">and</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> T&gt; other)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(other);</span><br><span class="line">        <span class="keyword">return</span> (t) -&gt; test(t) &amp;&amp; other.test(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Predicate&lt;T&gt; <span class="title">negate</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (t) -&gt; !test(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Predicate&lt;T&gt; <span class="title">or</span><span class="params">(Predicate&lt;? <span class="keyword">super</span> T&gt; other)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(other);</span><br><span class="line">        <span class="keyword">return</span> (t) -&gt; test(t) || other.test(t);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; <span class="function">Predicate&lt;T&gt; <span class="title">isEqual</span><span class="params">(Object targetRef)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">null</span> == targetRef)</span><br><span class="line">                ? Objects::isNull</span><br><span class="line">                : object -&gt; targetRef.equals(object);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 사용 방법</span></span><br><span class="line">Predicate&lt;String&gt; predicate = (str) -&gt; str.equals(<span class="string">&quot;Hello World&quot;</span>);</span><br><span class="line"></span><br><span class="line">predicate.test(<span class="string">&quot;Hello World&quot;</span>);</span><br></pre></td></tr></table></figure>

<h1 id="안드로이드에서의-람다식"><a href="#안드로이드에서의-람다식" class="headerlink" title="안드로이드에서의 람다식"></a>안드로이드에서의 람다식</h1><p>람다식은 안드로이드 어플리케이션 개발에서도 자주 사용된다. 보통 버튼같은 위젯을 클릭했을 때 실행할 구문을 람다식 안에 구현한다.</p>
<p>우선 람다식를 사용하지 않고 익명 클래스를 사용하여 특정 버튼을 클릭했을 때 실행할 구문을 등록해보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Button button = findViewById(R.id.button);</span><br><span class="line"></span><br><span class="line">button.setOnTouchListener(<span class="keyword">new</span> View.OnTouchListener() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouch</span><span class="params">(View v, MotionEvent event)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>람다식를 사용하면 다음과 같이 단축할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button.setOnTouchListener((View v, MotionEvent event) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>람다식에서는 데이터 타입도 생략할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">button.setOnTouchListener((v, event) -&gt; &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>함수의 몸체가 한 줄일 때는 <code>중괄호&#123;&#125;</code>도 생략하여 한 줄로 표현할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">button.setOnTouchListener((v, event) -&gt; <span class="keyword">false</span>);</span><br></pre></td></tr></table></figure>
<p>매개변수가 한 개일 때는 <code>소괄호()</code>도 생략할 수 있다.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">button.setOnClickListener(v -&gt; System.out.println(<span class="string">&quot;Button clicked.&quot;</span>));</span><br></pre></td></tr></table></figure>
                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/02/04_java/190202_lambda_functional_interface/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    
    <article class="postShorten postShorten--thumbnailimg-bottom">
        <div class="postShorten-wrap">
            
            <div class="postShorten-header">
                <h1 class="postShorten-title">
                    
                        <a
                            class="link-unstyled"
                            href="/ko/2019/02/01/04_java/190201_functional_programming/"
                            aria-label=": [Java 8] 일급 객체와 함수형 프로그래밍"
                        >
                            [Java 8] 일급 객체와 함수형 프로그래밍
                        </a>
                    
                </h1>
                <div class="postShorten-meta">
    <time datetime="2019-02-01T00:00:00+09:00">
	
		    2019/02/01
    	
    </time>
    
        <span>카테고리 </span>
        
    <a class="category-link" href="/ko/categories/Java/">Java</a>, <a class="category-link" href="/ko/categories/Java/Java-8/">Java 8</a>


    
</div>

            </div>
            
                <div class="postShorten-content">
                    <hr>
<h1 id="일급-객체"><a href="#일급-객체" class="headerlink" title="일급 객체"></a>일급 객체</h1><p>다음 세 가지 조건을 모두 충족하면 일급 객체라고 한다.</p>
<ol>
<li>변수나 상수에 할당할 수 있어야 한다.</li>
<li>함수의 인자로 전달할 수 있어야 한다.</li>
<li>함수의 반환값으로 반환할 수 있어야 한다.</li>
</ol>
<p>Kotlin에서 함수는 일급 객체다. 그러나 Java에서 함수는 일급 객체가 아니다. 우선 Kotlin 예제를 살펴보자.</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">printHelloWorld</span><span class="params">()</span></span> &#123;</span><br><span class="line">    println(<span class="string">&quot;Hello World.&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 함수를 변수에 할당할 수 있다.</span></span><br><span class="line"><span class="keyword">var</span> method = ::printHelloWorld</span><br><span class="line"></span><br><span class="line"><span class="comment">// 호출</span></span><br><span class="line">method()</span><br></pre></td></tr></table></figure>
<p>이처럼 Kotlin은 함수를 변수에 할당할 수 있으며, 함수를 일급 객체로 취급한다. 그러면 Java 예제를 살펴보자.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">printHelloWorld</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;Hello World.&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 함수를 변수에 할당할 수 없다.</span></span><br><span class="line">Object method = printHelloWorld;    <span class="comment">// 에러</span></span><br></pre></td></tr></table></figure>
<p>Kotlin은 함수를 함수의 인자로 전달할 수 있고 함수의 반환값으로 반환할 수 있다. 반면 Java는 함수를 함수의 인자로 전달할 수 없으며 함수의 반환값으로 반환할 수도 없다.</p>
<h1 id="함수형-프로그래밍-언어"><a href="#함수형-프로그래밍-언어" class="headerlink" title="함수형 프로그래밍 언어"></a>함수형 프로그래밍 언어</h1><p><code>함수형 프로그래밍(Functional Programming)</code> 언어는 <u>함수를 일급 객체로 간주하여 변수에도 할당할 수 있고, 함수의 인자로 전달할 수 있으며, 함수의 반환값으로 반환할 수 있는 언어</u>를 의미한다.</p>

                    
                        


                    
                    
                        <p>
                            <a
                                href="/ko/2019/02/01/04_java/190201_functional_programming/#post-footer"
                                class="postShorten-excerpt_link link"
                                aria-label=""
                            >
                                댓글 공유
                            </a>
                        </p>
                    
                </div>
            
        </div>
        
    </article>
    
    <div class="pagination-bar">
    <ul class="pagination">
        
        
        <li class="pagination-number">page 1 of 1</li>
    </ul>
</div>

</section>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2022 yologger. All Rights Reserved.
    </span>
</footer>

            </div>
            
        </div>
        


<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <h4 id="about-card-name">yologger</h4>
        
            <div id="about-card-bio"><p>author.bio</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>author.job</p>

            </div>
        
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/ko/assets/images/background.png');"></div>
        <!--SCRIPTS-->

<script src="/ko/assets/js/script-s1qf4dycbfqqmgvjljlv3c81jri2dhkbfsbrr18gdsntpulta4iextu4bozl.min.js"></script>

<!--SCRIPTS END-->





    </body>
</html>
